{"version":3,"file":"static/js/main.9c169536.js","mappings":"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","sources":["client/lib/query-client.ts","client/constants/theme.ts","client/hooks/useTheme.ts","client/hooks/useColorScheme.web.ts","client/components/ThemedText.tsx","client/components/Card.tsx","client/components/StatCard.tsx","client/components/ProgressBar.tsx","client/components/MacroDisplay.tsx","client/components/WeeklyChart.tsx","client/components/FAB.tsx","client/lib/store.ts","client/lib/auth.tsx","client/screens/HomeScreen.tsx","client/components/HeaderTitle.tsx","client/hooks/useScreenOptions.ts","client/navigation/HomeStackNavigator.tsx","client/components/WorkoutCard.tsx","client/components/ScheduleGrid.tsx","client/screens/WorkoutsScreen.tsx","client/components/KeyboardAwareScrollViewCompat.tsx","client/components/Button.tsx","client/screens/CreateWorkoutScreen.tsx","client/screens/WorkoutDetailScreen.tsx","client/components/ThemedView.tsx","client/screens/ActiveWorkoutScreen.tsx","client/navigation/WorkoutsStackNavigator.tsx","client/components/FoodItem.tsx","client/components/MealSection.tsx","client/components/CircularProgress.tsx","client/screens/NutritionScreen.tsx","client/screens/AddFoodScreen.tsx","client/screens/FoodDatabaseScreen.tsx","client/screens/ScanNutritionScreen.tsx","client/screens/MealCreatorScreen.tsx","client/screens/MyMealsScreen.tsx","client/screens/LogMealScreen.tsx","client/screens/EditFoodScreen.tsx","client/navigation/NutritionStackNavigator.tsx","client/components/LineGraph.tsx","client/screens/CalendarScreen.tsx","client/screens/ExerciseProgressScreen.tsx","client/navigation/CalendarStackNavigator.tsx","client/screens/ProfileScreen.tsx","client/screens/GoalsScreen.tsx","client/screens/BackupScreen.tsx","client/navigation/ProfileStackNavigator.tsx","client/navigation/MainTabNavigator.tsx","client/screens/AuthScreen.tsx","client/navigation/RootStackNavigator.tsx","client/components/ErrorFallback.tsx","client/components/ErrorBoundary.tsx","client/App.tsx","client/index.js","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nconst SESSION_KEY = \"novafit_session_id\";\n\nasync function getSessionToken(): Promise<string | null> {\n  try {\n    return await AsyncStorage.getItem(SESSION_KEY);\n  } catch {\n    return null;\n  }\n}\n\n/**\n * Gets the base URL for the Express API server (e.g., \"http://localhost:3000\")\n * @returns {string} The API base URL\n */\nexport function getApiUrl(): string {\n  let host = process.env.EXPO_PUBLIC_DOMAIN;\n\n  if (!host) {\n    throw new Error(\"EXPO_PUBLIC_DOMAIN is not set\");\n  }\n\n  let url = new URL(`https://${host}`);\n\n  return url.href;\n}\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  route: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const baseUrl = getApiUrl();\n  const url = new URL(route, baseUrl);\n  \n  const sessionToken = await getSessionToken();\n  const headers: Record<string, string> = {};\n  \n  if (data) {\n    headers[\"Content-Type\"] = \"application/json\";\n  }\n  \n  if (sessionToken) {\n    headers[\"Authorization\"] = `Bearer ${sessionToken}`;\n  }\n\n  const res = await fetch(url, {\n    method,\n    headers,\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const baseUrl = getApiUrl();\n    const url = new URL(queryKey.join(\"/\") as string, baseUrl);\n    \n    const sessionToken = await getSessionToken();\n    const headers: Record<string, string> = {};\n    \n    if (sessionToken) {\n      headers[\"Authorization\"] = `Bearer ${sessionToken}`;\n    }\n\n    const res = await fetch(url, {\n      headers,\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n\nexport function clearAuthCache() {\n  queryClient.clear();\n}\n\nexport function invalidateAllQueries() {\n  queryClient.invalidateQueries();\n}\n","import { Platform } from \"react-native\";\n\n// Celestial Theme - Deep space with cosmic accents\nconst primaryColor = \"#7B68EE\"; // Medium slate blue (starlight)\nconst primaryDark = \"#5D4DB3\";\nconst primaryLight = \"#9D8FFF\";\nconst accentColor = \"#F0A8D0\"; // Soft nebula pink\n\nexport const Colors = {\n  light: {\n    text: \"#2D2D3A\",\n    textSecondary: \"#5A5A6E\",\n    buttonText: \"#FFFFFF\",\n    tabIconDefault: \"#9E9EAE\",\n    tabIconSelected: primaryColor,\n    link: primaryColor,\n    primary: primaryColor,\n    primaryDark: primaryDark,\n    primaryLight: primaryLight,\n    accent: accentColor,\n    backgroundRoot: \"#F8F8FC\",\n    backgroundDefault: \"#F0F0F8\",\n    backgroundSecondary: \"#E8E8F2\",\n    backgroundTertiary: \"#E0E0EC\",\n    border: \"#D8D8E6\",\n    success: \"#6BBF8A\",\n    warning: \"#F4C56A\",\n    error: \"#E07A7A\",\n    info: \"#6BAADD\",\n    protein: \"#6BBF8A\",\n    carbs: \"#F4A5B8\",\n    fats: \"#6BAADD\",\n    calories: primaryColor,\n    // Workout category colors - celestial palette\n    workoutStrength: \"#E07A5F\",\n    workoutCardio: \"#6BAADD\",\n    workoutCore: \"#F4C56A\",\n    workoutFlexibility: \"#9B7BB8\",\n    workoutCustom: \"#5B9A7A\",\n  },\n  dark: {\n    text: \"#E8E8F0\",\n    textSecondary: \"#A0A0B8\",\n    buttonText: \"#FFFFFF\",\n    tabIconDefault: \"#6B6B80\",\n    tabIconSelected: primaryLight,\n    link: primaryLight,\n    primary: primaryColor,\n    primaryDark: primaryDark,\n    primaryLight: primaryLight,\n    accent: accentColor,\n    backgroundRoot: \"#0D0D14\",\n    backgroundDefault: \"#14141E\",\n    backgroundSecondary: \"#1E1E2A\",\n    backgroundTertiary: \"#282836\",\n    border: \"#363648\",\n    success: \"#6BBF8A\",\n    warning: \"#F4C56A\",\n    error: \"#E07A7A\",\n    info: \"#6BAADD\",\n    protein: \"#6BBF8A\",\n    carbs: \"#F4A5B8\",\n    fats: \"#6BAADD\",\n    calories: primaryLight,\n    // Workout category colors - celestial palette\n    workoutStrength: \"#E07A5F\",\n    workoutCardio: \"#6BAADD\",\n    workoutCore: \"#F4C56A\",\n    workoutFlexibility: \"#9B7BB8\",\n    workoutCustom: \"#5B9A7A\",\n  },\n};\n\nexport const Spacing = {\n  xs: 4,\n  sm: 8,\n  md: 12,\n  lg: 16,\n  xl: 24,\n  \"2xl\": 32,\n  \"3xl\": 40,\n  \"4xl\": 48,\n  \"5xl\": 56,\n  inputHeight: 48,\n  buttonHeight: 48,\n  fabSize: 60,\n  listItemHeight: 64,\n};\n\nexport const BorderRadius = {\n  xs: 4,\n  sm: 8,\n  md: 12,\n  lg: 16,\n  xl: 20,\n  \"2xl\": 24,\n  \"3xl\": 32,\n  full: 9999,\n};\n\nexport const Typography = {\n  h1: {\n    fontSize: 32,\n    fontWeight: \"600\" as const,\n    letterSpacing: -0.4,\n  },\n  h2: {\n    fontSize: 24,\n    fontWeight: \"600\" as const,\n  },\n  h3: {\n    fontSize: 20,\n    fontWeight: \"600\" as const,\n  },\n  h4: {\n    fontSize: 18,\n    fontWeight: \"500\" as const,\n  },\n  body: {\n    fontSize: 17,\n    fontWeight: \"400\" as const,\n    lineHeight: 24,\n  },\n  small: {\n    fontSize: 15,\n    fontWeight: \"400\" as const,\n  },\n  caption: {\n    fontSize: 13,\n    fontWeight: \"500\" as const,\n    textTransform: \"uppercase\" as const,\n    letterSpacing: 0.5,\n  },\n  link: {\n    fontSize: 17,\n    fontWeight: \"400\" as const,\n  },\n};\n\nexport const Shadows = {\n  card: {\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.06,\n    shadowRadius: 8,\n    elevation: 2,\n  },\n  fab: {\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.12,\n    shadowRadius: 8,\n    elevation: 4,\n  },\n};\n\nexport const Fonts = Platform.select({\n  ios: {\n    sans: \"system-ui\",\n    serif: \"ui-serif\",\n    rounded: \"ui-rounded\",\n    mono: \"ui-monospace\",\n  },\n  default: {\n    sans: \"normal\",\n    serif: \"serif\",\n    rounded: \"normal\",\n    mono: \"monospace\",\n  },\n  web: {\n    sans: \"system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif\",\n    serif: \"Georgia, 'Times New Roman', serif\",\n    rounded:\n      \"'SF Pro Rounded', 'Hiragino Maru Gothic ProN', Meiryo, 'MS PGothic', sans-serif\",\n    mono: \"SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace\",\n  },\n});\n","import { Colors } from \"@/constants/theme\";\nimport { useColorScheme } from \"@/hooks/useColorScheme\";\n\nexport function useTheme() {\n  const colorScheme = useColorScheme();\n  const isDark = colorScheme === \"dark\";\n  const theme = Colors[colorScheme ?? \"light\"];\n\n  return {\n    theme,\n    isDark,\n  };\n}\n","import { useEffect, useState } from \"react\";\nimport { useColorScheme as useRNColorScheme } from \"react-native\";\n\n/**\n * To support static rendering, this value needs to be re-calculated on the client side for web\n */\nexport function useColorScheme() {\n  const [hasHydrated, setHasHydrated] = useState(false);\n\n  useEffect(() => {\n    setHasHydrated(true);\n  }, []);\n\n  const colorScheme = useRNColorScheme();\n\n  if (hasHydrated) {\n    return colorScheme;\n  }\n\n  return \"light\";\n}\n","import { Text, type TextProps } from \"react-native\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Typography } from \"@/constants/theme\";\n\nexport type ThemedTextProps = TextProps & {\n  lightColor?: string;\n  darkColor?: string;\n  type?: \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"body\" | \"small\" | \"link\";\n};\n\nexport function ThemedText({\n  style,\n  lightColor,\n  darkColor,\n  type = \"body\",\n  ...rest\n}: ThemedTextProps) {\n  const { theme, isDark } = useTheme();\n\n  const getColor = () => {\n    if (isDark && darkColor) {\n      return darkColor;\n    }\n\n    if (!isDark && lightColor) {\n      return lightColor;\n    }\n\n    if (type === \"link\") {\n      return theme.link;\n    }\n\n    return theme.text;\n  };\n\n  const getTypeStyle = () => {\n    switch (type) {\n      case \"h1\":\n        return Typography.h1;\n      case \"h2\":\n        return Typography.h2;\n      case \"h3\":\n        return Typography.h3;\n      case \"h4\":\n        return Typography.h4;\n      case \"body\":\n        return Typography.body;\n      case \"small\":\n        return Typography.small;\n      case \"link\":\n        return Typography.link;\n      default:\n        return Typography.body;\n    }\n  };\n\n  return (\n    <Text style={[{ color: getColor() }, getTypeStyle(), style]} {...rest} />\n  );\n}\n","import React from \"react\";\nimport { StyleSheet, Pressable, ViewStyle } from \"react-native\";\nimport Animated, {\n  useAnimatedStyle,\n  useSharedValue,\n  withSpring,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\n\ninterface CardProps {\n  elevation?: number;\n  title?: string;\n  description?: string;\n  children?: React.ReactNode;\n  onPress?: () => void;\n  style?: ViewStyle;\n}\n\nconst springConfig: WithSpringConfig = {\n  damping: 15,\n  mass: 0.3,\n  stiffness: 150,\n  overshootClamping: true,\n  energyThreshold: 0.001,\n};\n\nconst getBackgroundColorForElevation = (\n  elevation: number,\n  theme: any,\n): string => {\n  switch (elevation) {\n    case 1:\n      return theme.backgroundDefault;\n    case 2:\n      return theme.backgroundSecondary;\n    case 3:\n      return theme.backgroundTertiary;\n    default:\n      return theme.backgroundRoot;\n  }\n};\n\nconst AnimatedPressable = Animated.createAnimatedComponent(Pressable);\n\nexport function Card({\n  elevation = 1,\n  title,\n  description,\n  children,\n  onPress,\n  style,\n}: CardProps) {\n  const { theme } = useTheme();\n  const scale = useSharedValue(1);\n\n  const cardBackgroundColor = getBackgroundColorForElevation(elevation, theme);\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: scale.value }],\n  }));\n\n  const handlePressIn = () => {\n    scale.value = withSpring(0.98, springConfig);\n  };\n\n  const handlePressOut = () => {\n    scale.value = withSpring(1, springConfig);\n  };\n\n  return (\n    <AnimatedPressable\n      onPress={onPress}\n      onPressIn={handlePressIn}\n      onPressOut={handlePressOut}\n      style={[\n        styles.card,\n        {\n          backgroundColor: cardBackgroundColor,\n        },\n        animatedStyle,\n        style,\n      ]}\n    >\n      {title ? (\n        <ThemedText type=\"h4\" style={styles.cardTitle}>\n          {title}\n        </ThemedText>\n      ) : null}\n      {description ? (\n        <ThemedText type=\"small\" style={styles.cardDescription}>\n          {description}\n        </ThemedText>\n      ) : null}\n      {children}\n    </AnimatedPressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  card: {\n    padding: Spacing.xl,\n    borderRadius: BorderRadius[\"2xl\"],\n  },\n  cardTitle: {\n    marginBottom: Spacing.sm,\n  },\n  cardDescription: {\n    opacity: 0.7,\n  },\n});\n","import React from \"react\";\nimport { View, StyleSheet } from \"react-native\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Card } from \"@/components/Card\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\n\ninterface StatCardProps {\n  icon: keyof typeof Feather.glyphMap;\n  label: string;\n  value: string | number;\n  subtitle?: string;\n  color?: string;\n  onPress?: () => void;\n}\n\nexport function StatCard({\n  icon,\n  label,\n  value,\n  subtitle,\n  color,\n  onPress,\n}: StatCardProps) {\n  const { theme } = useTheme();\n  const iconColor = color || theme.primary;\n\n  return (\n    <Card style={styles.container} onPress={onPress}>\n      <View style={[styles.iconContainer, { backgroundColor: `${iconColor}20` }]}>\n        <Feather name={icon} size={20} color={iconColor} />\n      </View>\n      <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n        {label}\n      </ThemedText>\n      <ThemedText type=\"h3\">{value}</ThemedText>\n      {subtitle ? (\n        <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n          {subtitle}\n        </ThemedText>\n      ) : null}\n    </Card>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  iconContainer: {\n    width: 40,\n    height: 40,\n    borderRadius: BorderRadius.md,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginBottom: Spacing.sm,\n  },\n});\n","import React, { useEffect } from \"react\";\nimport { View, StyleSheet, ViewStyle } from \"react-native\";\nimport Animated, {\n  useSharedValue,\n  useAnimatedStyle,\n  withTiming,\n  Easing,\n} from \"react-native-reanimated\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { BorderRadius } from \"@/constants/theme\";\n\ninterface ProgressBarProps {\n  progress: number;\n  color?: string;\n  backgroundColor?: string;\n  height?: number;\n  style?: ViewStyle;\n}\n\nexport function ProgressBar({\n  progress,\n  color,\n  backgroundColor,\n  height = 8,\n  style,\n}: ProgressBarProps) {\n  const { theme } = useTheme();\n  const animatedProgress = useSharedValue(0);\n\n  useEffect(() => {\n    animatedProgress.value = withTiming(Math.min(progress, 1), {\n      duration: 500,\n      easing: Easing.out(Easing.ease),\n    });\n  }, [progress]);\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    width: `${animatedProgress.value * 100}%`,\n  }));\n\n  return (\n    <View\n      style={[\n        styles.container,\n        {\n          height,\n          backgroundColor: backgroundColor || theme.border,\n          borderRadius: height / 2,\n        },\n        style,\n      ]}\n    >\n      <Animated.View\n        style={[\n          styles.progress,\n          {\n            backgroundColor: color || theme.primary,\n            borderRadius: height / 2,\n          },\n          animatedStyle,\n        ]}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    overflow: \"hidden\",\n  },\n  progress: {\n    height: \"100%\",\n  },\n});\n","import React from \"react\";\nimport { View, StyleSheet } from \"react-native\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { ProgressBar } from \"@/components/ProgressBar\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing } from \"@/constants/theme\";\n\ninterface MacroDisplayProps {\n  label: string;\n  current: number;\n  goal: number;\n  color: string;\n  unit?: string;\n}\n\nexport function MacroDisplay({\n  label,\n  current,\n  goal,\n  color,\n  unit = \"g\",\n}: MacroDisplayProps) {\n  const { theme } = useTheme();\n  const progress = goal > 0 ? current / goal : 0;\n\n  return (\n    <View style={styles.container}>\n      <ThemedText type=\"small\" style={[styles.label, { color }]}>\n        {label}\n      </ThemedText>\n      <ProgressBar progress={progress} color={color} height={6} />\n      <ThemedText type=\"small\" style={[styles.value, { color: theme.textSecondary }]}>\n        {Math.round(current)}/{goal}{unit}\n      </ThemedText>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n  },\n  label: {\n    marginBottom: Spacing.xs,\n    fontSize: 14,\n  },\n  value: {\n    marginTop: Spacing.xs,\n    fontSize: 12,\n  },\n});\n","import React from \"react\";\nimport { View, StyleSheet, Dimensions } from \"react-native\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\n\ninterface WeeklyChartProps {\n  data: { day: string; value: number; completed?: boolean }[];\n  maxValue?: number;\n  label?: string;\n  color?: string;\n}\n\nconst { width: screenWidth } = Dimensions.get(\"window\");\n\nexport function WeeklyChart({\n  data,\n  maxValue,\n  label,\n  color,\n}: WeeklyChartProps) {\n  const { theme } = useTheme();\n  const chartColor = color || theme.primary;\n  const max = maxValue || Math.max(...data.map((d) => d.value), 1);\n\n  return (\n    <View style={styles.container}>\n      {label ? (\n        <ThemedText type=\"small\" style={[styles.label, { color: theme.textSecondary }]}>\n          {label}\n        </ThemedText>\n      ) : null}\n      <View style={styles.chart}>\n        {data.map((item, index) => {\n          const height = (item.value / max) * 80;\n          return (\n            <View key={index} style={styles.barContainer}>\n              <View\n                style={[\n                  styles.bar,\n                  {\n                    height: Math.max(height, 4),\n                    backgroundColor: item.completed ? chartColor : theme.border,\n                  },\n                ]}\n              />\n              <ThemedText\n                type=\"small\"\n                style={[styles.dayLabel, { color: theme.textSecondary }]}\n              >\n                {item.day}\n              </ThemedText>\n            </View>\n          );\n        })}\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingVertical: Spacing.md,\n  },\n  label: {\n    marginBottom: Spacing.sm,\n  },\n  chart: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"flex-end\",\n    height: 100,\n  },\n  barContainer: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n  },\n  bar: {\n    width: 24,\n    borderRadius: BorderRadius.sm,\n    marginBottom: Spacing.xs,\n  },\n  dayLabel: {\n    fontSize: 10,\n  },\n});\n","import React, { useState } from \"react\";\nimport { View, StyleSheet, Pressable, Modal } from \"react-native\";\nimport Animated, {\n  useSharedValue,\n  useAnimatedStyle,\n  withSpring,\n  withTiming,\n  interpolate,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useBottomTabBarHeight } from \"@react-navigation/bottom-tabs\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius, Shadows } from \"@/constants/theme\";\n\ninterface FABAction {\n  icon: keyof typeof Feather.glyphMap;\n  label: string;\n  onPress: () => void;\n}\n\ninterface FABProps {\n  actions: FABAction[];\n}\n\nconst springConfig: WithSpringConfig = {\n  damping: 15,\n  mass: 0.5,\n  stiffness: 150,\n};\n\nconst AnimatedPressable = Animated.createAnimatedComponent(Pressable);\n\nexport function FAB({ actions }: FABProps) {\n  const { theme } = useTheme();\n  const insets = useSafeAreaInsets();\n  const tabBarHeight = useBottomTabBarHeight();\n  const [isOpen, setIsOpen] = useState(false);\n  const expanded = useSharedValue(0);\n  const scale = useSharedValue(1);\n\n  const toggleMenu = () => {\n    if (isOpen) {\n      expanded.value = withTiming(0, { duration: 200 });\n    } else {\n      expanded.value = withSpring(1, springConfig);\n    }\n    setIsOpen(!isOpen);\n  };\n\n  const handleAction = (action: FABAction) => {\n    expanded.value = withTiming(0, { duration: 200 });\n    setIsOpen(false);\n    action.onPress();\n  };\n\n  const handlePressIn = () => {\n    scale.value = withSpring(0.95, springConfig);\n  };\n\n  const handlePressOut = () => {\n    scale.value = withSpring(1, springConfig);\n  };\n\n  const fabStyle = useAnimatedStyle(() => ({\n    transform: [\n      { scale: scale.value },\n      { rotate: `${interpolate(expanded.value, [0, 1], [0, 45])}deg` },\n    ],\n  }));\n\n  const overlayStyle = useAnimatedStyle(() => ({\n    opacity: expanded.value * 0.5,\n    pointerEvents: expanded.value > 0 ? \"auto\" : \"none\",\n  }));\n\n  return (\n    <>\n      <Animated.View\n        style={[\n          StyleSheet.absoluteFill,\n          { backgroundColor: \"#000\" },\n          overlayStyle,\n        ]}\n      >\n        <Pressable style={StyleSheet.absoluteFill} onPress={toggleMenu} />\n      </Animated.View>\n\n      <View\n        style={[\n          styles.container,\n          { bottom: tabBarHeight + Spacing.xl, right: Spacing.lg },\n        ]}\n      >\n        {actions.map((action, index) => {\n          const actionStyle = useAnimatedStyle(() => {\n            const translateY = interpolate(\n              expanded.value,\n              [0, 1],\n              [0, -(index + 1) * 70]\n            );\n            const opacity = interpolate(expanded.value, [0, 0.5, 1], [0, 0, 1]);\n            const actionScale = interpolate(\n              expanded.value,\n              [0, 0.5, 1],\n              [0.5, 0.8, 1]\n            );\n            return {\n              transform: [{ translateY }, { scale: actionScale }],\n              opacity,\n            };\n          });\n\n          return (\n            <Animated.View key={action.label} style={[styles.action, actionStyle]}>\n              <Pressable\n                style={[styles.actionButton, { backgroundColor: theme.primary }]}\n                onPress={() => handleAction(action)}\n              >\n                <View style={styles.actionContent}>\n                  <ThemedText\n                    type=\"small\"\n                    style={[styles.actionLabel, { color: \"#FFF\" }]}\n                  >\n                    {action.label}\n                  </ThemedText>\n                  <View\n                    style={[\n                      styles.actionIcon,\n                      { backgroundColor: theme.primaryLight },\n                    ]}\n                  >\n                    <Feather name={action.icon} size={20} color=\"#FFF\" />\n                  </View>\n                </View>\n              </Pressable>\n            </Animated.View>\n          );\n        })}\n\n        <AnimatedPressable\n          onPress={toggleMenu}\n          onPressIn={handlePressIn}\n          onPressOut={handlePressOut}\n          style={[\n            styles.fab,\n            { backgroundColor: theme.primary },\n            Shadows.fab,\n            fabStyle,\n          ]}\n        >\n          <Feather name=\"plus\" size={24} color=\"#FFF\" />\n        </AnimatedPressable>\n      </View>\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    position: \"absolute\",\n    alignItems: \"flex-end\",\n  },\n  fab: {\n    width: Spacing.fabSize,\n    height: Spacing.fabSize,\n    borderRadius: BorderRadius.full,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  action: {\n    position: \"absolute\",\n    bottom: 0,\n    right: 0,\n  },\n  actionButton: {\n    borderRadius: BorderRadius.full,\n    overflow: \"hidden\",\n  },\n  actionContent: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingLeft: Spacing.lg,\n  },\n  actionLabel: {\n    fontWeight: \"600\",\n    marginRight: Spacing.sm,\n  },\n  actionIcon: {\n    width: 44,\n    height: 44,\n    borderRadius: BorderRadius.full,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n});\n","import { useState, useCallback } from \"react\";\n\nexport interface Exercise {\n  id: string;\n  name: string;\n  sets: number;\n  reps: number;\n  weight: number;\n  isBodyweight?: boolean;\n  notes?: string;\n}\n\nexport interface Workout {\n  id: string;\n  name: string;\n  exercises: Exercise[];\n  scheduledDays: number[];\n  color: string;\n  createdAt: Date;\n}\n\nexport interface WorkoutLog {\n  id: string;\n  workoutId: string;\n  workoutName: string;\n  completedAt: Date;\n  duration: number;\n  exerciseLogs: ExerciseLog[];\n  notes?: string;\n}\n\nexport interface ExerciseLog {\n  exerciseId: string;\n  name: string;\n  sets: SetLog[];\n  isBodyweight?: boolean;\n}\n\nexport interface SetLog {\n  reps: number;\n  weight: number;\n  completed: boolean;\n}\n\nexport interface Food {\n  id: string;\n  name: string;\n  servingSize: string;\n  calories: number;\n  protein: number;\n  carbs: number;\n  fats: number;\n  fiber: number;\n  isSaved: boolean;\n  createdAt: Date;\n}\n\nexport interface FoodEntry {\n  id: string;\n  foodId: string;\n  food: Food;\n  mealType: \"breakfast\" | \"lunch\" | \"dinner\" | \"snack\";\n  servings: number;\n  date: string;\n  createdAt: Date;\n}\n\nexport interface UserProfile {\n  name: string;\n  avatar: \"mercury\" | \"venus\" | \"earth\" | \"mars\" | \"jupiter\" | \"saturn\" | \"uranus\" | \"neptune\";\n  units: \"metric\" | \"imperial\";\n  goals: {\n    dailyCalories: number;\n    dailyProtein: number;\n    dailyCarbs: number;\n    dailyFats: number;\n    weeklyWorkouts: number;\n    targetWeight: number;\n  };\n}\n\nexport interface WeightEntry {\n  id: string;\n  weight: number;\n  date: string;\n  createdAt: Date;\n}\n\nexport interface MealIngredient {\n  id: string;\n  name: string;\n  amount: number;\n  unit: string;\n  calories: number;\n  protein: number;\n  carbs: number;\n  fats: number;\n  fiber: number;\n}\n\nexport interface Meal {\n  id: string;\n  name: string;\n  ingredients: MealIngredient[];\n  totalServings: number;\n  createdAt: Date;\n}\n\nexport interface MealNutrition {\n  calories: number;\n  protein: number;\n  carbs: number;\n  fats: number;\n  fiber: number;\n}\n\nconst generateId = () => Math.random().toString(36).substring(2, 15);\n\nconst calculateMealTotals = (ingredients: MealIngredient[]): MealNutrition => {\n  return ingredients.reduce(\n    (acc, ing) => ({\n      calories: acc.calories + ing.calories,\n      protein: acc.protein + ing.protein,\n      carbs: acc.carbs + ing.carbs,\n      fats: acc.fats + ing.fats,\n      fiber: acc.fiber + ing.fiber,\n    }),\n    { calories: 0, protein: 0, carbs: 0, fats: 0, fiber: 0 }\n  );\n};\n\nconst calculatePerServing = (totals: MealNutrition, servings: number): MealNutrition => {\n  if (servings <= 0) return totals;\n  return {\n    calories: totals.calories / servings,\n    protein: totals.protein / servings,\n    carbs: totals.carbs / servings,\n    fats: totals.fats / servings,\n    fiber: totals.fiber / servings,\n  };\n};\n\nconst defaultWorkouts: Workout[] = [];\n\nconst defaultFoods: Food[] = [];\n\nconst defaultFoodEntries: FoodEntry[] = [];\n\nconst defaultWorkoutLogs: WorkoutLog[] = [];\n\nconst defaultProfile: UserProfile = {\n  name: \"\",\n  avatar: \"earth\",\n  units: \"imperial\",\n  goals: {\n    dailyCalories: 0,\n    dailyProtein: 0,\n    dailyCarbs: 0,\n    dailyFats: 0,\n    weeklyWorkouts: 0,\n    targetWeight: 0,\n  },\n};\n\nconst defaultWeightEntries: WeightEntry[] = [];\n\nconst defaultMeals: Meal[] = [];\n\nlet workouts = [...defaultWorkouts];\nlet foods = [...defaultFoods];\nlet foodEntries = [...defaultFoodEntries];\nlet workoutLogs = [...defaultWorkoutLogs];\nlet profile = { ...defaultProfile };\nlet weightEntries = [...defaultWeightEntries];\nlet meals = [...defaultMeals];\n\nexport const useStore = () => {\n  const [, forceUpdate] = useState({});\n  const refresh = useCallback(() => forceUpdate({}), []);\n\n  return {\n    workouts,\n    foods,\n    foodEntries,\n    workoutLogs,\n    profile,\n    weightEntries,\n    meals,\n\n    addWorkout: (workout: Omit<Workout, \"id\" | \"createdAt\">) => {\n      const newWorkout = { ...workout, id: generateId(), createdAt: new Date() };\n      workouts = [...workouts, newWorkout];\n      refresh();\n      return newWorkout;\n    },\n\n    updateWorkout: (id: string, updates: Partial<Workout>) => {\n      workouts = workouts.map((w) => (w.id === id ? { ...w, ...updates } : w));\n      refresh();\n    },\n\n    deleteWorkout: (id: string) => {\n      workouts = workouts.filter((w) => w.id !== id);\n      refresh();\n    },\n\n    addFood: (food: Omit<Food, \"id\" | \"createdAt\">) => {\n      const newFood = { ...food, id: generateId(), createdAt: new Date() };\n      foods = [...foods, newFood];\n      refresh();\n      return newFood;\n    },\n\n    updateFood: (id: string, updates: Partial<Food>) => {\n      foods = foods.map((f) => (f.id === id ? { ...f, ...updates } : f));\n      refresh();\n    },\n\n    deleteFood: (id: string) => {\n      foods = foods.filter((f) => f.id !== id);\n      refresh();\n    },\n\n    addFoodEntry: (entry: Omit<FoodEntry, \"id\" | \"createdAt\">) => {\n      const newEntry = { ...entry, id: generateId(), createdAt: new Date() };\n      foodEntries = [...foodEntries, newEntry];\n      refresh();\n      return newEntry;\n    },\n\n    deleteFoodEntry: (id: string) => {\n      foodEntries = foodEntries.filter((e) => e.id !== id);\n      refresh();\n    },\n\n    addWorkoutLog: (log: Omit<WorkoutLog, \"id\">) => {\n      const newLog = { ...log, id: generateId() };\n      workoutLogs = [...workoutLogs, newLog];\n      refresh();\n      return newLog;\n    },\n\n    updateProfile: (updates: Partial<UserProfile>) => {\n      profile = { ...profile, ...updates };\n      refresh();\n    },\n\n    addWeightEntry: (weight: number, date: string) => {\n      const existingIndex = weightEntries.findIndex((e) => e.date === date);\n      if (existingIndex >= 0) {\n        weightEntries = weightEntries.map((e, i) =>\n          i === existingIndex ? { ...e, weight } : e\n        );\n      } else {\n        weightEntries = [\n          ...weightEntries,\n          { id: generateId(), weight, date, createdAt: new Date() },\n        ].sort((a, b) => a.date.localeCompare(b.date));\n      }\n      refresh();\n    },\n\n    getFoodEntriesForDate: (date: string) => {\n      return foodEntries.filter((e) => e.date === date);\n    },\n\n    getDailyNutrition: (date: string) => {\n      const entries = foodEntries.filter((e) => e.date === date);\n      return entries.reduce(\n        (acc, entry) => ({\n          calories: acc.calories + entry.food.calories * entry.servings,\n          protein: acc.protein + entry.food.protein * entry.servings,\n          carbs: acc.carbs + entry.food.carbs * entry.servings,\n          fats: acc.fats + entry.food.fats * entry.servings,\n          fiber: acc.fiber + entry.food.fiber * entry.servings,\n        }),\n        { calories: 0, protein: 0, carbs: 0, fats: 0, fiber: 0 }\n      );\n    },\n\n    getWeeklyWorkouts: () => {\n      const weekAgo = new Date(Date.now() - 7 * 86400000);\n      return workoutLogs.filter((log) => new Date(log.completedAt) >= weekAgo);\n    },\n\n    getWorkoutForDay: (dayOfWeek: number) => {\n      return workouts.find((w) => w.scheduledDays.includes(dayOfWeek));\n    },\n\n    addMeal: (meal: Omit<Meal, \"id\" | \"createdAt\">) => {\n      const newMeal = { ...meal, id: generateId(), createdAt: new Date() };\n      meals = [...meals, newMeal];\n      refresh();\n      return newMeal;\n    },\n\n    updateMeal: (id: string, updates: Partial<Meal>) => {\n      meals = meals.map((m) => (m.id === id ? { ...m, ...updates } : m));\n      refresh();\n    },\n\n    deleteMeal: (id: string) => {\n      meals = meals.filter((m) => m.id !== id);\n      refresh();\n    },\n\n    getMealById: (id: string) => {\n      return meals.find((m) => m.id === id);\n    },\n\n    getMealNutrition: (mealId: string): MealNutrition => {\n      const meal = meals.find((m) => m.id === mealId);\n      if (!meal) return { calories: 0, protein: 0, carbs: 0, fats: 0, fiber: 0 };\n      return calculateMealTotals(meal.ingredients);\n    },\n\n    getMealNutritionPerServing: (mealId: string): MealNutrition => {\n      const meal = meals.find((m) => m.id === mealId);\n      if (!meal) return { calories: 0, protein: 0, carbs: 0, fats: 0, fiber: 0 };\n      const totals = calculateMealTotals(meal.ingredients);\n      return calculatePerServing(totals, meal.totalServings);\n    },\n\n    logMealAsFood: (\n      mealId: string,\n      servingsEaten: number,\n      mealType: \"breakfast\" | \"lunch\" | \"dinner\" | \"snack\",\n      date: string\n    ) => {\n      const meal = meals.find((m) => m.id === mealId);\n      if (!meal) return null;\n\n      const perServing = calculatePerServing(\n        calculateMealTotals(meal.ingredients),\n        meal.totalServings\n      );\n\n      const food: Food = {\n        id: generateId(),\n        name: meal.name,\n        servingSize: `1 serving (of ${meal.totalServings})`,\n        calories: perServing.calories,\n        protein: perServing.protein,\n        carbs: perServing.carbs,\n        fats: perServing.fats,\n        fiber: perServing.fiber,\n        isSaved: false,\n        createdAt: new Date(),\n      };\n\n      const entry: FoodEntry = {\n        id: generateId(),\n        foodId: food.id,\n        food: { ...food },\n        mealType,\n        servings: servingsEaten,\n        date,\n        createdAt: new Date(),\n      };\n\n      foodEntries = [...foodEntries, entry];\n      refresh();\n      return entry;\n    },\n\n    refresh,\n  };\n};\n","import React, { createContext, useContext, useEffect, useState, useCallback, ReactNode } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { getApiUrl, clearAuthCache, invalidateAllQueries } from \"@/lib/query-client\";\n\nconst SESSION_KEY = \"novafit_session_id\";\n\ninterface User {\n  id: number;\n  email: string;\n  name: string;\n  avatar: string;\n  units: string;\n}\n\ninterface UserGoals {\n  dailyCalories: number;\n  dailyProtein: number;\n  dailyCarbs: number;\n  dailyFats: number;\n  weeklyWorkouts: number;\n  targetWeight: number;\n}\n\ninterface AuthState {\n  isLoading: boolean;\n  isAuthenticated: boolean;\n  user: User | null;\n  goals: UserGoals | null;\n  sessionId: string | null;\n}\n\ninterface AuthContextType extends AuthState {\n  login: (email: string, password: string) => Promise<{ success: boolean; error?: string }>;\n  register: (email: string, password: string, name: string) => Promise<{ success: boolean; error?: string }>;\n  logout: () => Promise<void>;\n  updateProfile: (updates: Partial<Pick<User, \"name\" | \"avatar\" | \"units\">>) => Promise<boolean>;\n  updateGoals: (updates: Partial<UserGoals>) => Promise<boolean>;\n  refreshUser: () => Promise<void>;\n}\n\nconst defaultAuthContext: AuthContextType = {\n  isLoading: true,\n  isAuthenticated: false,\n  user: null,\n  goals: null,\n  sessionId: null,\n  login: async () => ({ success: false, error: \"Not initialized\" }),\n  register: async () => ({ success: false, error: \"Not initialized\" }),\n  logout: async () => {},\n  updateProfile: async () => false,\n  updateGoals: async () => false,\n  refreshUser: async () => {},\n};\n\nconst AuthContext = createContext<AuthContextType>(defaultAuthContext);\n\nasync function authFetch(endpoint: string, options: RequestInit = {}, sessionId?: string | null) {\n  const baseUrl = getApiUrl();\n  const url = new URL(endpoint, baseUrl);\n  \n  const headers: Record<string, string> = {\n    \"Content-Type\": \"application/json\",\n    ...(options.headers as Record<string, string> || {}),\n  };\n  \n  if (sessionId) {\n    headers[\"Authorization\"] = `Bearer ${sessionId}`;\n  }\n  \n  const res = await fetch(url.toString(), {\n    ...options,\n    headers,\n  });\n  \n  return res;\n}\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [state, setState] = useState<AuthState>({\n    isLoading: true,\n    isAuthenticated: false,\n    user: null,\n    goals: null,\n    sessionId: null,\n  });\n\n  const checkSession = useCallback(async () => {\n    try {\n      const savedSessionId = await AsyncStorage.getItem(SESSION_KEY);\n      if (!savedSessionId) {\n        setState({\n          isLoading: false,\n          isAuthenticated: false,\n          user: null,\n          goals: null,\n          sessionId: null,\n        });\n        return;\n      }\n\n      const res = await authFetch(\"/api/auth/me\", { method: \"GET\" }, savedSessionId);\n      \n      if (res.ok) {\n        const data = await res.json();\n        setState({\n          isLoading: false,\n          isAuthenticated: true,\n          user: data.user,\n          goals: data.goals,\n          sessionId: savedSessionId,\n        });\n      } else {\n        await AsyncStorage.removeItem(SESSION_KEY);\n        setState({\n          isLoading: false,\n          isAuthenticated: false,\n          user: null,\n          goals: null,\n          sessionId: null,\n        });\n      }\n    } catch (error) {\n      console.error(\"Session check error:\", error);\n      setState({\n        isLoading: false,\n        isAuthenticated: false,\n        user: null,\n        goals: null,\n        sessionId: null,\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    checkSession();\n  }, [checkSession]);\n\n  const login = useCallback(async (email: string, password: string) => {\n    try {\n      const res = await authFetch(\"/api/auth/login\", {\n        method: \"POST\",\n        body: JSON.stringify({ email, password }),\n      });\n\n      if (res.ok) {\n        const data = await res.json();\n        await AsyncStorage.setItem(SESSION_KEY, data.sessionId);\n        setState({\n          isLoading: false,\n          isAuthenticated: true,\n          user: data.user,\n          goals: data.goals,\n          sessionId: data.sessionId,\n        });\n        invalidateAllQueries();\n        return { success: true };\n      } else {\n        const error = await res.json();\n        return { success: false, error: error.error || \"Login failed\" };\n      }\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      return { success: false, error: \"Connection error. Please try again.\" };\n    }\n  }, []);\n\n  const register = useCallback(async (email: string, password: string, name: string) => {\n    try {\n      const res = await authFetch(\"/api/auth/register\", {\n        method: \"POST\",\n        body: JSON.stringify({ email, password, name }),\n      });\n\n      if (res.ok) {\n        const data = await res.json();\n        await AsyncStorage.setItem(SESSION_KEY, data.sessionId);\n        setState({\n          isLoading: false,\n          isAuthenticated: true,\n          user: data.user,\n          goals: null,\n          sessionId: data.sessionId,\n        });\n        return { success: true };\n      } else {\n        const error = await res.json();\n        return { success: false, error: error.error || \"Registration failed\" };\n      }\n    } catch (error) {\n      console.error(\"Register error:\", error);\n      return { success: false, error: \"Connection error. Please try again.\" };\n    }\n  }, []);\n\n  const logout = useCallback(async () => {\n    try {\n      if (state.sessionId) {\n        await authFetch(\"/api/auth/logout\", { method: \"POST\" }, state.sessionId);\n      }\n    } catch (error) {\n      console.error(\"Logout error:\", error);\n    } finally {\n      await AsyncStorage.removeItem(SESSION_KEY);\n      clearAuthCache();\n      setState({\n        isLoading: false,\n        isAuthenticated: false,\n        user: null,\n        goals: null,\n        sessionId: null,\n      });\n    }\n  }, [state.sessionId]);\n\n  const updateProfile = useCallback(async (updates: Partial<Pick<User, \"name\" | \"avatar\" | \"units\">>) => {\n    try {\n      const res = await authFetch(\"/api/auth/profile\", {\n        method: \"PATCH\",\n        body: JSON.stringify(updates),\n      }, state.sessionId);\n\n      if (res.ok) {\n        const data = await res.json();\n        setState(prev => ({\n          ...prev,\n          user: data.user,\n        }));\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error(\"Update profile error:\", error);\n      return false;\n    }\n  }, [state.sessionId]);\n\n  const updateGoals = useCallback(async (updates: Partial<UserGoals>) => {\n    try {\n      const res = await authFetch(\"/api/auth/goals\", {\n        method: \"PATCH\",\n        body: JSON.stringify(updates),\n      }, state.sessionId);\n\n      if (res.ok) {\n        const data = await res.json();\n        setState(prev => ({\n          ...prev,\n          goals: data.goals,\n        }));\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error(\"Update goals error:\", error);\n      return false;\n    }\n  }, [state.sessionId]);\n\n  const refreshUser = useCallback(async () => {\n    await checkSession();\n  }, [checkSession]);\n\n  const value: AuthContextType = {\n    ...state,\n    login,\n    register,\n    logout,\n    updateProfile,\n    updateGoals,\n    refreshUser,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n","import React from \"react\";\nimport { View, ScrollView, StyleSheet } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useBottomTabBarHeight } from \"@react-navigation/bottom-tabs\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Card } from \"@/components/Card\";\nimport { StatCard } from \"@/components/StatCard\";\nimport { MacroDisplay } from \"@/components/MacroDisplay\";\nimport { WeeklyChart } from \"@/components/WeeklyChart\";\nimport { FAB } from \"@/components/FAB\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore } from \"@/lib/store\";\nimport { useAuth } from \"@/lib/auth\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\n\ntype RootNavigation = NativeStackNavigationProp<any>;\n\nexport default function HomeScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const tabBarHeight = useBottomTabBarHeight();\n  const navigation = useNavigation<RootNavigation>();\n  const { theme } = useTheme();\n  const store = useStore();\n  const { user } = useAuth();\n\n  const today = new Date().toISOString().split(\"T\")[0];\n  const dailyNutrition = store.getDailyNutrition(today);\n  const weeklyWorkouts = store.getWeeklyWorkouts();\n  const latestWeight = store.weightEntries[store.weightEntries.length - 1];\n\n  const getGreeting = () => {\n    const hour = new Date().getHours();\n    if (hour < 12) return \"Good morning\";\n    if (hour < 17) return \"Good afternoon\";\n    return \"Good evening\";\n  };\n\n  const dayNames = [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"];\n  const weekData = dayNames.map((day, index) => {\n    const hasWorkout = weeklyWorkouts.some((log) => {\n      const logDay = new Date(log.completedAt).getDay();\n      return logDay === index;\n    });\n    return {\n      day,\n      value: hasWorkout ? 1 : 0,\n      completed: hasWorkout,\n    };\n  });\n\n  const fabActions = [\n    {\n      icon: \"activity\" as const,\n      label: \"Log Workout\",\n      onPress: () =>\n        navigation.navigate(\"WorkoutsTab\", { screen: \"Workouts\" }),\n    },\n    {\n      icon: \"coffee\" as const,\n      label: \"Add Food\",\n      onPress: () =>\n        navigation.navigate(\"NutritionTab\", {\n          screen: \"AddFood\",\n          params: { mealType: \"snack\" },\n        }),\n    },\n    {\n      icon: \"trending-down\" as const,\n      label: \"Log Weight\",\n      onPress: () =>\n        navigation.navigate(\"ProfileTab\", { screen: \"Goals\" }),\n    },\n  ];\n\n  return (\n    <View style={[styles.container, { backgroundColor: theme.backgroundRoot }]}>\n      <ScrollView\n        style={styles.scroll}\n        contentContainerStyle={{\n          paddingTop: headerHeight + Spacing.xl,\n          paddingBottom: tabBarHeight + Spacing[\"5xl\"],\n          paddingHorizontal: Spacing.lg,\n        }}\n        scrollIndicatorInsets={{ bottom: insets.bottom }}\n      >\n        <View style={styles.greeting}>\n          <ThemedText type=\"h2\">\n            {getGreeting()}, {user?.name || \"there\"}\n          </ThemedText>\n          <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n            {new Date().toLocaleDateString(\"en-US\", {\n              weekday: \"long\",\n              month: \"long\",\n              day: \"numeric\",\n            })}\n          </ThemedText>\n        </View>\n\n        <Card style={styles.nutritionCard}>\n          <View style={styles.nutritionHeader}>\n            <ThemedText type=\"h4\">Today's Nutrition</ThemedText>\n            <View style={styles.caloriesBadge}>\n              <ThemedText type=\"h3\" style={{ color: theme.primary }}>\n                {Math.round(dailyNutrition.calories)}\n              </ThemedText>\n              <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                /{store.profile.goals.dailyCalories} cal\n              </ThemedText>\n            </View>\n          </View>\n          <View style={styles.macros}>\n            <MacroDisplay\n              label=\"Protein\"\n              current={dailyNutrition.protein}\n              goal={store.profile.goals.dailyProtein}\n              color={theme.protein}\n            />\n            <View style={styles.macroSpacer} />\n            <MacroDisplay\n              label=\"Carbs\"\n              current={dailyNutrition.carbs}\n              goal={store.profile.goals.dailyCarbs}\n              color={theme.carbs}\n            />\n            <View style={styles.macroSpacer} />\n            <MacroDisplay\n              label=\"Fats\"\n              current={dailyNutrition.fats}\n              goal={store.profile.goals.dailyFats}\n              color={theme.fats}\n            />\n          </View>\n        </Card>\n\n        <View style={styles.statsRow}>\n          <StatCard\n            icon=\"activity\"\n            label=\"Weekly Workouts\"\n            value={weeklyWorkouts.length}\n            subtitle={`of ${store.profile.goals.weeklyWorkouts} goal`}\n            color={theme.success}\n          />\n          <View style={styles.statSpacer} />\n          <StatCard\n            icon=\"trending-down\"\n            label=\"Current Weight\"\n            value={latestWeight ? `${latestWeight.weight}` : \"--\"}\n            subtitle={store.profile.units === \"imperial\" ? \"lbs\" : \"kg\"}\n            color={theme.info}\n          />\n        </View>\n\n        <Card style={styles.chartCard}>\n          <ThemedText type=\"h4\">Weekly Activity</ThemedText>\n          <WeeklyChart data={weekData} maxValue={1} color={theme.success} />\n        </Card>\n\n        {weeklyWorkouts.length > 0 ? (\n          <View style={styles.recentSection}>\n            <ThemedText type=\"h4\" style={styles.sectionTitle}>\n              Recent Activity\n            </ThemedText>\n            {weeklyWorkouts.slice(0, 3).map((log) => (\n              <Card key={log.id} style={styles.activityCard}>\n                <View style={styles.activityRow}>\n                  <View\n                    style={[\n                      styles.activityIcon,\n                      { backgroundColor: `${theme.success}20` },\n                    ]}\n                  >\n                    <Feather name=\"check\" size={16} color={theme.success} />\n                  </View>\n                  <View style={styles.activityContent}>\n                    <ThemedText type=\"body\">{log.workoutName}</ThemedText>\n                    <ThemedText\n                      type=\"small\"\n                      style={{ color: theme.textSecondary }}\n                    >\n                      {new Date(log.completedAt).toLocaleDateString()} - {log.duration} min\n                    </ThemedText>\n                  </View>\n                </View>\n              </Card>\n            ))}\n          </View>\n        ) : null}\n      </ScrollView>\n\n      <FAB actions={fabActions} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  scroll: {\n    flex: 1,\n  },\n  greeting: {\n    marginBottom: Spacing.xl,\n  },\n  nutritionCard: {\n    marginBottom: Spacing.lg,\n  },\n  nutritionHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginBottom: Spacing.lg,\n  },\n  caloriesBadge: {\n    flexDirection: \"row\",\n    alignItems: \"baseline\",\n  },\n  macros: {\n    flexDirection: \"row\",\n  },\n  macroSpacer: {\n    width: Spacing.lg,\n  },\n  statsRow: {\n    flexDirection: \"row\",\n    marginBottom: Spacing.lg,\n  },\n  statSpacer: {\n    width: Spacing.md,\n  },\n  chartCard: {\n    marginBottom: Spacing.lg,\n  },\n  recentSection: {\n    marginTop: Spacing.md,\n  },\n  sectionTitle: {\n    marginBottom: Spacing.md,\n  },\n  activityCard: {\n    marginBottom: Spacing.sm,\n  },\n  activityRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  activityIcon: {\n    width: 36,\n    height: 36,\n    borderRadius: BorderRadius.md,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginRight: Spacing.md,\n  },\n  activityContent: {\n    flex: 1,\n  },\n});\n","import React from \"react\";\nimport { View, StyleSheet, Image } from \"react-native\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Spacing } from \"@/constants/theme\";\n\ninterface HeaderTitleProps {\n  title: string;\n}\n\nexport function HeaderTitle({ title }: HeaderTitleProps) {\n  return (\n    <View style={styles.container}>\n      <Image\n        source={require(\"../../assets/images/icon.png\")}\n        style={styles.icon}\n        resizeMode=\"contain\"\n      />\n      <ThemedText style={styles.title}>{title}</ThemedText>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n  },\n  icon: {\n    width: 36,\n    height: 36,\n    marginRight: Spacing.sm,\n  },\n  title: {\n    fontSize: 17,\n    fontWeight: \"600\",\n  },\n});\n","import { Platform } from \"react-native\";\nimport { NativeStackNavigationOptions } from \"@react-navigation/native-stack\";\nimport { isLiquidGlassAvailable } from \"expo-glass-effect\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\n\ninterface UseScreenOptionsParams {\n  transparent?: boolean;\n}\n\nexport function useScreenOptions({\n  transparent = true,\n}: UseScreenOptionsParams = {}): NativeStackNavigationOptions {\n  const { theme, isDark } = useTheme();\n\n  return {\n    headerTitleAlign: \"center\",\n    headerTransparent: transparent,\n    headerBlurEffect: isDark ? \"dark\" : \"light\",\n    headerTintColor: theme.text,\n    headerStyle: {\n      backgroundColor: Platform.select({\n        ios: undefined,\n        android: theme.backgroundRoot,\n        web: theme.backgroundRoot,\n      }),\n    },\n    gestureEnabled: true,\n    gestureDirection: \"horizontal\",\n    fullScreenGestureEnabled: isLiquidGlassAvailable() ? false : true,\n    contentStyle: {\n      backgroundColor: theme.backgroundRoot,\n    },\n  };\n}\n","import React from \"react\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport HomeScreen from \"@/screens/HomeScreen\";\nimport { HeaderTitle } from \"@/components/HeaderTitle\";\nimport { useScreenOptions } from \"@/hooks/useScreenOptions\";\n\nexport type HomeStackParamList = {\n  Home: undefined;\n};\n\nconst Stack = createNativeStackNavigator<HomeStackParamList>();\n\nexport default function HomeStackNavigator() {\n  const screenOptions = useScreenOptions();\n\n  return (\n    <Stack.Navigator screenOptions={screenOptions}>\n      <Stack.Screen\n        name=\"Home\"\n        component={HomeScreen}\n        options={{\n          headerTitle: () => <HeaderTitle title=\"NovaFit\" />,\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import React from \"react\";\nimport { View, StyleSheet, Pressable } from \"react-native\";\nimport Animated, {\n  useSharedValue,\n  useAnimatedStyle,\n  withSpring,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { Workout } from \"@/lib/store\";\n\ninterface WorkoutCardProps {\n  workout: Workout;\n  onPress: () => void;\n  onStart?: () => void;\n}\n\nconst springConfig: WithSpringConfig = {\n  damping: 15,\n  mass: 0.3,\n  stiffness: 150,\n};\n\nconst AnimatedPressable = Animated.createAnimatedComponent(Pressable);\n\nexport function WorkoutCard({ workout, onPress, onStart }: WorkoutCardProps) {\n  const { theme } = useTheme();\n  const scale = useSharedValue(1);\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: scale.value }],\n  }));\n\n  const handlePressIn = () => {\n    scale.value = withSpring(0.98, springConfig);\n  };\n\n  const handlePressOut = () => {\n    scale.value = withSpring(1, springConfig);\n  };\n\n  const dayNames = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n  const scheduledDaysText = workout.scheduledDays\n    .map((d) => dayNames[d])\n    .join(\", \");\n\n  return (\n    <AnimatedPressable\n      onPress={onPress}\n      onPressIn={handlePressIn}\n      onPressOut={handlePressOut}\n      style={[\n        styles.container,\n        { backgroundColor: theme.backgroundDefault },\n        animatedStyle,\n      ]}\n    >\n      <View style={[styles.colorBar, { backgroundColor: workout.color }]} />\n      <View style={styles.content}>\n        <View style={styles.header}>\n          <ThemedText type=\"h4\">{workout.name}</ThemedText>\n          <View style={styles.exerciseCount}>\n            <Feather\n              name=\"list\"\n              size={14}\n              color={theme.textSecondary}\n            />\n            <ThemedText\n              type=\"small\"\n              style={{ color: theme.textSecondary, marginLeft: 4 }}\n            >\n              {workout.exercises.length} exercises\n            </ThemedText>\n          </View>\n        </View>\n        <View style={styles.footer}>\n          <View style={styles.schedule}>\n            <Feather\n              name=\"calendar\"\n              size={14}\n              color={theme.textSecondary}\n            />\n            <ThemedText\n              type=\"small\"\n              style={{ color: theme.textSecondary, marginLeft: 4 }}\n            >\n              {scheduledDaysText || \"Not scheduled\"}\n            </ThemedText>\n          </View>\n          {onStart ? (\n            <Pressable\n              onPress={onStart}\n              style={[styles.startButton, { backgroundColor: theme.primary }]}\n            >\n              <Feather name=\"play\" size={16} color=\"#FFF\" />\n              <ThemedText type=\"small\" style={{ color: \"#FFF\", marginLeft: 4 }}>\n                Start\n              </ThemedText>\n            </Pressable>\n          ) : null}\n        </View>\n      </View>\n    </AnimatedPressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    borderRadius: BorderRadius.lg,\n    overflow: \"hidden\",\n    flexDirection: \"row\",\n  },\n  colorBar: {\n    width: 4,\n  },\n  content: {\n    flex: 1,\n    padding: Spacing.lg,\n  },\n  header: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginBottom: Spacing.sm,\n  },\n  exerciseCount: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  footer: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  schedule: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  startButton: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingVertical: Spacing.xs,\n    paddingHorizontal: Spacing.md,\n    borderRadius: BorderRadius.full,\n  },\n});\n","import React from \"react\";\nimport { View, StyleSheet, Pressable } from \"react-native\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { Workout } from \"@/lib/store\";\n\ninterface ScheduleGridProps {\n  workouts: Workout[];\n  onDayPress: (dayIndex: number) => void;\n  onWorkoutPress: (workout: Workout) => void;\n}\n\nconst dayNames = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n\nexport function ScheduleGrid({\n  workouts,\n  onDayPress,\n  onWorkoutPress,\n}: ScheduleGridProps) {\n  const { theme } = useTheme();\n  const today = new Date().getDay();\n\n  const getWorkoutForDay = (dayIndex: number) => {\n    return workouts.find((w) => w.scheduledDays.includes(dayIndex));\n  };\n\n  return (\n    <View style={styles.container}>\n      {dayNames.map((day, index) => {\n        const workout = getWorkoutForDay(index);\n        const isToday = index === today;\n\n        return (\n          <View key={day} style={styles.dayColumn}>\n            <View\n              style={[\n                styles.dayHeader,\n                isToday && { backgroundColor: theme.primary },\n              ]}\n            >\n              <ThemedText\n                type=\"small\"\n                style={[\n                  styles.dayText,\n                  { color: isToday ? \"#FFF\" : theme.textSecondary },\n                ]}\n              >\n                {day}\n              </ThemedText>\n            </View>\n            <Pressable\n              onPress={() =>\n                workout ? onWorkoutPress(workout) : onDayPress(index)\n              }\n              style={[\n                styles.dayContent,\n                { backgroundColor: theme.backgroundDefault },\n              ]}\n            >\n              {workout ? (\n                <View\n                  style={[\n                    styles.workoutIndicator,\n                    { backgroundColor: workout.color },\n                  ]}\n                >\n                  <ThemedText\n                    type=\"small\"\n                    style={styles.workoutName}\n                    numberOfLines={2}\n                  >\n                    {workout.name}\n                  </ThemedText>\n                </View>\n              ) : (\n                <Feather name=\"plus\" size={16} color={theme.textSecondary} />\n              )}\n            </Pressable>\n          </View>\n        );\n      })}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    gap: Spacing.xs,\n  },\n  dayColumn: {\n    flex: 1,\n  },\n  dayHeader: {\n    alignItems: \"center\",\n    paddingVertical: Spacing.xs,\n    borderRadius: BorderRadius.sm,\n    marginBottom: Spacing.xs,\n  },\n  dayText: {\n    fontWeight: \"600\",\n    fontSize: 11,\n  },\n  dayContent: {\n    height: 60,\n    borderRadius: BorderRadius.sm,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: Spacing.xs,\n  },\n  workoutIndicator: {\n    width: \"100%\",\n    height: \"100%\",\n    borderRadius: BorderRadius.xs,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: 2,\n  },\n  workoutName: {\n    color: \"#FFF\",\n    fontSize: 9,\n    textAlign: \"center\",\n    fontWeight: \"600\",\n  },\n});\n","import React, { useState } from \"react\";\nimport { View, ScrollView, StyleSheet, Pressable } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useBottomTabBarHeight } from \"@react-navigation/bottom-tabs\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { WorkoutCard } from \"@/components/WorkoutCard\";\nimport { ScheduleGrid } from \"@/components/ScheduleGrid\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore } from \"@/lib/store\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { WorkoutsStackParamList } from \"@/navigation/WorkoutsStackNavigator\";\n\ntype WorkoutsNavigation = NativeStackNavigationProp<WorkoutsStackParamList>;\n\nexport default function WorkoutsScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const tabBarHeight = useBottomTabBarHeight();\n  const navigation = useNavigation<WorkoutsNavigation>();\n  const { theme } = useTheme();\n  const store = useStore();\n  const [activeTab, setActiveTab] = useState<\"library\" | \"schedule\">(\"library\");\n\n  return (\n    <View style={[styles.container, { backgroundColor: theme.backgroundRoot }]}>\n      <ScrollView\n        style={styles.scroll}\n        contentContainerStyle={{\n          paddingTop: headerHeight + Spacing.xl,\n          paddingBottom: tabBarHeight + Spacing.xl,\n          paddingHorizontal: Spacing.lg,\n        }}\n        scrollIndicatorInsets={{ bottom: insets.bottom }}\n      >\n        <View style={styles.header}>\n          <View style={[styles.segmentedControl, { backgroundColor: theme.backgroundDefault }]}>\n            <Pressable\n              onPress={() => setActiveTab(\"library\")}\n              style={[\n                styles.segment,\n                activeTab === \"library\" && {\n                  backgroundColor: theme.backgroundRoot,\n                },\n              ]}\n            >\n              <ThemedText\n                type=\"small\"\n                style={{\n                  fontWeight: activeTab === \"library\" ? \"600\" : \"400\",\n                  color: activeTab === \"library\" ? theme.text : theme.textSecondary,\n                }}\n              >\n                Library\n              </ThemedText>\n            </Pressable>\n            <Pressable\n              onPress={() => setActiveTab(\"schedule\")}\n              style={[\n                styles.segment,\n                activeTab === \"schedule\" && {\n                  backgroundColor: theme.backgroundRoot,\n                },\n              ]}\n            >\n              <ThemedText\n                type=\"small\"\n                style={{\n                  fontWeight: activeTab === \"schedule\" ? \"600\" : \"400\",\n                  color: activeTab === \"schedule\" ? theme.text : theme.textSecondary,\n                }}\n              >\n                Schedule\n              </ThemedText>\n            </Pressable>\n          </View>\n          <Pressable\n            onPress={() => navigation.navigate(\"CreateWorkout\")}\n            style={[styles.addButton, { backgroundColor: theme.primary }]}\n          >\n            <Feather name=\"plus\" size={20} color=\"#FFF\" />\n          </Pressable>\n        </View>\n\n        {activeTab === \"library\" ? (\n          <View style={styles.library}>\n            {store.workouts.length === 0 ? (\n              <View style={styles.empty}>\n                <Feather name=\"activity\" size={48} color={theme.textSecondary} />\n                <ThemedText\n                  type=\"body\"\n                  style={{ color: theme.textSecondary, marginTop: Spacing.md }}\n                >\n                  No workouts yet\n                </ThemedText>\n                <Pressable\n                  onPress={() => navigation.navigate(\"CreateWorkout\")}\n                  style={[styles.createButton, { borderColor: theme.primary }]}\n                >\n                  <ThemedText type=\"body\" style={{ color: theme.primary }}>\n                    Create your first workout\n                  </ThemedText>\n                </Pressable>\n              </View>\n            ) : (\n              store.workouts.map((workout) => (\n                <View key={workout.id} style={styles.cardWrapper}>\n                  <WorkoutCard\n                    workout={workout}\n                    onPress={() =>\n                      navigation.navigate(\"WorkoutDetail\", { workoutId: workout.id })\n                    }\n                    onStart={() =>\n                      navigation.navigate(\"ActiveWorkout\", { workoutId: workout.id })\n                    }\n                  />\n                </View>\n              ))\n            )}\n          </View>\n        ) : (\n          <View style={styles.schedule}>\n            <ThemedText type=\"h4\" style={styles.scheduleTitle}>\n              Weekly Schedule\n            </ThemedText>\n            <ScheduleGrid\n              workouts={store.workouts}\n              onDayPress={(day) => navigation.navigate(\"CreateWorkout\")}\n              onWorkoutPress={(workout) =>\n                navigation.navigate(\"WorkoutDetail\", { workoutId: workout.id })\n              }\n            />\n            <View style={styles.legend}>\n              {store.workouts.map((workout) => (\n                <View key={workout.id} style={styles.legendItem}>\n                  <View\n                    style={[styles.legendColor, { backgroundColor: workout.color }]}\n                  />\n                  <ThemedText type=\"small\">{workout.name}</ThemedText>\n                </View>\n              ))}\n            </View>\n          </View>\n        )}\n      </ScrollView>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  scroll: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: Spacing.xl,\n  },\n  segmentedControl: {\n    flex: 1,\n    flexDirection: \"row\",\n    borderRadius: BorderRadius.md,\n    padding: 4,\n    marginRight: Spacing.md,\n  },\n  segment: {\n    flex: 1,\n    paddingVertical: Spacing.sm,\n    alignItems: \"center\",\n    borderRadius: BorderRadius.sm,\n  },\n  addButton: {\n    width: 40,\n    height: 40,\n    borderRadius: BorderRadius.md,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  library: {},\n  cardWrapper: {\n    marginBottom: Spacing.md,\n  },\n  empty: {\n    alignItems: \"center\",\n    paddingVertical: Spacing[\"4xl\"],\n  },\n  createButton: {\n    marginTop: Spacing.lg,\n    paddingVertical: Spacing.md,\n    paddingHorizontal: Spacing.xl,\n    borderWidth: 1,\n    borderRadius: BorderRadius.full,\n  },\n  schedule: {},\n  scheduleTitle: {\n    marginBottom: Spacing.lg,\n  },\n  legend: {\n    marginTop: Spacing.xl,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    gap: Spacing.md,\n  },\n  legendItem: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  legendColor: {\n    width: 12,\n    height: 12,\n    borderRadius: 6,\n    marginRight: Spacing.xs,\n  },\n});\n","import { Platform, ScrollView, ScrollViewProps } from \"react-native\";\nimport {\n  KeyboardAwareScrollView,\n  KeyboardAwareScrollViewProps,\n} from \"react-native-keyboard-controller\";\n\ntype Props = KeyboardAwareScrollViewProps & ScrollViewProps;\n\n/**\n * KeyboardAwareScrollView that falls back to ScrollView on web.\n * Use this for any screen containing text inputs.\n */\nexport function KeyboardAwareScrollViewCompat({\n  children,\n  keyboardShouldPersistTaps = \"handled\",\n  ...props\n}: Props) {\n  if (Platform.OS === \"web\") {\n    return (\n      <ScrollView\n        keyboardShouldPersistTaps={keyboardShouldPersistTaps}\n        {...props}\n      >\n        {children}\n      </ScrollView>\n    );\n  }\n\n  return (\n    <KeyboardAwareScrollView\n      keyboardShouldPersistTaps={keyboardShouldPersistTaps}\n      {...props}\n    >\n      {children}\n    </KeyboardAwareScrollView>\n  );\n}\n","import React, { ReactNode } from \"react\";\nimport { StyleSheet, Pressable, ViewStyle, StyleProp } from \"react-native\";\nimport Animated, {\n  useAnimatedStyle,\n  useSharedValue,\n  withSpring,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { BorderRadius, Spacing } from \"@/constants/theme\";\n\ninterface ButtonProps {\n  onPress?: () => void;\n  children: ReactNode;\n  style?: StyleProp<ViewStyle>;\n  disabled?: boolean;\n}\n\nconst springConfig: WithSpringConfig = {\n  damping: 15,\n  mass: 0.3,\n  stiffness: 150,\n  overshootClamping: true,\n  energyThreshold: 0.001,\n};\n\nconst AnimatedPressable = Animated.createAnimatedComponent(Pressable);\n\nexport function Button({\n  onPress,\n  children,\n  style,\n  disabled = false,\n}: ButtonProps) {\n  const { theme } = useTheme();\n  const scale = useSharedValue(1);\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: scale.value }],\n  }));\n\n  const handlePressIn = () => {\n    if (!disabled) {\n      scale.value = withSpring(0.98, springConfig);\n    }\n  };\n\n  const handlePressOut = () => {\n    if (!disabled) {\n      scale.value = withSpring(1, springConfig);\n    }\n  };\n\n  return (\n    <AnimatedPressable\n      onPress={disabled ? undefined : onPress}\n      onPressIn={handlePressIn}\n      onPressOut={handlePressOut}\n      disabled={disabled}\n      style={[\n        styles.button,\n        {\n          backgroundColor: theme.link,\n          opacity: disabled ? 0.5 : 1,\n        },\n        style,\n        animatedStyle,\n      ]}\n    >\n      <ThemedText\n        type=\"body\"\n        style={[styles.buttonText, { color: theme.buttonText }]}\n      >\n        {children}\n      </ThemedText>\n    </AnimatedPressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    height: Spacing.buttonHeight,\n    borderRadius: BorderRadius.full,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  buttonText: {\n    fontWeight: \"600\",\n  },\n});\n","import React, { useState } from \"react\";\nimport { View, StyleSheet, TextInput, Pressable, ScrollView } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useNavigation, useRoute, RouteProp } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { KeyboardAwareScrollViewCompat } from \"@/components/KeyboardAwareScrollViewCompat\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Card } from \"@/components/Card\";\nimport { Button } from \"@/components/Button\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore, Exercise } from \"@/lib/store\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { WorkoutsStackParamList } from \"@/navigation/WorkoutsStackNavigator\";\n\ntype Navigation = NativeStackNavigationProp<WorkoutsStackParamList>;\ntype Route = RouteProp<WorkoutsStackParamList, \"CreateWorkout\">;\n\nconst colors = [\"#FF6B35\", \"#4ECDC4\", \"#FFE66D\", \"#FF6B6B\", \"#4CAF50\", \"#2196F3\"];\nconst dayNames = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n\nexport default function CreateWorkoutScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const navigation = useNavigation<Navigation>();\n  const route = useRoute<Route>();\n  const { theme } = useTheme();\n  const store = useStore();\n\n  const existingWorkout = route.params?.workoutId\n    ? store.workouts.find((w) => w.id === route.params?.workoutId)\n    : null;\n\n  const [name, setName] = useState(existingWorkout?.name || \"\");\n  const [selectedColor, setSelectedColor] = useState(\n    existingWorkout?.color || colors[0]\n  );\n  const [scheduledDays, setScheduledDays] = useState<number[]>(\n    existingWorkout?.scheduledDays || []\n  );\n  const [exercises, setExercises] = useState<Omit<Exercise, \"id\">[]>(\n    existingWorkout?.exercises.map((e) => ({\n      name: e.name,\n      sets: e.sets,\n      reps: e.reps,\n      weight: e.weight,\n      isBodyweight: e.isBodyweight || false,\n      notes: e.notes,\n    })) || []\n  );\n\n  const toggleDay = (day: number) => {\n    setScheduledDays((prev) =>\n      prev.includes(day) ? prev.filter((d) => d !== day) : [...prev, day]\n    );\n  };\n\n  const addExercise = () => {\n    setExercises([\n      ...exercises,\n      { name: \"\", sets: 3, reps: 10, weight: 0, isBodyweight: false },\n    ]);\n  };\n\n  const updateExercise = (index: number, updates: Partial<Exercise>) => {\n    setExercises((prev) =>\n      prev.map((e, i) => (i === index ? { ...e, ...updates } : e))\n    );\n  };\n\n  const removeExercise = (index: number) => {\n    setExercises((prev) => prev.filter((_, i) => i !== index));\n  };\n\n  const handleSave = () => {\n    if (!name.trim()) return;\n\n    const workoutData = {\n      name: name.trim(),\n      color: selectedColor,\n      scheduledDays,\n      exercises: exercises\n        .filter((e) => e.name.trim())\n        .map((e, i) => ({ ...e, id: String(i) })),\n    };\n\n    if (existingWorkout) {\n      store.updateWorkout(existingWorkout.id, workoutData);\n    } else {\n      store.addWorkout(workoutData);\n    }\n\n    navigation.goBack();\n  };\n\n  return (\n    <KeyboardAwareScrollViewCompat\n      style={{ flex: 1, backgroundColor: theme.backgroundRoot }}\n      contentContainerStyle={{\n        paddingTop: headerHeight + Spacing.xl,\n        paddingBottom: insets.bottom + Spacing.xl,\n        paddingHorizontal: Spacing.lg,\n      }}\n    >\n      <View style={styles.field}>\n        <ThemedText type=\"small\" style={[styles.label, { color: theme.textSecondary }]}>\n          Workout Name\n        </ThemedText>\n        <TextInput\n          value={name}\n          onChangeText={setName}\n          placeholder=\"e.g., Upper Body\"\n          placeholderTextColor={theme.textSecondary}\n          style={[\n            styles.input,\n            {\n              backgroundColor: theme.backgroundDefault,\n              color: theme.text,\n              borderColor: theme.border,\n            },\n          ]}\n        />\n      </View>\n\n      <View style={styles.field}>\n        <ThemedText type=\"small\" style={[styles.label, { color: theme.textSecondary }]}>\n          Color\n        </ThemedText>\n        <View style={styles.colorRow}>\n          {colors.map((color) => (\n            <Pressable\n              key={color}\n              onPress={() => setSelectedColor(color)}\n              style={[\n                styles.colorOption,\n                { backgroundColor: color },\n                selectedColor === color && styles.colorSelected,\n              ]}\n            >\n              {selectedColor === color ? (\n                <Feather name=\"check\" size={16} color=\"#FFF\" />\n              ) : null}\n            </Pressable>\n          ))}\n        </View>\n      </View>\n\n      <View style={styles.field}>\n        <ThemedText type=\"small\" style={[styles.label, { color: theme.textSecondary }]}>\n          Schedule\n        </ThemedText>\n        <View style={styles.daysRow}>\n          {dayNames.map((day, index) => (\n            <Pressable\n              key={day}\n              onPress={() => toggleDay(index)}\n              style={[\n                styles.dayButton,\n                {\n                  backgroundColor: scheduledDays.includes(index)\n                    ? theme.primary\n                    : theme.backgroundDefault,\n                },\n              ]}\n            >\n              <ThemedText\n                type=\"small\"\n                style={{\n                  color: scheduledDays.includes(index) ? \"#FFF\" : theme.text,\n                  fontWeight: \"600\",\n                }}\n              >\n                {day.slice(0, 1)}\n              </ThemedText>\n            </Pressable>\n          ))}\n        </View>\n      </View>\n\n      <View style={styles.field}>\n        <View style={styles.exercisesHeader}>\n          <ThemedText type=\"h4\">Exercises</ThemedText>\n          <Pressable onPress={addExercise} style={styles.addExerciseButton}>\n            <Feather name=\"plus\" size={18} color={theme.primary} />\n            <ThemedText type=\"small\" style={{ color: theme.primary, marginLeft: 4 }}>\n              Add\n            </ThemedText>\n          </Pressable>\n        </View>\n\n        {exercises.map((exercise, index) => (\n          <Card key={index} style={styles.exerciseCard}>\n            <View style={styles.exerciseHeader}>\n              <TextInput\n                value={exercise.name}\n                onChangeText={(text) => updateExercise(index, { name: text })}\n                placeholder=\"Exercise name\"\n                placeholderTextColor={theme.textSecondary}\n                style={[styles.exerciseNameInput, { color: theme.text }]}\n              />\n              <Pressable\n                onPress={() => removeExercise(index)}\n                style={styles.removeButton}\n              >\n                <Feather name=\"x\" size={18} color={theme.error} />\n              </Pressable>\n            </View>\n            <Pressable\n              onPress={() => updateExercise(index, { isBodyweight: !exercise.isBodyweight, weight: 0 })}\n              style={styles.bodyweightRow}\n            >\n              <View\n                style={[\n                  styles.bodyweightToggle,\n                  {\n                    backgroundColor: exercise.isBodyweight\n                      ? theme.primary\n                      : theme.backgroundDefault,\n                    borderColor: exercise.isBodyweight ? theme.primary : theme.border,\n                  },\n                ]}\n              >\n                {exercise.isBodyweight ? (\n                  <Feather name=\"check\" size={12} color=\"#FFF\" />\n                ) : null}\n              </View>\n              <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                Bodyweight exercise (no weights)\n              </ThemedText>\n            </Pressable>\n            <View style={styles.exerciseDetails}>\n              <View style={styles.detailField}>\n                <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                  Sets\n                </ThemedText>\n                <TextInput\n                  value={String(exercise.sets)}\n                  onChangeText={(text) =>\n                    updateExercise(index, { sets: parseInt(text) || 0 })\n                  }\n                  keyboardType=\"number-pad\"\n                  style={[\n                    styles.detailInput,\n                    { backgroundColor: theme.backgroundDefault, color: theme.text },\n                  ]}\n                />\n              </View>\n              <View style={styles.detailField}>\n                <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                  Reps\n                </ThemedText>\n                <TextInput\n                  value={String(exercise.reps)}\n                  onChangeText={(text) =>\n                    updateExercise(index, { reps: parseInt(text) || 0 })\n                  }\n                  keyboardType=\"number-pad\"\n                  style={[\n                    styles.detailInput,\n                    { backgroundColor: theme.backgroundDefault, color: theme.text },\n                  ]}\n                />\n              </View>\n              {exercise.isBodyweight ? null : (\n                <View style={styles.detailField}>\n                  <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                    Weight\n                  </ThemedText>\n                  <TextInput\n                    value={String(exercise.weight)}\n                    onChangeText={(text) =>\n                      updateExercise(index, { weight: parseFloat(text) || 0 })\n                    }\n                    keyboardType=\"decimal-pad\"\n                    style={[\n                      styles.detailInput,\n                      { backgroundColor: theme.backgroundDefault, color: theme.text },\n                    ]}\n                  />\n                </View>\n              )}\n            </View>\n          </Card>\n        ))}\n\n        {exercises.length === 0 ? (\n          <Pressable\n            onPress={addExercise}\n            style={[styles.emptyExercises, { borderColor: theme.border }]}\n          >\n            <Feather name=\"plus\" size={24} color={theme.textSecondary} />\n            <ThemedText\n              type=\"body\"\n              style={{ color: theme.textSecondary, marginTop: Spacing.sm }}\n            >\n              Add your first exercise\n            </ThemedText>\n          </Pressable>\n        ) : null}\n      </View>\n\n      <Button onPress={handleSave} disabled={!name.trim()}>\n        {existingWorkout ? \"Update Workout\" : \"Create Workout\"}\n      </Button>\n    </KeyboardAwareScrollViewCompat>\n  );\n}\n\nconst styles = StyleSheet.create({\n  field: {\n    marginBottom: Spacing.xl,\n  },\n  label: {\n    marginBottom: Spacing.sm,\n  },\n  input: {\n    height: Spacing.inputHeight,\n    borderWidth: 1,\n    borderRadius: BorderRadius.md,\n    paddingHorizontal: Spacing.lg,\n    fontSize: 16,\n  },\n  colorRow: {\n    flexDirection: \"row\",\n    gap: Spacing.md,\n  },\n  colorOption: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  colorSelected: {\n    borderWidth: 3,\n    borderColor: \"#FFF\",\n  },\n  daysRow: {\n    flexDirection: \"row\",\n    gap: Spacing.sm,\n  },\n  dayButton: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  exercisesHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginBottom: Spacing.md,\n  },\n  addExerciseButton: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  exerciseCard: {\n    marginBottom: Spacing.md,\n  },\n  exerciseHeader: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: Spacing.md,\n  },\n  exerciseNameInput: {\n    flex: 1,\n    fontSize: 16,\n    fontWeight: \"600\",\n  },\n  removeButton: {\n    padding: Spacing.xs,\n  },\n  exerciseDetails: {\n    flexDirection: \"row\",\n    gap: Spacing.md,\n  },\n  detailField: {\n    flex: 1,\n  },\n  detailInput: {\n    height: 40,\n    borderRadius: BorderRadius.sm,\n    textAlign: \"center\",\n    marginTop: Spacing.xs,\n    fontSize: 16,\n  },\n  emptyExercises: {\n    alignItems: \"center\",\n    paddingVertical: Spacing[\"3xl\"],\n    borderWidth: 1,\n    borderStyle: \"dashed\",\n    borderRadius: BorderRadius.md,\n  },\n  bodyweightRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: Spacing.md,\n    marginTop: Spacing.xs,\n  },\n  bodyweightToggle: {\n    width: 20,\n    height: 20,\n    borderRadius: BorderRadius.xs,\n    borderWidth: 2,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginRight: Spacing.sm,\n  },\n});\n","import React from \"react\";\nimport { View, ScrollView, StyleSheet, Pressable, Alert } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useBottomTabBarHeight } from \"@react-navigation/bottom-tabs\";\nimport { useNavigation, useRoute, RouteProp } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Card } from \"@/components/Card\";\nimport { Button } from \"@/components/Button\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore } from \"@/lib/store\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { WorkoutsStackParamList } from \"@/navigation/WorkoutsStackNavigator\";\n\ntype Navigation = NativeStackNavigationProp<WorkoutsStackParamList>;\ntype Route = RouteProp<WorkoutsStackParamList, \"WorkoutDetail\">;\n\nconst dayNames = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n\nexport default function WorkoutDetailScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const tabBarHeight = useBottomTabBarHeight();\n  const navigation = useNavigation<Navigation>();\n  const route = useRoute<Route>();\n  const { theme } = useTheme();\n  const store = useStore();\n\n  const workout = store.workouts.find((w) => w.id === route.params.workoutId);\n\n  if (!workout) {\n    return (\n      <View\n        style={[\n          styles.container,\n          { backgroundColor: theme.backgroundRoot, justifyContent: \"center\" },\n        ]}\n      >\n        <ThemedText type=\"body\" style={{ textAlign: \"center\" }}>\n          Workout not found\n        </ThemedText>\n      </View>\n    );\n  }\n\n  const handleDelete = () => {\n    Alert.alert(\n      \"Delete Workout\",\n      `Are you sure you want to delete \"${workout.name}\"?`,\n      [\n        { text: \"Cancel\", style: \"cancel\" },\n        {\n          text: \"Delete\",\n          style: \"destructive\",\n          onPress: () => {\n            store.deleteWorkout(workout.id);\n            navigation.goBack();\n          },\n        },\n      ]\n    );\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: theme.backgroundRoot }]}>\n      <ScrollView\n        style={styles.scroll}\n        contentContainerStyle={{\n          paddingTop: headerHeight + Spacing.xl,\n          paddingBottom: tabBarHeight + Spacing[\"3xl\"],\n          paddingHorizontal: Spacing.lg,\n        }}\n        scrollIndicatorInsets={{ bottom: insets.bottom }}\n      >\n        <View style={styles.header}>\n          <View style={[styles.colorBadge, { backgroundColor: workout.color }]} />\n          <View style={styles.headerContent}>\n            <ThemedText type=\"h2\">{workout.name}</ThemedText>\n            <View style={styles.schedule}>\n              <Feather name=\"calendar\" size={14} color={theme.textSecondary} />\n              <ThemedText\n                type=\"small\"\n                style={{ color: theme.textSecondary, marginLeft: 4 }}\n              >\n                {workout.scheduledDays.length > 0\n                  ? workout.scheduledDays.map((d) => dayNames[d]).join(\", \")\n                  : \"Not scheduled\"}\n              </ThemedText>\n            </View>\n          </View>\n          <View style={styles.headerActions}>\n            <Pressable\n              onPress={() =>\n                navigation.navigate(\"CreateWorkout\", { workoutId: workout.id })\n              }\n              style={[styles.iconButton, { backgroundColor: theme.backgroundDefault }]}\n            >\n              <Feather name=\"edit-2\" size={18} color={theme.text} />\n            </Pressable>\n            <Pressable\n              onPress={handleDelete}\n              style={[styles.iconButton, { backgroundColor: theme.backgroundDefault }]}\n            >\n              <Feather name=\"trash-2\" size={18} color={theme.error} />\n            </Pressable>\n          </View>\n        </View>\n\n        <ThemedText type=\"h4\" style={styles.sectionTitle}>\n          Exercises ({workout.exercises.length})\n        </ThemedText>\n\n        {workout.exercises.map((exercise, index) => (\n          <Card key={exercise.id} style={styles.exerciseCard}>\n            <View style={styles.exerciseHeader}>\n              <View style={styles.exerciseIndex}>\n                <ThemedText type=\"small\" style={{ color: \"#FFF\", fontWeight: \"600\" }}>\n                  {index + 1}\n                </ThemedText>\n              </View>\n              <ThemedText type=\"body\" style={{ fontWeight: \"600\" }}>\n                {exercise.name}\n              </ThemedText>\n            </View>\n            <View style={styles.exerciseStats}>\n              <View style={styles.stat}>\n                <ThemedText type=\"h4\">{exercise.sets}</ThemedText>\n                <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                  sets\n                </ThemedText>\n              </View>\n              <View style={styles.statDivider} />\n              <View style={styles.stat}>\n                <ThemedText type=\"h4\">{exercise.reps}</ThemedText>\n                <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                  reps\n                </ThemedText>\n              </View>\n              <View style={styles.statDivider} />\n              <View style={styles.stat}>\n                <ThemedText type=\"h4\">{exercise.weight}</ThemedText>\n                <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                  lbs\n                </ThemedText>\n              </View>\n            </View>\n            {exercise.notes ? (\n              <ThemedText\n                type=\"small\"\n                style={[styles.notes, { color: theme.textSecondary }]}\n              >\n                {exercise.notes}\n              </ThemedText>\n            ) : null}\n          </Card>\n        ))}\n      </ScrollView>\n\n      <View\n        style={[\n          styles.footer,\n          { backgroundColor: theme.backgroundRoot, paddingBottom: insets.bottom + Spacing.lg },\n        ]}\n      >\n        <Button\n          onPress={() =>\n            navigation.navigate(\"ActiveWorkout\", { workoutId: workout.id })\n          }\n        >\n          Start Workout\n        </Button>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  scroll: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: \"row\",\n    alignItems: \"flex-start\",\n    marginBottom: Spacing.xl,\n  },\n  colorBadge: {\n    width: 4,\n    height: 50,\n    borderRadius: 2,\n    marginRight: Spacing.md,\n  },\n  headerContent: {\n    flex: 1,\n  },\n  schedule: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginTop: Spacing.xs,\n  },\n  headerActions: {\n    flexDirection: \"row\",\n    gap: Spacing.sm,\n  },\n  iconButton: {\n    width: 40,\n    height: 40,\n    borderRadius: BorderRadius.md,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  sectionTitle: {\n    marginBottom: Spacing.md,\n  },\n  exerciseCard: {\n    marginBottom: Spacing.md,\n  },\n  exerciseHeader: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: Spacing.md,\n  },\n  exerciseIndex: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: \"#FF6B35\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginRight: Spacing.md,\n  },\n  exerciseStats: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  stat: {\n    flex: 1,\n    alignItems: \"center\",\n  },\n  statDivider: {\n    width: 1,\n    height: 30,\n    backgroundColor: \"#E0E0E0\",\n  },\n  notes: {\n    marginTop: Spacing.md,\n    fontStyle: \"italic\",\n  },\n  footer: {\n    paddingHorizontal: Spacing.lg,\n    paddingTop: Spacing.lg,\n    borderTopWidth: 1,\n    borderTopColor: \"#E0E0E0\",\n  },\n});\n","import { View, type ViewProps } from \"react-native\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\n\nexport type ThemedViewProps = ViewProps & {\n  lightColor?: string;\n  darkColor?: string;\n};\n\nexport function ThemedView({\n  style,\n  lightColor,\n  darkColor,\n  ...otherProps\n}: ThemedViewProps) {\n  const { theme, isDark } = useTheme();\n\n  const backgroundColor =\n    isDark && darkColor\n      ? darkColor\n      : !isDark && lightColor\n        ? lightColor\n        : theme.backgroundRoot;\n\n  return <View style={[{ backgroundColor }, style]} {...otherProps} />;\n}\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { View, ScrollView, StyleSheet, Pressable, TextInput } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useNavigation, useRoute, RouteProp } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport { Feather } from \"@expo/vector-icons\";\nimport * as Haptics from \"expo-haptics\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { Card } from \"@/components/Card\";\nimport { Button } from \"@/components/Button\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore, SetLog, ExerciseLog } from \"@/lib/store\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { WorkoutsStackParamList } from \"@/navigation/WorkoutsStackNavigator\";\n\ntype Navigation = NativeStackNavigationProp<WorkoutsStackParamList>;\ntype Route = RouteProp<WorkoutsStackParamList, \"ActiveWorkout\">;\n\nexport default function ActiveWorkoutScreen() {\n  const insets = useSafeAreaInsets();\n  const navigation = useNavigation<Navigation>();\n  const route = useRoute<Route>();\n  const { theme } = useTheme();\n  const store = useStore();\n\n  const workout = store.workouts.find((w) => w.id === route.params.workoutId);\n  const [elapsedSeconds, setElapsedSeconds] = useState(0);\n  const [isPaused, setIsPaused] = useState(false);\n  const [exerciseLogs, setExerciseLogs] = useState<Record<string, SetLog[]>>({});\n  const timerRef = useRef<NodeJS.Timeout | null>(null);\n\n  useEffect(() => {\n    if (!workout) return;\n\n    const initialLogs: Record<string, SetLog[]> = {};\n    workout.exercises.forEach((ex) => {\n      initialLogs[ex.id] = Array.from({ length: ex.sets }, () => ({\n        reps: ex.reps,\n        weight: ex.isBodyweight ? 0 : ex.weight,\n        completed: false,\n      }));\n    });\n    setExerciseLogs(initialLogs);\n\n    timerRef.current = setInterval(() => {\n      if (!isPaused) {\n        setElapsedSeconds((s) => s + 1);\n      }\n    }, 1000);\n\n    return () => {\n      if (timerRef.current) clearInterval(timerRef.current);\n    };\n  }, [workout?.id]);\n\n  useEffect(() => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    if (!isPaused) {\n      timerRef.current = setInterval(() => {\n        setElapsedSeconds((s) => s + 1);\n      }, 1000);\n    }\n    return () => {\n      if (timerRef.current) clearInterval(timerRef.current);\n    };\n  }, [isPaused]);\n\n  if (!workout) {\n    return (\n      <ThemedView style={[styles.container, { paddingTop: insets.top }]}>\n        <ThemedText>Workout not found</ThemedText>\n      </ThemedView>\n    );\n  }\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n  };\n\n  const toggleSet = (exerciseId: string, setIndex: number) => {\n    Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light);\n    setExerciseLogs((prev) => ({\n      ...prev,\n      [exerciseId]: prev[exerciseId].map((set, i) =>\n        i === setIndex ? { ...set, completed: !set.completed } : set\n      ),\n    }));\n  };\n\n  const updateSetValue = (\n    exerciseId: string,\n    setIndex: number,\n    field: \"reps\" | \"weight\",\n    value: number\n  ) => {\n    setExerciseLogs((prev) => ({\n      ...prev,\n      [exerciseId]: prev[exerciseId].map((set, i) =>\n        i === setIndex ? { ...set, [field]: value } : set\n      ),\n    }));\n  };\n\n  const getCompletedSets = () => {\n    return Object.values(exerciseLogs).reduce(\n      (sum, sets) => sum + sets.filter((s) => s.completed).length,\n      0\n    );\n  };\n\n  const getTotalSets = () => {\n    return workout.exercises.reduce((sum, ex) => sum + ex.sets, 0);\n  };\n\n  const handleFinish = () => {\n    const logs: ExerciseLog[] = workout.exercises.map((ex) => ({\n      exerciseId: ex.id,\n      name: ex.name,\n      sets: exerciseLogs[ex.id] || [],\n      isBodyweight: ex.isBodyweight || false,\n    }));\n\n    store.addWorkoutLog({\n      workoutId: workout.id,\n      workoutName: workout.name,\n      completedAt: new Date(),\n      duration: Math.floor(elapsedSeconds / 60),\n      exerciseLogs: logs,\n    });\n\n    Haptics.notificationAsync(Haptics.NotificationFeedbackType.Success);\n    navigation.goBack();\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: theme.backgroundRoot }]}>\n      <View\n        style={[\n          styles.header,\n          { backgroundColor: theme.primary, paddingTop: insets.top + Spacing.md },\n        ]}\n      >\n        <View style={styles.headerTop}>\n          <Pressable onPress={() => navigation.goBack()} style={styles.closeButton}>\n            <Feather name=\"x\" size={24} color=\"#FFF\" />\n          </Pressable>\n          <View style={styles.timer}>\n            <Feather name=\"clock\" size={18} color=\"#FFF\" />\n            <ThemedText type=\"h3\" style={styles.timerText}>\n              {formatTime(elapsedSeconds)}\n            </ThemedText>\n          </View>\n          <Pressable\n            onPress={() => setIsPaused(!isPaused)}\n            style={styles.pauseButton}\n          >\n            <Feather name={isPaused ? \"play\" : \"pause\"} size={24} color=\"#FFF\" />\n          </Pressable>\n        </View>\n        <ThemedText type=\"h2\" style={styles.workoutName}>\n          {workout.name}\n        </ThemedText>\n        <View style={styles.progress}>\n          <View style={styles.progressBar}>\n            <View\n              style={[\n                styles.progressFill,\n                { width: `${(getCompletedSets() / getTotalSets()) * 100}%` },\n              ]}\n            />\n          </View>\n          <ThemedText type=\"small\" style={styles.progressText}>\n            {getCompletedSets()}/{getTotalSets()} sets\n          </ThemedText>\n        </View>\n      </View>\n\n      <ScrollView\n        style={styles.scroll}\n        contentContainerStyle={{\n          padding: Spacing.lg,\n          paddingBottom: insets.bottom + 140,\n        }}\n      >\n        {workout.exercises.map((exercise) => (\n          <Card key={exercise.id} style={styles.exerciseCard}>\n            <ThemedText type=\"h4\" style={styles.exerciseName}>\n              {exercise.name}\n            </ThemedText>\n            <View style={styles.setsHeader}>\n              <ThemedText type=\"small\" style={[styles.setHeaderText, { width: 40 }]}>\n                Set\n              </ThemedText>\n              <ThemedText type=\"small\" style={[styles.setHeaderText, { flex: 1 }]}>\n                Reps\n              </ThemedText>\n              {exercise.isBodyweight ? null : (\n                <ThemedText type=\"small\" style={[styles.setHeaderText, { flex: 1 }]}>\n                  Weight\n                </ThemedText>\n              )}\n              <View style={{ width: 44 }} />\n            </View>\n            {exerciseLogs[exercise.id]?.map((set, index) => (\n              <View\n                key={index}\n                style={[\n                  styles.setRow,\n                  set.completed && { backgroundColor: `${theme.success}10` },\n                ]}\n              >\n                <View style={styles.setNumber}>\n                  <ThemedText type=\"body\" style={{ fontWeight: \"600\" }}>\n                    {index + 1}\n                  </ThemedText>\n                </View>\n                <TextInput\n                  value={String(set.reps)}\n                  onChangeText={(text) =>\n                    updateSetValue(exercise.id, index, \"reps\", parseInt(text) || 0)\n                  }\n                  keyboardType=\"number-pad\"\n                  style={[\n                    styles.setInput,\n                    { backgroundColor: theme.backgroundDefault, color: theme.text },\n                  ]}\n                />\n                {exercise.isBodyweight ? null : (\n                  <TextInput\n                    value={String(set.weight)}\n                    onChangeText={(text) =>\n                      updateSetValue(exercise.id, index, \"weight\", parseFloat(text) || 0)\n                    }\n                    keyboardType=\"decimal-pad\"\n                    style={[\n                      styles.setInput,\n                      { backgroundColor: theme.backgroundDefault, color: theme.text },\n                    ]}\n                  />\n                )}\n                <Pressable\n                  onPress={() => toggleSet(exercise.id, index)}\n                  style={[\n                    styles.checkButton,\n                    {\n                      backgroundColor: set.completed\n                        ? theme.success\n                        : theme.backgroundDefault,\n                    },\n                  ]}\n                >\n                  <Feather\n                    name=\"check\"\n                    size={18}\n                    color={set.completed ? \"#FFF\" : theme.textSecondary}\n                  />\n                </Pressable>\n              </View>\n            ))}\n          </Card>\n        ))}\n      </ScrollView>\n\n      <View\n        style={[\n          styles.footer,\n          {\n            backgroundColor: theme.backgroundRoot,\n            paddingBottom: insets.bottom + Spacing.lg,\n          },\n        ]}\n      >\n        <Button onPress={handleFinish}>Finish Workout</Button>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    paddingHorizontal: Spacing.lg,\n    paddingBottom: Spacing.lg,\n  },\n  headerTop: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginBottom: Spacing.md,\n  },\n  closeButton: {\n    width: 44,\n    height: 44,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  timer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  timerText: {\n    color: \"#FFF\",\n    marginLeft: Spacing.sm,\n  },\n  pauseButton: {\n    width: 44,\n    height: 44,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  workoutName: {\n    color: \"#FFF\",\n    textAlign: \"center\",\n    marginBottom: Spacing.md,\n  },\n  progress: {\n    alignItems: \"center\",\n  },\n  progressBar: {\n    width: \"100%\",\n    height: 6,\n    backgroundColor: \"rgba(255,255,255,0.3)\",\n    borderRadius: 3,\n    overflow: \"hidden\",\n  },\n  progressFill: {\n    height: \"100%\",\n    backgroundColor: \"#FFF\",\n    borderRadius: 3,\n  },\n  progressText: {\n    color: \"#FFF\",\n    marginTop: Spacing.xs,\n  },\n  scroll: {\n    flex: 1,\n  },\n  exerciseCard: {\n    marginBottom: Spacing.lg,\n  },\n  exerciseName: {\n    marginBottom: Spacing.md,\n  },\n  setsHeader: {\n    flexDirection: \"row\",\n    marginBottom: Spacing.sm,\n    paddingHorizontal: Spacing.xs,\n  },\n  setHeaderText: {\n    color: \"#757575\",\n    textAlign: \"center\",\n  },\n  setRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingVertical: Spacing.sm,\n    paddingHorizontal: Spacing.xs,\n    borderRadius: BorderRadius.sm,\n    marginBottom: Spacing.xs,\n  },\n  setNumber: {\n    width: 40,\n    alignItems: \"center\",\n  },\n  setInput: {\n    flex: 1,\n    height: 40,\n    borderRadius: BorderRadius.sm,\n    textAlign: \"center\",\n    marginHorizontal: Spacing.xs,\n    fontSize: 16,\n  },\n  checkButton: {\n    width: 44,\n    height: 44,\n    borderRadius: BorderRadius.sm,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  footer: {\n    position: \"absolute\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    paddingHorizontal: Spacing.lg,\n    paddingTop: Spacing.lg,\n    borderTopWidth: 1,\n    borderTopColor: \"#E0E0E0\",\n  },\n});\n","import React from \"react\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport WorkoutsScreen from \"@/screens/WorkoutsScreen\";\nimport CreateWorkoutScreen from \"@/screens/CreateWorkoutScreen\";\nimport WorkoutDetailScreen from \"@/screens/WorkoutDetailScreen\";\nimport ActiveWorkoutScreen from \"@/screens/ActiveWorkoutScreen\";\nimport { useScreenOptions } from \"@/hooks/useScreenOptions\";\n\nexport type WorkoutsStackParamList = {\n  Workouts: undefined;\n  CreateWorkout: { workoutId?: string } | undefined;\n  WorkoutDetail: { workoutId: string };\n  ActiveWorkout: { workoutId: string };\n};\n\nconst Stack = createNativeStackNavigator<WorkoutsStackParamList>();\n\nexport default function WorkoutsStackNavigator() {\n  const screenOptions = useScreenOptions();\n\n  return (\n    <Stack.Navigator screenOptions={screenOptions}>\n      <Stack.Screen\n        name=\"Workouts\"\n        component={WorkoutsScreen}\n        options={{\n          headerTitle: \"Workouts\",\n        }}\n      />\n      <Stack.Screen\n        name=\"CreateWorkout\"\n        component={CreateWorkoutScreen}\n        options={{\n          headerTitle: \"Create Workout\",\n          presentation: \"modal\",\n        }}\n      />\n      <Stack.Screen\n        name=\"WorkoutDetail\"\n        component={WorkoutDetailScreen}\n        options={{\n          headerTitle: \"Workout\",\n        }}\n      />\n      <Stack.Screen\n        name=\"ActiveWorkout\"\n        component={ActiveWorkoutScreen}\n        options={{\n          headerShown: false,\n          presentation: \"fullScreenModal\",\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import React from \"react\";\nimport { View, StyleSheet, Pressable } from \"react-native\";\nimport Animated, {\n  useSharedValue,\n  useAnimatedStyle,\n  withSpring,\n  withTiming,\n  runOnJS,\n} from \"react-native-reanimated\";\nimport { Gesture, GestureDetector } from \"react-native-gesture-handler\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { FoodEntry, Food } from \"@/lib/store\";\n\ninterface FoodItemProps {\n  entry?: FoodEntry;\n  food?: Food;\n  onPress?: () => void;\n  onDelete?: () => void;\n  showMacros?: boolean;\n}\n\nconst AnimatedPressable = Animated.createAnimatedComponent(Pressable);\n\nexport function FoodItem({\n  entry,\n  food: foodProp,\n  onPress,\n  onDelete,\n  showMacros = true,\n}: FoodItemProps) {\n  const { theme } = useTheme();\n  const translateX = useSharedValue(0);\n  const scale = useSharedValue(1);\n\n  const food = entry?.food || foodProp;\n  if (!food) return null;\n\n  const calories = entry\n    ? Math.round(food.calories * entry.servings)\n    : food.calories;\n  const protein = entry\n    ? Math.round(food.protein * entry.servings)\n    : food.protein;\n  const carbs = entry ? Math.round(food.carbs * entry.servings) : food.carbs;\n  const fats = entry ? Math.round(food.fats * entry.servings) : food.fats;\n\n  const panGesture = Gesture.Pan()\n    .activeOffsetX([-10, 10])\n    .onUpdate((e) => {\n      if (e.translationX < 0) {\n        translateX.value = Math.max(e.translationX, -80);\n      }\n    })\n    .onEnd((e) => {\n      if (e.translationX < -40 && onDelete) {\n        translateX.value = withTiming(-80);\n      } else {\n        translateX.value = withSpring(0);\n      }\n    });\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    transform: [{ translateX: translateX.value }, { scale: scale.value }],\n  }));\n\n  const deleteStyle = useAnimatedStyle(() => ({\n    opacity: translateX.value < -20 ? 1 : 0,\n  }));\n\n  const handlePressIn = () => {\n    scale.value = withSpring(0.98);\n  };\n\n  const handlePressOut = () => {\n    scale.value = withSpring(1);\n  };\n\n  return (\n    <View style={styles.wrapper}>\n      <Animated.View\n        style={[\n          styles.deleteBackground,\n          { backgroundColor: theme.error },\n          deleteStyle,\n        ]}\n      >\n        <Pressable style={styles.deleteButton} onPress={onDelete}>\n          <Feather name=\"trash-2\" size={20} color=\"#FFF\" />\n        </Pressable>\n      </Animated.View>\n      <GestureDetector gesture={panGesture}>\n        <AnimatedPressable\n          onPress={onPress}\n          onPressIn={handlePressIn}\n          onPressOut={handlePressOut}\n          style={[\n            styles.container,\n            { backgroundColor: theme.backgroundDefault },\n            animatedStyle,\n          ]}\n        >\n          <View style={styles.main}>\n            <ThemedText type=\"body\" numberOfLines={1} style={styles.name}>\n              {food.name}\n            </ThemedText>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              {entry ? `${entry.servings} serving${entry.servings !== 1 ? \"s\" : \"\"}` : food.servingSize}\n            </ThemedText>\n          </View>\n          <View style={styles.nutrition}>\n            <ThemedText type=\"h4\" style={{ color: theme.primary }}>\n              {calories}\n            </ThemedText>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              cal\n            </ThemedText>\n          </View>\n          {showMacros ? (\n            <View style={styles.macros}>\n              <View style={styles.macro}>\n                <ThemedText type=\"small\" style={{ color: theme.protein }}>\n                  {protein}g\n                </ThemedText>\n                <ThemedText\n                  type=\"small\"\n                  style={[styles.macroLabel, { color: theme.textSecondary }]}\n                >\n                  P\n                </ThemedText>\n              </View>\n              <View style={styles.macro}>\n                <ThemedText type=\"small\" style={{ color: theme.carbs }}>\n                  {carbs}g\n                </ThemedText>\n                <ThemedText\n                  type=\"small\"\n                  style={[styles.macroLabel, { color: theme.textSecondary }]}\n                >\n                  C\n                </ThemedText>\n              </View>\n              <View style={styles.macro}>\n                <ThemedText type=\"small\" style={{ color: theme.fats }}>\n                  {fats}g\n                </ThemedText>\n                <ThemedText\n                  type=\"small\"\n                  style={[styles.macroLabel, { color: theme.textSecondary }]}\n                >\n                  F\n                </ThemedText>\n              </View>\n            </View>\n          ) : null}\n        </AnimatedPressable>\n      </GestureDetector>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    marginBottom: Spacing.sm,\n  },\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    padding: Spacing.md,\n    borderRadius: BorderRadius.md,\n  },\n  deleteBackground: {\n    position: \"absolute\",\n    right: 0,\n    top: 0,\n    bottom: Spacing.sm,\n    width: 80,\n    borderRadius: BorderRadius.md,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  deleteButton: {\n    width: 44,\n    height: 44,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  main: {\n    flex: 1,\n    marginRight: Spacing.md,\n  },\n  name: {\n    marginBottom: 2,\n  },\n  nutrition: {\n    alignItems: \"center\",\n    marginRight: Spacing.md,\n  },\n  macros: {\n    flexDirection: \"row\",\n    gap: Spacing.sm,\n  },\n  macro: {\n    alignItems: \"center\",\n  },\n  macroLabel: {\n    fontSize: 10,\n  },\n});\n","import React, { useState } from \"react\";\nimport { View, StyleSheet, Pressable } from \"react-native\";\nimport Animated, {\n  useAnimatedStyle,\n  withTiming,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { FoodItem } from \"@/components/FoodItem\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { FoodEntry } from \"@/lib/store\";\n\ninterface MealSectionProps {\n  title: string;\n  entries: FoodEntry[];\n  onAddFood: () => void;\n  onDeleteEntry: (id: string) => void;\n}\n\nexport function MealSection({\n  title,\n  entries,\n  onAddFood,\n  onDeleteEntry,\n}: MealSectionProps) {\n  const { theme } = useTheme();\n  const [isExpanded, setIsExpanded] = useState(true);\n  const rotation = useSharedValue(0);\n\n  const totalCalories = entries.reduce(\n    (sum, e) => sum + e.food.calories * e.servings,\n    0\n  );\n\n  const toggleExpanded = () => {\n    rotation.value = withTiming(isExpanded ? -90 : 0);\n    setIsExpanded(!isExpanded);\n  };\n\n  const chevronStyle = useAnimatedStyle(() => ({\n    transform: [{ rotate: `${rotation.value}deg` }],\n  }));\n\n  return (\n    <View style={styles.container}>\n      <Pressable onPress={toggleExpanded} style={styles.header}>\n        <View style={styles.titleRow}>\n          <Animated.View style={chevronStyle}>\n            <Feather name=\"chevron-down\" size={20} color={theme.textSecondary} />\n          </Animated.View>\n          <ThemedText type=\"h4\" style={styles.title}>\n            {title}\n          </ThemedText>\n        </View>\n        <View style={styles.caloriesRow}>\n          <ThemedText type=\"body\" style={{ color: theme.primary }}>\n            {Math.round(totalCalories)}\n          </ThemedText>\n          <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n            {\" \"}cal\n          </ThemedText>\n        </View>\n      </Pressable>\n\n      {isExpanded ? (\n        <View style={styles.content}>\n          {entries.map((entry) => (\n            <FoodItem\n              key={entry.id}\n              entry={entry}\n              onDelete={() => onDeleteEntry(entry.id)}\n            />\n          ))}\n          <Pressable\n            onPress={onAddFood}\n            style={[styles.addButton, { borderColor: theme.border }]}\n          >\n            <Feather name=\"plus\" size={18} color={theme.primary} />\n            <ThemedText type=\"small\" style={{ color: theme.primary, marginLeft: 4 }}>\n              Add Food\n            </ThemedText>\n          </Pressable>\n        </View>\n      ) : null}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    marginBottom: Spacing.lg,\n  },\n  header: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingVertical: Spacing.sm,\n  },\n  titleRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  title: {\n    marginLeft: Spacing.xs,\n  },\n  caloriesRow: {\n    flexDirection: \"row\",\n    alignItems: \"baseline\",\n  },\n  content: {\n    marginTop: Spacing.xs,\n  },\n  addButton: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingVertical: Spacing.md,\n    borderWidth: 1,\n    borderStyle: \"dashed\",\n    borderRadius: BorderRadius.md,\n  },\n});\n","import React from \"react\";\nimport { View, StyleSheet } from \"react-native\";\nimport Svg, { Circle } from \"react-native-svg\";\nimport Animated, {\n  useAnimatedProps,\n  withSpring,\n  useDerivedValue,\n} from \"react-native-reanimated\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\n\ninterface CircularProgressProps {\n  progress: number;\n  size?: number;\n  strokeWidth?: number;\n  color?: string;\n  showPercentage?: boolean;\n}\n\nconst AnimatedCircle = Animated.createAnimatedComponent(Circle);\n\nexport function CircularProgress({\n  progress,\n  size = 80,\n  strokeWidth = 8,\n  color,\n  showPercentage = true,\n}: CircularProgressProps) {\n  const { theme } = useTheme();\n  const progressColor = color || theme.primary;\n\n  const radius = (size - strokeWidth) / 2;\n  const circumference = 2 * Math.PI * radius;\n  const center = size / 2;\n\n  const clampedProgress = Math.min(Math.max(progress, 0), 1);\n\n  const animatedProgress = useDerivedValue(() => {\n    return withSpring(clampedProgress, {\n      damping: 20,\n      stiffness: 90,\n    });\n  }, [clampedProgress]);\n\n  const animatedProps = useAnimatedProps(() => {\n    const strokeDashoffset = circumference * (1 - animatedProgress.value);\n    return {\n      strokeDashoffset,\n    };\n  });\n\n  return (\n    <View style={[styles.container, { width: size, height: size }]}>\n      <Svg width={size} height={size}>\n        <Circle\n          cx={center}\n          cy={center}\n          r={radius}\n          stroke={theme.backgroundDefault}\n          strokeWidth={strokeWidth}\n          fill=\"transparent\"\n        />\n        <AnimatedCircle\n          cx={center}\n          cy={center}\n          r={radius}\n          stroke={progressColor}\n          strokeWidth={strokeWidth}\n          fill=\"transparent\"\n          strokeDasharray={circumference}\n          animatedProps={animatedProps}\n          strokeLinecap=\"round\"\n          transform={`rotate(-90 ${center} ${center})`}\n        />\n      </Svg>\n      {showPercentage ? (\n        <View style={styles.labelContainer}>\n          <ThemedText type=\"h4\" style={{ color: progressColor }}>\n            {Math.round(clampedProgress * 100)}%\n          </ThemedText>\n        </View>\n      ) : null}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  labelContainer: {\n    position: \"absolute\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n});\n","import React, { useState } from \"react\";\nimport { View, ScrollView, StyleSheet, Pressable } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useBottomTabBarHeight } from \"@react-navigation/bottom-tabs\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Card } from \"@/components/Card\";\nimport { MacroDisplay } from \"@/components/MacroDisplay\";\nimport { MealSection } from \"@/components/MealSection\";\nimport { FAB } from \"@/components/FAB\";\nimport { CircularProgress } from \"@/components/CircularProgress\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore } from \"@/lib/store\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { NutritionStackParamList } from \"@/navigation/NutritionStackNavigator\";\n\ntype NutritionNavigation = NativeStackNavigationProp<NutritionStackParamList>;\n\nexport default function NutritionScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const tabBarHeight = useBottomTabBarHeight();\n  const navigation = useNavigation<NutritionNavigation>();\n  const { theme } = useTheme();\n  const store = useStore();\n\n  const [selectedDate, setSelectedDate] = useState(\n    new Date().toISOString().split(\"T\")[0]\n  );\n\n  const dailyNutrition = store.getDailyNutrition(selectedDate);\n  const dayEntries = store.getFoodEntriesForDate(selectedDate);\n\n  const getEntriesByMeal = (mealType: string) =>\n    dayEntries.filter((e) => e.mealType === mealType);\n\n  const changeDate = (days: number) => {\n    const date = new Date(selectedDate);\n    date.setDate(date.getDate() + days);\n    setSelectedDate(date.toISOString().split(\"T\")[0]);\n  };\n\n  const formatDate = (dateStr: string) => {\n    const date = new Date(dateStr);\n    const today = new Date().toISOString().split(\"T\")[0];\n    const yesterday = new Date(Date.now() - 86400000).toISOString().split(\"T\")[0];\n\n    if (dateStr === today) return \"Today\";\n    if (dateStr === yesterday) return \"Yesterday\";\n    return date.toLocaleDateString(\"en-US\", {\n      weekday: \"short\",\n      month: \"short\",\n      day: \"numeric\",\n    });\n  };\n\n  const fabActions = [\n    {\n      icon: \"camera\" as const,\n      label: \"Scan Label\",\n      onPress: () => navigation.navigate(\"ScanNutrition\"),\n    },\n    {\n      icon: \"edit-2\" as const,\n      label: \"Add Manually\",\n      onPress: () => navigation.navigate(\"AddFood\"),\n    },\n    {\n      icon: \"book-open\" as const,\n      label: \"Log Meal Prep\",\n      onPress: () => navigation.navigate(\"LogMeal\"),\n    },\n    {\n      icon: \"plus-circle\" as const,\n      label: \"Create Meal\",\n      onPress: () => navigation.navigate(\"MealCreator\"),\n    },\n    {\n      icon: \"database\" as const,\n      label: \"My Foods\",\n      onPress: () => navigation.navigate(\"FoodDatabase\"),\n    },\n    {\n      icon: \"book\" as const,\n      label: \"My Meals\",\n      onPress: () => navigation.navigate(\"MyMeals\"),\n    },\n  ];\n\n  const caloriesProgress =\n    store.profile.goals.dailyCalories > 0\n      ? dailyNutrition.calories / store.profile.goals.dailyCalories\n      : 0;\n\n  return (\n    <View style={[styles.container, { backgroundColor: theme.backgroundRoot }]}>\n      <ScrollView\n        style={styles.scroll}\n        contentContainerStyle={{\n          paddingTop: headerHeight + Spacing.xl,\n          paddingBottom: tabBarHeight + Spacing[\"5xl\"],\n          paddingHorizontal: Spacing.lg,\n        }}\n        scrollIndicatorInsets={{ bottom: insets.bottom }}\n      >\n        <View style={styles.dateNav}>\n          <Pressable\n            onPress={() => changeDate(-1)}\n            style={[styles.dateButton, { backgroundColor: theme.backgroundDefault }]}\n          >\n            <Feather name=\"chevron-left\" size={20} color={theme.text} />\n          </Pressable>\n          <ThemedText type=\"h4\">{formatDate(selectedDate)}</ThemedText>\n          <Pressable\n            onPress={() => changeDate(1)}\n            style={[styles.dateButton, { backgroundColor: theme.backgroundDefault }]}\n          >\n            <Feather name=\"chevron-right\" size={20} color={theme.text} />\n          </Pressable>\n        </View>\n\n        <Card style={styles.summaryCard}>\n          <View style={styles.caloriesHeader}>\n            <View>\n              <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                Calories\n              </ThemedText>\n              <View style={styles.caloriesValue}>\n                <ThemedText type=\"h1\" style={{ color: theme.primary }}>\n                  {Math.round(dailyNutrition.calories)}\n                </ThemedText>\n                <ThemedText type=\"body\" style={{ color: theme.textSecondary }}>\n                  /{store.profile.goals.dailyCalories}\n                </ThemedText>\n              </View>\n            </View>\n            <CircularProgress\n              progress={caloriesProgress}\n              size={80}\n              strokeWidth={8}\n              color={theme.primary}\n              showPercentage={true}\n            />\n          </View>\n          <View style={styles.macrosRow}>\n            <MacroDisplay\n              label=\"Protein\"\n              current={dailyNutrition.protein}\n              goal={store.profile.goals.dailyProtein}\n              color={theme.protein}\n            />\n            <View style={styles.macroSpacer} />\n            <MacroDisplay\n              label=\"Carbs\"\n              current={dailyNutrition.carbs}\n              goal={store.profile.goals.dailyCarbs}\n              color={theme.carbs}\n            />\n            <View style={styles.macroSpacer} />\n            <MacroDisplay\n              label=\"Fats\"\n              current={dailyNutrition.fats}\n              goal={store.profile.goals.dailyFats}\n              color={theme.fats}\n            />\n          </View>\n        </Card>\n\n        <MealSection\n          title=\"Breakfast\"\n          entries={getEntriesByMeal(\"breakfast\")}\n          onAddFood={() =>\n            navigation.navigate(\"AddFood\", { mealType: \"breakfast\" })\n          }\n          onDeleteEntry={(id) => store.deleteFoodEntry(id)}\n        />\n        <MealSection\n          title=\"Lunch\"\n          entries={getEntriesByMeal(\"lunch\")}\n          onAddFood={() => navigation.navigate(\"AddFood\", { mealType: \"lunch\" })}\n          onDeleteEntry={(id) => store.deleteFoodEntry(id)}\n        />\n        <MealSection\n          title=\"Dinner\"\n          entries={getEntriesByMeal(\"dinner\")}\n          onAddFood={() =>\n            navigation.navigate(\"AddFood\", { mealType: \"dinner\" })\n          }\n          onDeleteEntry={(id) => store.deleteFoodEntry(id)}\n        />\n        <MealSection\n          title=\"Snacks\"\n          entries={getEntriesByMeal(\"snack\")}\n          onAddFood={() => navigation.navigate(\"AddFood\", { mealType: \"snack\" })}\n          onDeleteEntry={(id) => store.deleteFoodEntry(id)}\n        />\n      </ScrollView>\n\n      <FAB actions={fabActions} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  scroll: {\n    flex: 1,\n  },\n  dateNav: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginBottom: Spacing.xl,\n  },\n  dateButton: {\n    width: 40,\n    height: 40,\n    borderRadius: BorderRadius.md,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  summaryCard: {\n    marginBottom: Spacing.xl,\n  },\n  caloriesHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginBottom: Spacing.lg,\n  },\n  caloriesValue: {\n    flexDirection: \"row\",\n    alignItems: \"baseline\",\n  },\n  macrosRow: {\n    flexDirection: \"row\",\n  },\n  macroSpacer: {\n    width: Spacing.lg,\n  },\n});\n","import React, { useState } from \"react\";\nimport { View, StyleSheet, TextInput, Pressable, ScrollView } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useNavigation, useRoute, RouteProp } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { KeyboardAwareScrollViewCompat } from \"@/components/KeyboardAwareScrollViewCompat\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Card } from \"@/components/Card\";\nimport { FoodItem } from \"@/components/FoodItem\";\nimport { Button } from \"@/components/Button\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore, Food } from \"@/lib/store\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { NutritionStackParamList } from \"@/navigation/NutritionStackNavigator\";\n\ntype Navigation = NativeStackNavigationProp<NutritionStackParamList>;\ntype Route = RouteProp<NutritionStackParamList, \"AddFood\">;\n\nexport default function AddFoodScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const navigation = useNavigation<Navigation>();\n  const route = useRoute<Route>();\n  const { theme } = useTheme();\n  const store = useStore();\n\n  const mealType = (route.params?.mealType as any) || \"snack\";\n  const today = new Date().toISOString().split(\"T\")[0];\n\n  const [mode, setMode] = useState<\"select\" | \"create\">(\"select\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedFood, setSelectedFood] = useState<Food | null>(null);\n  const [servings, setServings] = useState(\"1\");\n\n  const [newFood, setNewFood] = useState({\n    name: \"\",\n    servingSize: \"\",\n    calories: \"\",\n    protein: \"\",\n    carbs: \"\",\n    fats: \"\",\n    fiber: \"\",\n  });\n  const [saveToDatabase, setSaveToDatabase] = useState(true);\n\n  const filteredFoods = store.foods.filter((food) =>\n    food.name.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const handleSelectFood = (food: Food) => {\n    setSelectedFood(food);\n  };\n\n  const handleAddEntry = () => {\n    if (!selectedFood) return;\n\n    store.addFoodEntry({\n      foodId: selectedFood.id,\n      food: selectedFood,\n      mealType,\n      servings: parseFloat(servings) || 1,\n      date: today,\n    });\n\n    navigation.goBack();\n  };\n\n  const handleCreateFood = () => {\n    if (!newFood.name.trim()) return;\n\n    const food = store.addFood({\n      name: newFood.name.trim(),\n      servingSize: newFood.servingSize || \"1 serving\",\n      calories: parseFloat(newFood.calories) || 0,\n      protein: parseFloat(newFood.protein) || 0,\n      carbs: parseFloat(newFood.carbs) || 0,\n      fats: parseFloat(newFood.fats) || 0,\n      fiber: parseFloat(newFood.fiber) || 0,\n      isSaved: saveToDatabase,\n    });\n\n    store.addFoodEntry({\n      foodId: food.id,\n      food,\n      mealType,\n      servings: 1,\n      date: today,\n    });\n\n    navigation.goBack();\n  };\n\n  return (\n    <KeyboardAwareScrollViewCompat\n      style={{ flex: 1, backgroundColor: theme.backgroundRoot }}\n      contentContainerStyle={{\n        paddingTop: headerHeight + Spacing.xl,\n        paddingBottom: insets.bottom + Spacing.xl,\n        paddingHorizontal: Spacing.lg,\n      }}\n    >\n      <View style={styles.tabs}>\n        <Pressable\n          onPress={() => setMode(\"select\")}\n          style={[\n            styles.tab,\n            mode === \"select\" && { backgroundColor: theme.primary },\n          ]}\n        >\n          <ThemedText\n            type=\"small\"\n            style={{ color: mode === \"select\" ? \"#FFF\" : theme.text }}\n          >\n            Select Food\n          </ThemedText>\n        </Pressable>\n        <Pressable\n          onPress={() => setMode(\"create\")}\n          style={[\n            styles.tab,\n            mode === \"create\" && { backgroundColor: theme.primary },\n          ]}\n        >\n          <ThemedText\n            type=\"small\"\n            style={{ color: mode === \"create\" ? \"#FFF\" : theme.text }}\n          >\n            Create New\n          </ThemedText>\n        </Pressable>\n      </View>\n\n      {mode === \"select\" ? (\n        <>\n          <View\n            style={[\n              styles.searchBar,\n              { backgroundColor: theme.backgroundDefault },\n            ]}\n          >\n            <Feather name=\"search\" size={18} color={theme.textSecondary} />\n            <TextInput\n              value={searchQuery}\n              onChangeText={setSearchQuery}\n              placeholder=\"Search foods...\"\n              placeholderTextColor={theme.textSecondary}\n              style={[styles.searchInput, { color: theme.text }]}\n            />\n          </View>\n\n          {selectedFood ? (\n            <Card style={styles.selectedCard}>\n              <View style={styles.selectedHeader}>\n                <ThemedText type=\"h4\">Selected</ThemedText>\n                <Pressable onPress={() => setSelectedFood(null)}>\n                  <Feather name=\"x\" size={20} color={theme.textSecondary} />\n                </Pressable>\n              </View>\n              <FoodItem food={selectedFood} showMacros />\n              <View style={styles.servingsRow}>\n                <ThemedText type=\"body\">Servings:</ThemedText>\n                <TextInput\n                  value={servings}\n                  onChangeText={setServings}\n                  keyboardType=\"decimal-pad\"\n                  style={[\n                    styles.servingsInput,\n                    { backgroundColor: theme.backgroundDefault, color: theme.text },\n                  ]}\n                />\n              </View>\n              <Button onPress={handleAddEntry}>Add to {mealType}</Button>\n            </Card>\n          ) : (\n            <View style={styles.foodList}>\n              {filteredFoods.map((food) => (\n                <FoodItem\n                  key={food.id}\n                  food={food}\n                  onPress={() => handleSelectFood(food)}\n                  showMacros={false}\n                />\n              ))}\n              {filteredFoods.length === 0 ? (\n                <View style={styles.empty}>\n                  <Feather name=\"search\" size={40} color={theme.textSecondary} />\n                  <ThemedText\n                    type=\"body\"\n                    style={{ color: theme.textSecondary, marginTop: Spacing.md }}\n                  >\n                    No foods found\n                  </ThemedText>\n                  <Pressable\n                    onPress={() => setMode(\"create\")}\n                    style={[styles.createLink, { borderColor: theme.primary }]}\n                  >\n                    <ThemedText type=\"body\" style={{ color: theme.primary }}>\n                      Create a new food\n                    </ThemedText>\n                  </Pressable>\n                </View>\n              ) : null}\n            </View>\n          )}\n        </>\n      ) : (\n        <View style={styles.createForm}>\n          <View style={styles.field}>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              Food Name *\n            </ThemedText>\n            <TextInput\n              value={newFood.name}\n              onChangeText={(text) => setNewFood({ ...newFood, name: text })}\n              placeholder=\"e.g., Chicken Breast\"\n              placeholderTextColor={theme.textSecondary}\n              style={[\n                styles.input,\n                { backgroundColor: theme.backgroundDefault, color: theme.text },\n              ]}\n            />\n          </View>\n\n          <View style={styles.field}>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              Serving Size\n            </ThemedText>\n            <TextInput\n              value={newFood.servingSize}\n              onChangeText={(text) => setNewFood({ ...newFood, servingSize: text })}\n              placeholder=\"e.g., 100g or 1 cup\"\n              placeholderTextColor={theme.textSecondary}\n              style={[\n                styles.input,\n                { backgroundColor: theme.backgroundDefault, color: theme.text },\n              ]}\n            />\n          </View>\n\n          <Card style={styles.nutritionCard}>\n            <ThemedText type=\"h4\" style={styles.nutritionTitle}>\n              Nutrition Facts\n            </ThemedText>\n            <View style={styles.nutritionGrid}>\n              <View style={styles.nutritionField}>\n                <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                  Calories\n                </ThemedText>\n                <TextInput\n                  value={newFood.calories}\n                  onChangeText={(text) =>\n                    setNewFood({ ...newFood, calories: text })\n                  }\n                  keyboardType=\"decimal-pad\"\n                  placeholder=\"0\"\n                  placeholderTextColor={theme.textSecondary}\n                  style={[\n                    styles.nutritionInput,\n                    { backgroundColor: theme.backgroundSecondary, color: theme.text },\n                  ]}\n                />\n              </View>\n              <View style={styles.nutritionField}>\n                <ThemedText type=\"small\" style={{ color: theme.protein }}>\n                  Protein (g)\n                </ThemedText>\n                <TextInput\n                  value={newFood.protein}\n                  onChangeText={(text) =>\n                    setNewFood({ ...newFood, protein: text })\n                  }\n                  keyboardType=\"decimal-pad\"\n                  placeholder=\"0\"\n                  placeholderTextColor={theme.textSecondary}\n                  style={[\n                    styles.nutritionInput,\n                    { backgroundColor: theme.backgroundSecondary, color: theme.text },\n                  ]}\n                />\n              </View>\n              <View style={styles.nutritionField}>\n                <ThemedText type=\"small\" style={{ color: theme.carbs }}>\n                  Carbs (g)\n                </ThemedText>\n                <TextInput\n                  value={newFood.carbs}\n                  onChangeText={(text) => setNewFood({ ...newFood, carbs: text })}\n                  keyboardType=\"decimal-pad\"\n                  placeholder=\"0\"\n                  placeholderTextColor={theme.textSecondary}\n                  style={[\n                    styles.nutritionInput,\n                    { backgroundColor: theme.backgroundSecondary, color: theme.text },\n                  ]}\n                />\n              </View>\n              <View style={styles.nutritionField}>\n                <ThemedText type=\"small\" style={{ color: theme.fats }}>\n                  Fats (g)\n                </ThemedText>\n                <TextInput\n                  value={newFood.fats}\n                  onChangeText={(text) => setNewFood({ ...newFood, fats: text })}\n                  keyboardType=\"decimal-pad\"\n                  placeholder=\"0\"\n                  placeholderTextColor={theme.textSecondary}\n                  style={[\n                    styles.nutritionInput,\n                    { backgroundColor: theme.backgroundSecondary, color: theme.text },\n                  ]}\n                />\n              </View>\n              <View style={styles.nutritionField}>\n                <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                  Fiber (g)\n                </ThemedText>\n                <TextInput\n                  value={newFood.fiber}\n                  onChangeText={(text) => setNewFood({ ...newFood, fiber: text })}\n                  keyboardType=\"decimal-pad\"\n                  placeholder=\"0\"\n                  placeholderTextColor={theme.textSecondary}\n                  style={[\n                    styles.nutritionInput,\n                    { backgroundColor: theme.backgroundSecondary, color: theme.text },\n                  ]}\n                />\n              </View>\n            </View>\n          </Card>\n\n          <Pressable\n            onPress={() => setSaveToDatabase(!saveToDatabase)}\n            style={styles.checkboxRow}\n          >\n            <View\n              style={[\n                styles.checkbox,\n                {\n                  backgroundColor: saveToDatabase\n                    ? theme.primary\n                    : theme.backgroundDefault,\n                  borderColor: saveToDatabase ? theme.primary : theme.border,\n                },\n              ]}\n            >\n              {saveToDatabase ? (\n                <Feather name=\"check\" size={14} color=\"#FFF\" />\n              ) : null}\n            </View>\n            <ThemedText type=\"body\">Save to My Foods</ThemedText>\n          </Pressable>\n\n          <Button onPress={handleCreateFood} disabled={!newFood.name.trim()}>\n            Add Food\n          </Button>\n        </View>\n      )}\n    </KeyboardAwareScrollViewCompat>\n  );\n}\n\nconst styles = StyleSheet.create({\n  tabs: {\n    flexDirection: \"row\",\n    marginBottom: Spacing.xl,\n    gap: Spacing.sm,\n  },\n  tab: {\n    flex: 1,\n    paddingVertical: Spacing.md,\n    alignItems: \"center\",\n    borderRadius: BorderRadius.full,\n    backgroundColor: \"transparent\",\n  },\n  searchBar: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing.md,\n    height: Spacing.inputHeight,\n    borderRadius: BorderRadius.md,\n    marginBottom: Spacing.lg,\n  },\n  searchInput: {\n    flex: 1,\n    marginLeft: Spacing.sm,\n    fontSize: 16,\n  },\n  foodList: {},\n  selectedCard: {\n    marginBottom: Spacing.lg,\n  },\n  selectedHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginBottom: Spacing.md,\n  },\n  servingsRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginVertical: Spacing.lg,\n  },\n  servingsInput: {\n    width: 80,\n    height: 40,\n    borderRadius: BorderRadius.sm,\n    textAlign: \"center\",\n    fontSize: 16,\n  },\n  empty: {\n    alignItems: \"center\",\n    paddingVertical: Spacing[\"3xl\"],\n  },\n  createLink: {\n    marginTop: Spacing.lg,\n    paddingVertical: Spacing.md,\n    paddingHorizontal: Spacing.xl,\n    borderWidth: 1,\n    borderRadius: BorderRadius.full,\n  },\n  createForm: {},\n  field: {\n    marginBottom: Spacing.lg,\n  },\n  input: {\n    height: Spacing.inputHeight,\n    borderRadius: BorderRadius.md,\n    paddingHorizontal: Spacing.lg,\n    marginTop: Spacing.xs,\n    fontSize: 16,\n  },\n  nutritionCard: {\n    marginBottom: Spacing.lg,\n  },\n  nutritionTitle: {\n    marginBottom: Spacing.md,\n  },\n  nutritionGrid: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    gap: Spacing.md,\n  },\n  nutritionField: {\n    width: \"30%\",\n    flexGrow: 1,\n  },\n  nutritionInput: {\n    height: 40,\n    borderRadius: BorderRadius.sm,\n    textAlign: \"center\",\n    marginTop: Spacing.xs,\n    fontSize: 16,\n  },\n  checkboxRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: Spacing.xl,\n  },\n  checkbox: {\n    width: 24,\n    height: 24,\n    borderRadius: BorderRadius.xs,\n    borderWidth: 2,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginRight: Spacing.md,\n  },\n});\n","import React, { useState } from \"react\";\nimport { View, StyleSheet, TextInput, Pressable, Alert } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useBottomTabBarHeight } from \"@react-navigation/bottom-tabs\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { KeyboardAwareScrollViewCompat } from \"@/components/KeyboardAwareScrollViewCompat\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { FoodItem } from \"@/components/FoodItem\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore } from \"@/lib/store\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { NutritionStackParamList } from \"@/navigation/NutritionStackNavigator\";\n\ntype Navigation = NativeStackNavigationProp<NutritionStackParamList>;\n\nexport default function FoodDatabaseScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const tabBarHeight = useBottomTabBarHeight();\n  const navigation = useNavigation<Navigation>();\n  const { theme } = useTheme();\n  const store = useStore();\n\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const savedFoods = store.foods.filter(\n    (food) =>\n      food.isSaved &&\n      food.name.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const handleDelete = (foodId: string) => {\n    const food = store.foods.find((f) => f.id === foodId);\n    Alert.alert(\n      \"Delete Food\",\n      `Are you sure you want to delete \"${food?.name}\"?`,\n      [\n        { text: \"Cancel\", style: \"cancel\" },\n        {\n          text: \"Delete\",\n          style: \"destructive\",\n          onPress: () => store.deleteFood(foodId),\n        },\n      ]\n    );\n  };\n\n  return (\n    <KeyboardAwareScrollViewCompat\n      style={{ flex: 1, backgroundColor: theme.backgroundRoot }}\n      contentContainerStyle={{\n        paddingTop: headerHeight + Spacing.xl,\n        paddingBottom: tabBarHeight + Spacing.xl,\n        paddingHorizontal: Spacing.lg,\n      }}\n      scrollIndicatorInsets={{ bottom: insets.bottom }}\n    >\n      <View\n        style={[styles.searchBar, { backgroundColor: theme.backgroundDefault }]}\n      >\n        <Feather name=\"search\" size={18} color={theme.textSecondary} />\n        <TextInput\n          value={searchQuery}\n          onChangeText={setSearchQuery}\n          placeholder=\"Search your foods...\"\n          placeholderTextColor={theme.textSecondary}\n          style={[styles.searchInput, { color: theme.text }]}\n        />\n      </View>\n\n      <View style={styles.header}>\n        <ThemedText type=\"h4\">Saved Foods ({savedFoods.length})</ThemedText>\n        <Pressable\n          onPress={() => navigation.navigate(\"ScanNutrition\")}\n          style={[styles.scanButton, { backgroundColor: theme.primary }]}\n        >\n          <Feather name=\"camera\" size={16} color=\"#FFF\" />\n          <ThemedText type=\"small\" style={{ color: \"#FFF\", marginLeft: 4 }}>\n            Scan New\n          </ThemedText>\n        </Pressable>\n      </View>\n\n      {savedFoods.length === 0 ? (\n        <View style={styles.empty}>\n          <Feather name=\"database\" size={48} color={theme.textSecondary} />\n          <ThemedText\n            type=\"body\"\n            style={{ color: theme.textSecondary, marginTop: Spacing.md }}\n          >\n            {searchQuery ? \"No matching foods\" : \"No saved foods yet\"}\n          </ThemedText>\n          <ThemedText\n            type=\"small\"\n            style={{\n              color: theme.textSecondary,\n              marginTop: Spacing.sm,\n              textAlign: \"center\",\n            }}\n          >\n            Scan nutrition labels or create foods manually to build your\n            personal database\n          </ThemedText>\n        </View>\n      ) : (\n        <View style={styles.foodList}>\n          {savedFoods.map((food) => (\n            <FoodItem\n              key={food.id}\n              food={food}\n              onPress={() => navigation.navigate(\"EditFood\", { foodId: food.id })}\n              onDelete={() => handleDelete(food.id)}\n              showMacros\n            />\n          ))}\n        </View>\n      )}\n    </KeyboardAwareScrollViewCompat>\n  );\n}\n\nconst styles = StyleSheet.create({\n  searchBar: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing.md,\n    height: Spacing.inputHeight,\n    borderRadius: BorderRadius.md,\n    marginBottom: Spacing.lg,\n  },\n  searchInput: {\n    flex: 1,\n    marginLeft: Spacing.sm,\n    fontSize: 16,\n  },\n  header: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginBottom: Spacing.lg,\n  },\n  scanButton: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingVertical: Spacing.sm,\n    paddingHorizontal: Spacing.md,\n    borderRadius: BorderRadius.full,\n  },\n  foodList: {},\n  empty: {\n    alignItems: \"center\",\n    paddingVertical: Spacing[\"4xl\"],\n  },\n});\n","import React, { useState, useRef } from \"react\";\nimport { View, StyleSheet, Pressable, Platform, Image } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport { CameraView, useCameraPermissions } from \"expo-camera\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport * as FileSystem from \"expo-file-system/legacy\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { Card } from \"@/components/Card\";\nimport { Button } from \"@/components/Button\";\nimport { KeyboardAwareScrollViewCompat } from \"@/components/KeyboardAwareScrollViewCompat\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore } from \"@/lib/store\";\nimport { apiRequest } from \"@/lib/query-client\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { NutritionStackParamList } from \"@/navigation/NutritionStackNavigator\";\n\ntype Navigation = NativeStackNavigationProp<NutritionStackParamList>;\n\nexport default function ScanNutritionScreen() {\n  const insets = useSafeAreaInsets();\n  const navigation = useNavigation<Navigation>();\n  const { theme } = useTheme();\n  const store = useStore();\n\n  const [permission, requestPermission] = useCameraPermissions();\n  const [capturedImage, setCapturedImage] = useState<string | null>(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [extractedData, setExtractedData] = useState<{\n    name: string;\n    servingSize: string;\n    calories: number;\n    protein: number;\n    carbs: number;\n    fats: number;\n    fiber: number;\n  } | null>(null);\n\n  const cameraRef = useRef<CameraView>(null);\n\n  const handleCapture = async () => {\n    if (cameraRef.current) {\n      const photo = await cameraRef.current.takePictureAsync({\n        quality: 0.5,\n      });\n      if (photo) {\n        setCapturedImage(photo.uri);\n        analyzeImage(photo.uri);\n      }\n    }\n  };\n\n  const handlePickImage = async () => {\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: [\"images\"],\n      quality: 0.5,\n    });\n\n    if (!result.canceled && result.assets[0]) {\n      setCapturedImage(result.assets[0].uri);\n      analyzeImage(result.assets[0].uri);\n    }\n  };\n\n  const [analysisError, setAnalysisError] = useState<string | null>(null);\n\n  const analyzeImage = async (imageUri: string) => {\n    setIsAnalyzing(true);\n    setAnalysisError(null);\n    setExtractedData(null);\n    \n    try {\n      // Read the image as base64 - use string literal for compatibility\n      const base64 = await FileSystem.readAsStringAsync(imageUri, {\n        encoding: 'base64',\n      });\n      \n      const imageBase64 = `data:image/jpeg;base64,${base64}`;\n      \n      // Send to our API for OpenAI vision analysis\n      const response = await apiRequest(\"POST\", \"/api/analyze-nutrition\", {\n        imageBase64,\n      });\n      \n      const result = await response.json();\n      \n      if (result.success && result.data) {\n        setExtractedData({\n          name: result.data.name,\n          servingSize: result.data.servingSize,\n          calories: result.data.calories,\n          protein: result.data.protein,\n          carbs: result.data.carbs,\n          fats: result.data.fats,\n          fiber: result.data.fiber,\n        });\n      } else {\n        setAnalysisError(result.error || \"Could not analyze the nutrition label\");\n      }\n    } catch (error: any) {\n      console.error(\"Analysis error:\", error);\n      setAnalysisError(\"Failed to analyze the image. Please try again.\");\n    }\n    \n    setIsAnalyzing(false);\n  };\n\n  const handleSave = () => {\n    if (!extractedData) return;\n\n    store.addFood({\n      ...extractedData,\n      isSaved: true,\n    });\n\n    navigation.goBack();\n  };\n\n  const handleRetake = () => {\n    setCapturedImage(null);\n    setExtractedData(null);\n  };\n\n  if (Platform.OS === \"web\") {\n    return (\n      <ThemedView\n        style={[\n          styles.container,\n          { paddingTop: insets.top, paddingBottom: insets.bottom },\n        ]}\n      >\n        <View style={styles.webFallback}>\n          <Feather name=\"camera-off\" size={48} color={theme.textSecondary} />\n          <ThemedText\n            type=\"h4\"\n            style={{ marginTop: Spacing.lg, textAlign: \"center\" }}\n          >\n            Camera not available on web\n          </ThemedText>\n          <ThemedText\n            type=\"body\"\n            style={{\n              color: theme.textSecondary,\n              marginTop: Spacing.sm,\n              textAlign: \"center\",\n            }}\n          >\n            Run this app in Expo Go on your phone to scan nutrition labels\n          </ThemedText>\n          <Button onPress={() => navigation.goBack()} style={{ marginTop: Spacing.xl }}>\n            Go Back\n          </Button>\n        </View>\n      </ThemedView>\n    );\n  }\n\n  if (!permission) {\n    return (\n      <ThemedView style={styles.container}>\n        <View style={styles.centered}>\n          <ThemedText>Loading camera...</ThemedText>\n        </View>\n      </ThemedView>\n    );\n  }\n\n  if (!permission.granted) {\n    return (\n      <ThemedView\n        style={[\n          styles.container,\n          { paddingTop: insets.top, paddingBottom: insets.bottom },\n        ]}\n      >\n        <View style={styles.centered}>\n          <Feather name=\"camera\" size={48} color={theme.textSecondary} />\n          <ThemedText\n            type=\"h4\"\n            style={{ marginTop: Spacing.lg, textAlign: \"center\" }}\n          >\n            Camera Permission Required\n          </ThemedText>\n          <ThemedText\n            type=\"body\"\n            style={{\n              color: theme.textSecondary,\n              marginTop: Spacing.sm,\n              textAlign: \"center\",\n              paddingHorizontal: Spacing.xl,\n            }}\n          >\n            We need camera access to scan nutrition labels from food products\n          </ThemedText>\n          <Button onPress={requestPermission} style={{ marginTop: Spacing.xl }}>\n            Enable Camera\n          </Button>\n          <Pressable\n            onPress={() => navigation.goBack()}\n            style={{ marginTop: Spacing.lg }}\n          >\n            <ThemedText type=\"body\" style={{ color: theme.primary }}>\n              Cancel\n            </ThemedText>\n          </Pressable>\n        </View>\n      </ThemedView>\n    );\n  }\n\n  if (capturedImage) {\n    return (\n      <KeyboardAwareScrollViewCompat\n        style={{ flex: 1, backgroundColor: theme.backgroundRoot }}\n        contentContainerStyle={{\n          paddingTop: insets.top + Spacing.xl,\n          paddingBottom: insets.bottom + Spacing.xl,\n          paddingHorizontal: Spacing.lg,\n        }}\n      >\n        <View style={styles.header}>\n          <Pressable onPress={handleRetake} style={styles.headerButton}>\n            <Feather name=\"arrow-left\" size={24} color={theme.text} />\n          </Pressable>\n          <ThemedText type=\"h4\">Scanned Label</ThemedText>\n          <View style={{ width: 44 }} />\n        </View>\n\n        <Image source={{ uri: capturedImage }} style={styles.previewImage} />\n\n        {isAnalyzing ? (\n          <View style={styles.analyzing}>\n            <Feather name=\"loader\" size={32} color={theme.primary} />\n            <ThemedText type=\"body\" style={{ marginTop: Spacing.md }}>\n              Analyzing nutrition label...\n            </ThemedText>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary, marginTop: Spacing.xs }}>\n              This may take a few seconds\n            </ThemedText>\n          </View>\n        ) : analysisError ? (\n          <Card style={styles.resultCard}>\n            <View style={styles.errorContainer}>\n              <Feather name=\"alert-circle\" size={32} color={theme.error} />\n              <ThemedText type=\"body\" style={{ color: theme.error, marginTop: Spacing.md, textAlign: \"center\" }}>\n                {analysisError}\n              </ThemedText>\n              <Button onPress={handleRetake} style={{ marginTop: Spacing.lg }}>\n                Try Again\n              </Button>\n            </View>\n          </Card>\n        ) : extractedData ? (\n          <Card style={styles.resultCard}>\n            <ThemedText type=\"h4\" style={styles.resultTitle}>\n              Extracted Nutrition\n            </ThemedText>\n            <View style={styles.resultRow}>\n              <ThemedText type=\"body\">Name</ThemedText>\n              <ThemedText type=\"body\" style={{ fontWeight: \"600\" }}>\n                {extractedData.name}\n              </ThemedText>\n            </View>\n            <View style={styles.resultRow}>\n              <ThemedText type=\"body\">Serving Size</ThemedText>\n              <ThemedText type=\"body\">{extractedData.servingSize}</ThemedText>\n            </View>\n            <View style={[styles.divider, { backgroundColor: theme.border }]} />\n            <View style={styles.resultRow}>\n              <ThemedText type=\"body\" style={{ color: theme.primary }}>\n                Calories\n              </ThemedText>\n              <ThemedText\n                type=\"h4\"\n                style={{ color: theme.primary }}\n              >\n                {extractedData.calories}\n              </ThemedText>\n            </View>\n            <View style={styles.macroRow}>\n              <View style={styles.macroItem}>\n                <ThemedText type=\"small\" style={{ color: theme.protein }}>\n                  Protein\n                </ThemedText>\n                <ThemedText type=\"body\" style={{ fontWeight: \"600\" }}>\n                  {extractedData.protein}g\n                </ThemedText>\n              </View>\n              <View style={styles.macroItem}>\n                <ThemedText type=\"small\" style={{ color: theme.carbs }}>\n                  Carbs\n                </ThemedText>\n                <ThemedText type=\"body\" style={{ fontWeight: \"600\" }}>\n                  {extractedData.carbs}g\n                </ThemedText>\n              </View>\n              <View style={styles.macroItem}>\n                <ThemedText type=\"small\" style={{ color: theme.fats }}>\n                  Fats\n                </ThemedText>\n                <ThemedText type=\"body\" style={{ fontWeight: \"600\" }}>\n                  {extractedData.fats}g\n                </ThemedText>\n              </View>\n              <View style={styles.macroItem}>\n                <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                  Fiber\n                </ThemedText>\n                <ThemedText type=\"body\" style={{ fontWeight: \"600\" }}>\n                  {extractedData.fiber}g\n                </ThemedText>\n              </View>\n            </View>\n            <Button onPress={handleSave}>Save to My Foods</Button>\n          </Card>\n        ) : null}\n      </KeyboardAwareScrollViewCompat>\n    );\n  }\n\n  return (\n    <View style={[styles.container, { backgroundColor: \"#000\" }]}>\n      <CameraView ref={cameraRef} style={styles.camera} facing=\"back\">\n        <View style={[styles.overlay, { paddingTop: insets.top }]}>\n          <View style={styles.topBar}>\n            <Pressable\n              onPress={() => navigation.goBack()}\n              style={styles.closeButton}\n            >\n              <ThemedText type=\"body\" style={{ color: \"#FFF\" }}>\n                Cancel\n              </ThemedText>\n            </Pressable>\n          </View>\n\n          <View style={styles.viewfinder}>\n            <View style={[styles.corner, styles.topLeft]} />\n            <View style={[styles.corner, styles.topRight]} />\n            <View style={[styles.corner, styles.bottomLeft]} />\n            <View style={[styles.corner, styles.bottomRight]} />\n          </View>\n\n          <ThemedText type=\"body\" style={styles.instruction}>\n            Position the nutrition label within the frame\n          </ThemedText>\n\n          <View style={[styles.bottomBar, { paddingBottom: insets.bottom + Spacing.lg }]}>\n            <Pressable onPress={handlePickImage} style={styles.galleryButton}>\n              <Feather name=\"image\" size={24} color=\"#FFF\" />\n            </Pressable>\n            <Pressable onPress={handleCapture} style={styles.captureButton}>\n              <View style={styles.captureInner} />\n            </Pressable>\n            <View style={{ width: 44 }} />\n          </View>\n        </View>\n      </CameraView>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  centered: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: Spacing.xl,\n  },\n  webFallback: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: Spacing.xl,\n  },\n  camera: {\n    flex: 1,\n  },\n  overlay: {\n    flex: 1,\n    backgroundColor: \"rgba(0,0,0,0.3)\",\n  },\n  topBar: {\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\",\n    padding: Spacing.lg,\n  },\n  closeButton: {\n    padding: Spacing.sm,\n  },\n  viewfinder: {\n    flex: 1,\n    marginHorizontal: Spacing[\"2xl\"],\n    marginVertical: Spacing[\"4xl\"],\n    position: \"relative\",\n  },\n  corner: {\n    position: \"absolute\",\n    width: 40,\n    height: 40,\n    borderColor: \"#FFF\",\n  },\n  topLeft: {\n    top: 0,\n    left: 0,\n    borderTopWidth: 3,\n    borderLeftWidth: 3,\n  },\n  topRight: {\n    top: 0,\n    right: 0,\n    borderTopWidth: 3,\n    borderRightWidth: 3,\n  },\n  bottomLeft: {\n    bottom: 0,\n    left: 0,\n    borderBottomWidth: 3,\n    borderLeftWidth: 3,\n  },\n  bottomRight: {\n    bottom: 0,\n    right: 0,\n    borderBottomWidth: 3,\n    borderRightWidth: 3,\n  },\n  instruction: {\n    color: \"#FFF\",\n    textAlign: \"center\",\n    marginBottom: Spacing.xl,\n  },\n  bottomBar: {\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing[\"2xl\"],\n  },\n  galleryButton: {\n    width: 44,\n    height: 44,\n    borderRadius: 22,\n    backgroundColor: \"rgba(255,255,255,0.2)\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  captureButton: {\n    width: 70,\n    height: 70,\n    borderRadius: 35,\n    backgroundColor: \"#FFF\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  captureInner: {\n    width: 58,\n    height: 58,\n    borderRadius: 29,\n    backgroundColor: \"#FFF\",\n    borderWidth: 3,\n    borderColor: \"#000\",\n  },\n  header: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginBottom: Spacing.lg,\n  },\n  headerButton: {\n    width: 44,\n    height: 44,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  previewImage: {\n    width: \"100%\",\n    height: 200,\n    borderRadius: BorderRadius.lg,\n    marginBottom: Spacing.lg,\n  },\n  analyzing: {\n    alignItems: \"center\",\n    paddingVertical: Spacing[\"3xl\"],\n  },\n  resultCard: {\n    marginBottom: Spacing.lg,\n  },\n  resultTitle: {\n    marginBottom: Spacing.lg,\n  },\n  resultRow: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingVertical: Spacing.sm,\n  },\n  divider: {\n    height: 1,\n    marginVertical: Spacing.md,\n  },\n  macroRow: {\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    marginVertical: Spacing.lg,\n  },\n  macroItem: {\n    alignItems: \"center\",\n  },\n  errorContainer: {\n    alignItems: \"center\",\n    paddingVertical: Spacing.xl,\n  },\n});\n","import React, { useState, useMemo } from \"react\";\nimport { View, StyleSheet, TextInput, Pressable } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useNavigation, useRoute, RouteProp } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { KeyboardAwareScrollViewCompat } from \"@/components/KeyboardAwareScrollViewCompat\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Card } from \"@/components/Card\";\nimport { Button } from \"@/components/Button\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore, MealIngredient, Meal, Food } from \"@/lib/store\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { NutritionStackParamList } from \"@/navigation/NutritionStackNavigator\";\n\ntype Navigation = NativeStackNavigationProp<NutritionStackParamList>;\ntype Route = RouteProp<NutritionStackParamList, \"MealCreator\">;\n\nconst generateIngredientId = () => Math.random().toString(36).substring(2, 15);\n\nexport default function MealCreatorScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const navigation = useNavigation<Navigation>();\n  const route = useRoute<Route>();\n  const { theme } = useTheme();\n  const store = useStore();\n\n  const editMealId = route.params?.mealId;\n  const existingMeal = editMealId ? store.getMealById(editMealId) : null;\n\n  const [mealName, setMealName] = useState(existingMeal?.name || \"\");\n  const [totalServings, setTotalServings] = useState(\n    existingMeal?.totalServings?.toString() || \"4\"\n  );\n  const [ingredients, setIngredients] = useState<MealIngredient[]>(\n    existingMeal?.ingredients || []\n  );\n\n  const [newIngredient, setNewIngredient] = useState({\n    name: \"\",\n    amount: \"\",\n    unit: \"g\",\n    calories: \"\",\n    protein: \"\",\n    carbs: \"\",\n    fats: \"\",\n    fiber: \"\",\n  });\n\n  const [selectedFoodReference, setSelectedFoodReference] = useState<{\n    originalServingSize: number;\n    originalCalories: number;\n    originalProtein: number;\n    originalCarbs: number;\n    originalFats: number;\n    originalFiber: number;\n  } | null>(null);\n\n  const [showStoredFoods, setShowStoredFoods] = useState(false);\n  const [foodSearch, setFoodSearch] = useState(\"\");\n\n  const filteredFoods = useMemo(() => {\n    if (!foodSearch.trim()) return store.foods;\n    const search = foodSearch.toLowerCase();\n    return store.foods.filter((food) =>\n      food.name.toLowerCase().includes(search)\n    );\n  }, [store.foods, foodSearch]);\n\n  const handleSelectStoredFood = (food: Food) => {\n    const servingSize = parseFloat(food.servingSize) || 100;\n    setSelectedFoodReference({\n      originalServingSize: servingSize,\n      originalCalories: food.calories,\n      originalProtein: food.protein,\n      originalCarbs: food.carbs,\n      originalFats: food.fats,\n      originalFiber: food.fiber || 0,\n    });\n    setNewIngredient({\n      name: food.name,\n      amount: String(servingSize),\n      unit: \"g\",\n      calories: String(food.calories),\n      protein: String(food.protein),\n      carbs: String(food.carbs),\n      fats: String(food.fats),\n      fiber: String(food.fiber || 0),\n    });\n    setShowStoredFoods(false);\n    setFoodSearch(\"\");\n  };\n\n  const handleAmountChange = (newAmount: string) => {\n    if (selectedFoodReference) {\n      const amount = parseFloat(newAmount) || 0;\n      const ratio = amount / selectedFoodReference.originalServingSize;\n      setNewIngredient({\n        ...newIngredient,\n        amount: newAmount,\n        calories: String(Math.round(selectedFoodReference.originalCalories * ratio * 10) / 10),\n        protein: String(Math.round(selectedFoodReference.originalProtein * ratio * 10) / 10),\n        carbs: String(Math.round(selectedFoodReference.originalCarbs * ratio * 10) / 10),\n        fats: String(Math.round(selectedFoodReference.originalFats * ratio * 10) / 10),\n        fiber: String(Math.round(selectedFoodReference.originalFiber * ratio * 10) / 10),\n      });\n    } else {\n      setNewIngredient({ ...newIngredient, amount: newAmount });\n    }\n  };\n\n  const calculateTotals = () => {\n    return ingredients.reduce(\n      (acc, ing) => ({\n        calories: acc.calories + ing.calories,\n        protein: acc.protein + ing.protein,\n        carbs: acc.carbs + ing.carbs,\n        fats: acc.fats + ing.fats,\n        fiber: acc.fiber + ing.fiber,\n      }),\n      { calories: 0, protein: 0, carbs: 0, fats: 0, fiber: 0 }\n    );\n  };\n\n  const calculatePerServing = () => {\n    const totals = calculateTotals();\n    const servings = parseFloat(totalServings) || 1;\n    return {\n      calories: totals.calories / servings,\n      protein: totals.protein / servings,\n      carbs: totals.carbs / servings,\n      fats: totals.fats / servings,\n      fiber: totals.fiber / servings,\n    };\n  };\n\n  const handleAddIngredient = () => {\n    if (!newIngredient.name.trim()) return;\n\n    const ingredient: MealIngredient = {\n      id: generateIngredientId(),\n      name: newIngredient.name.trim(),\n      amount: parseFloat(newIngredient.amount) || 1,\n      unit: newIngredient.unit || \"g\",\n      calories: parseFloat(newIngredient.calories) || 0,\n      protein: parseFloat(newIngredient.protein) || 0,\n      carbs: parseFloat(newIngredient.carbs) || 0,\n      fats: parseFloat(newIngredient.fats) || 0,\n      fiber: parseFloat(newIngredient.fiber) || 0,\n    };\n\n    setIngredients([...ingredients, ingredient]);\n    setNewIngredient({\n      name: \"\",\n      amount: \"\",\n      unit: \"g\",\n      calories: \"\",\n      protein: \"\",\n      carbs: \"\",\n      fats: \"\",\n      fiber: \"\",\n    });\n    setSelectedFoodReference(null);\n  };\n\n  const handleRemoveIngredient = (id: string) => {\n    setIngredients(ingredients.filter((ing) => ing.id !== id));\n  };\n\n  const handleSaveMeal = () => {\n    if (!mealName.trim() || ingredients.length === 0) return;\n\n    const mealData = {\n      name: mealName.trim(),\n      ingredients,\n      totalServings: parseFloat(totalServings) || 1,\n    };\n\n    if (editMealId) {\n      store.updateMeal(editMealId, mealData);\n    } else {\n      store.addMeal(mealData);\n    }\n\n    navigation.goBack();\n  };\n\n  const totals = calculateTotals();\n  const perServing = calculatePerServing();\n\n  return (\n    <KeyboardAwareScrollViewCompat\n      style={{ flex: 1, backgroundColor: theme.backgroundRoot }}\n      contentContainerStyle={{\n        paddingTop: headerHeight + Spacing.xl,\n        paddingBottom: insets.bottom + Spacing[\"5xl\"],\n        paddingHorizontal: Spacing.lg,\n      }}\n    >\n      <View style={styles.field}>\n        <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n          Meal Name *\n        </ThemedText>\n        <TextInput\n          value={mealName}\n          onChangeText={setMealName}\n          placeholder=\"e.g., Chicken Rice Bowl\"\n          placeholderTextColor={theme.textSecondary}\n          style={[\n            styles.input,\n            { backgroundColor: theme.backgroundDefault, color: theme.text },\n          ]}\n        />\n      </View>\n\n      <View style={styles.field}>\n        <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n          Total Servings (batch size)\n        </ThemedText>\n        <TextInput\n          value={totalServings}\n          onChangeText={setTotalServings}\n          placeholder=\"4\"\n          keyboardType=\"decimal-pad\"\n          placeholderTextColor={theme.textSecondary}\n          style={[\n            styles.input,\n            { backgroundColor: theme.backgroundDefault, color: theme.text, width: 100 },\n          ]}\n        />\n      </View>\n\n      <Card style={styles.ingredientsCard}>\n        <View style={styles.sectionHeader}>\n          <ThemedText type=\"h4\">Ingredients</ThemedText>\n          <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n            {ingredients.length} items\n          </ThemedText>\n        </View>\n\n        {ingredients.map((ing) => (\n          <View key={ing.id} style={[styles.ingredientItem, { borderBottomColor: theme.border }]}>\n            <View style={styles.ingredientInfo}>\n              <ThemedText type=\"body\">{ing.name}</ThemedText>\n              <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                {ing.amount} {ing.unit} - {Math.round(ing.calories)} cal\n              </ThemedText>\n            </View>\n            <Pressable\n              onPress={() => handleRemoveIngredient(ing.id)}\n              hitSlop={8}\n            >\n              <Feather name=\"x\" size={20} color={theme.error} />\n            </Pressable>\n          </View>\n        ))}\n\n        {ingredients.length === 0 ? (\n          <View style={styles.emptyIngredients}>\n            <Feather name=\"list\" size={32} color={theme.textSecondary} />\n            <ThemedText type=\"body\" style={{ color: theme.textSecondary, marginTop: Spacing.sm }}>\n              No ingredients added yet\n            </ThemedText>\n          </View>\n        ) : null}\n      </Card>\n\n      <Card style={styles.storedFoodsCard}>\n        <Pressable\n          onPress={() => setShowStoredFoods(!showStoredFoods)}\n          style={styles.storedFoodsHeader}\n        >\n          <View style={styles.storedFoodsHeaderLeft}>\n            <Feather name=\"database\" size={18} color={theme.primary} />\n            <ThemedText type=\"h4\" style={{ marginLeft: Spacing.sm }}>\n              Stored Foods\n            </ThemedText>\n          </View>\n          <View style={styles.storedFoodsHeaderRight}>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              {store.foods.length} items\n            </ThemedText>\n            <Feather\n              name={showStoredFoods ? \"chevron-up\" : \"chevron-down\"}\n              size={20}\n              color={theme.textSecondary}\n              style={{ marginLeft: Spacing.xs }}\n            />\n          </View>\n        </Pressable>\n\n        {showStoredFoods ? (\n          <View style={styles.storedFoodsContent}>\n            <TextInput\n              value={foodSearch}\n              onChangeText={setFoodSearch}\n              placeholder=\"Search stored foods...\"\n              placeholderTextColor={theme.textSecondary}\n              style={[\n                styles.searchInput,\n                { backgroundColor: theme.backgroundSecondary, color: theme.text },\n              ]}\n            />\n            {filteredFoods.length === 0 ? (\n              <View style={styles.emptyStoredFoods}>\n                <Feather name=\"inbox\" size={24} color={theme.textSecondary} />\n                <ThemedText\n                  type=\"small\"\n                  style={{ color: theme.textSecondary, marginTop: Spacing.xs }}\n                >\n                  {store.foods.length === 0\n                    ? \"No stored foods yet\"\n                    : \"No matching foods\"}\n                </ThemedText>\n              </View>\n            ) : (\n              filteredFoods.slice(0, 8).map((food) => (\n                <Pressable\n                  key={food.id}\n                  onPress={() => handleSelectStoredFood(food)}\n                  style={[\n                    styles.storedFoodItem,\n                    { borderBottomColor: theme.border },\n                  ]}\n                >\n                  <View style={styles.storedFoodInfo}>\n                    <ThemedText type=\"body\">{food.name}</ThemedText>\n                    <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                      {food.calories} cal - P:{food.protein}g C:{food.carbs}g F:{food.fats}g\n                    </ThemedText>\n                  </View>\n                  <Feather name=\"plus-circle\" size={20} color={theme.primary} />\n                </Pressable>\n              ))\n            )}\n            {filteredFoods.length > 8 ? (\n              <ThemedText\n                type=\"small\"\n                style={{\n                  color: theme.textSecondary,\n                  textAlign: \"center\",\n                  marginTop: Spacing.sm,\n                }}\n              >\n                +{filteredFoods.length - 8} more - refine your search\n              </ThemedText>\n            ) : null}\n          </View>\n        ) : null}\n      </Card>\n\n      <Card style={styles.addIngredientCard}>\n        <ThemedText type=\"h4\" style={{ marginBottom: Spacing.md }}>\n          Add Ingredient\n        </ThemedText>\n\n        <View style={styles.ingredientRow}>\n          <View style={[styles.ingredientField, { flex: 2 }]}>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              Name *\n            </ThemedText>\n            <TextInput\n              value={newIngredient.name}\n              onChangeText={(text) =>\n                setNewIngredient({ ...newIngredient, name: text })\n              }\n              placeholder=\"Ingredient name\"\n              placeholderTextColor={theme.textSecondary}\n              style={[\n                styles.smallInput,\n                { backgroundColor: theme.backgroundSecondary, color: theme.text },\n              ]}\n            />\n          </View>\n          <View style={styles.ingredientField}>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              Amount\n            </ThemedText>\n            <TextInput\n              value={newIngredient.amount}\n              onChangeText={handleAmountChange}\n              placeholder=\"100\"\n              keyboardType=\"decimal-pad\"\n              placeholderTextColor={theme.textSecondary}\n              style={[\n                styles.smallInput,\n                { backgroundColor: theme.backgroundSecondary, color: theme.text },\n              ]}\n            />\n          </View>\n          <View style={styles.ingredientField}>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              Unit\n            </ThemedText>\n            <TextInput\n              value={newIngredient.unit}\n              onChangeText={(text) =>\n                setNewIngredient({ ...newIngredient, unit: text })\n              }\n              placeholder=\"g\"\n              placeholderTextColor={theme.textSecondary}\n              style={[\n                styles.smallInput,\n                { backgroundColor: theme.backgroundSecondary, color: theme.text },\n              ]}\n            />\n          </View>\n        </View>\n\n        <View style={styles.nutritionRow}>\n          <View style={styles.nutritionField}>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              Calories\n            </ThemedText>\n            <TextInput\n              value={newIngredient.calories}\n              onChangeText={(text) =>\n                setNewIngredient({ ...newIngredient, calories: text })\n              }\n              placeholder=\"0\"\n              keyboardType=\"decimal-pad\"\n              placeholderTextColor={theme.textSecondary}\n              style={[\n                styles.nutritionInput,\n                { backgroundColor: theme.backgroundSecondary, color: theme.text },\n              ]}\n            />\n          </View>\n          <View style={styles.nutritionField}>\n            <ThemedText type=\"small\" style={{ color: theme.protein }}>\n              Protein\n            </ThemedText>\n            <TextInput\n              value={newIngredient.protein}\n              onChangeText={(text) =>\n                setNewIngredient({ ...newIngredient, protein: text })\n              }\n              placeholder=\"0\"\n              keyboardType=\"decimal-pad\"\n              placeholderTextColor={theme.textSecondary}\n              style={[\n                styles.nutritionInput,\n                { backgroundColor: theme.backgroundSecondary, color: theme.text },\n              ]}\n            />\n          </View>\n          <View style={styles.nutritionField}>\n            <ThemedText type=\"small\" style={{ color: theme.carbs }}>\n              Carbs\n            </ThemedText>\n            <TextInput\n              value={newIngredient.carbs}\n              onChangeText={(text) =>\n                setNewIngredient({ ...newIngredient, carbs: text })\n              }\n              placeholder=\"0\"\n              keyboardType=\"decimal-pad\"\n              placeholderTextColor={theme.textSecondary}\n              style={[\n                styles.nutritionInput,\n                { backgroundColor: theme.backgroundSecondary, color: theme.text },\n              ]}\n            />\n          </View>\n          <View style={styles.nutritionField}>\n            <ThemedText type=\"small\" style={{ color: theme.fats }}>\n              Fats\n            </ThemedText>\n            <TextInput\n              value={newIngredient.fats}\n              onChangeText={(text) =>\n                setNewIngredient({ ...newIngredient, fats: text })\n              }\n              placeholder=\"0\"\n              keyboardType=\"decimal-pad\"\n              placeholderTextColor={theme.textSecondary}\n              style={[\n                styles.nutritionInput,\n                { backgroundColor: theme.backgroundSecondary, color: theme.text },\n              ]}\n            />\n          </View>\n          <View style={styles.nutritionField}>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              Fiber\n            </ThemedText>\n            <TextInput\n              value={newIngredient.fiber}\n              onChangeText={(text) =>\n                setNewIngredient({ ...newIngredient, fiber: text })\n              }\n              placeholder=\"0\"\n              keyboardType=\"decimal-pad\"\n              placeholderTextColor={theme.textSecondary}\n              style={[\n                styles.nutritionInput,\n                { backgroundColor: theme.backgroundSecondary, color: theme.text },\n              ]}\n            />\n          </View>\n        </View>\n\n        <Pressable\n          onPress={handleAddIngredient}\n          disabled={!newIngredient.name.trim()}\n          style={[\n            styles.addButton,\n            {\n              backgroundColor: newIngredient.name.trim()\n                ? theme.primary\n                : theme.backgroundDefault,\n            },\n          ]}\n        >\n          <Feather\n            name=\"plus\"\n            size={18}\n            color={newIngredient.name.trim() ? \"#FFF\" : theme.textSecondary}\n          />\n          <ThemedText\n            type=\"body\"\n            style={{\n              color: newIngredient.name.trim() ? \"#FFF\" : theme.textSecondary,\n              marginLeft: Spacing.xs,\n            }}\n          >\n            Add Ingredient\n          </ThemedText>\n        </Pressable>\n      </Card>\n\n      {ingredients.length > 0 ? (\n        <Card style={styles.totalsCard}>\n          <ThemedText type=\"h4\" style={{ marginBottom: Spacing.md }}>\n            Nutrition Summary\n          </ThemedText>\n\n          <View style={styles.totalsRow}>\n            <View style={styles.totalsColumn}>\n              <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                Total Batch\n              </ThemedText>\n              <ThemedText type=\"h3\">{Math.round(totals.calories)}</ThemedText>\n              <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                calories\n              </ThemedText>\n              <View style={styles.macroList}>\n                <ThemedText type=\"small\" style={{ color: theme.protein }}>\n                  P: {Math.round(totals.protein)}g\n                </ThemedText>\n                <ThemedText type=\"small\" style={{ color: theme.carbs }}>\n                  C: {Math.round(totals.carbs)}g\n                </ThemedText>\n                <ThemedText type=\"small\" style={{ color: theme.fats }}>\n                  F: {Math.round(totals.fats)}g\n                </ThemedText>\n              </View>\n            </View>\n\n            <View style={[styles.divider, { backgroundColor: theme.border }]} />\n\n            <View style={styles.totalsColumn}>\n              <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                Per Serving ({totalServings || 1})\n              </ThemedText>\n              <ThemedText type=\"h3\" style={{ color: theme.primary }}>\n                {Math.round(perServing.calories)}\n              </ThemedText>\n              <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                calories\n              </ThemedText>\n              <View style={styles.macroList}>\n                <ThemedText type=\"small\" style={{ color: theme.protein }}>\n                  P: {Math.round(perServing.protein)}g\n                </ThemedText>\n                <ThemedText type=\"small\" style={{ color: theme.carbs }}>\n                  C: {Math.round(perServing.carbs)}g\n                </ThemedText>\n                <ThemedText type=\"small\" style={{ color: theme.fats }}>\n                  F: {Math.round(perServing.fats)}g\n                </ThemedText>\n              </View>\n            </View>\n          </View>\n        </Card>\n      ) : null}\n\n      <Button\n        onPress={handleSaveMeal}\n        disabled={!mealName.trim() || ingredients.length === 0}\n      >\n        {editMealId ? \"Update Meal\" : \"Save Meal\"}\n      </Button>\n    </KeyboardAwareScrollViewCompat>\n  );\n}\n\nconst styles = StyleSheet.create({\n  field: {\n    marginBottom: Spacing.lg,\n  },\n  input: {\n    height: Spacing.inputHeight,\n    borderRadius: BorderRadius.md,\n    paddingHorizontal: Spacing.lg,\n    marginTop: Spacing.xs,\n    fontSize: 16,\n  },\n  ingredientsCard: {\n    marginBottom: Spacing.lg,\n  },\n  sectionHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginBottom: Spacing.md,\n  },\n  ingredientItem: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    paddingVertical: Spacing.md,\n    borderBottomWidth: 1,\n  },\n  ingredientInfo: {\n    flex: 1,\n  },\n  emptyIngredients: {\n    alignItems: \"center\",\n    paddingVertical: Spacing.xl,\n  },\n  storedFoodsCard: {\n    marginBottom: Spacing.lg,\n  },\n  storedFoodsHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  storedFoodsHeaderLeft: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  storedFoodsHeaderRight: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  storedFoodsContent: {\n    marginTop: Spacing.md,\n  },\n  searchInput: {\n    height: 40,\n    borderRadius: BorderRadius.sm,\n    paddingHorizontal: Spacing.md,\n    marginBottom: Spacing.md,\n    fontSize: 14,\n  },\n  emptyStoredFoods: {\n    alignItems: \"center\",\n    paddingVertical: Spacing.lg,\n  },\n  storedFoodItem: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    paddingVertical: Spacing.md,\n    borderBottomWidth: 1,\n  },\n  storedFoodInfo: {\n    flex: 1,\n    marginRight: Spacing.md,\n  },\n  addIngredientCard: {\n    marginBottom: Spacing.lg,\n  },\n  ingredientRow: {\n    flexDirection: \"row\",\n    gap: Spacing.sm,\n    marginBottom: Spacing.md,\n  },\n  ingredientField: {\n    flex: 1,\n  },\n  smallInput: {\n    height: 40,\n    borderRadius: BorderRadius.sm,\n    paddingHorizontal: Spacing.sm,\n    marginTop: Spacing.xs,\n    fontSize: 14,\n  },\n  nutritionRow: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    gap: Spacing.sm,\n    marginBottom: Spacing.md,\n  },\n  nutritionField: {\n    width: \"18%\",\n    flexGrow: 1,\n    minWidth: 60,\n  },\n  nutritionInput: {\n    height: 36,\n    borderRadius: BorderRadius.sm,\n    textAlign: \"center\",\n    marginTop: Spacing.xs,\n    fontSize: 14,\n  },\n  addButton: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingVertical: Spacing.md,\n    borderRadius: BorderRadius.md,\n  },\n  totalsCard: {\n    marginBottom: Spacing.xl,\n  },\n  totalsRow: {\n    flexDirection: \"row\",\n  },\n  totalsColumn: {\n    flex: 1,\n    alignItems: \"center\",\n  },\n  divider: {\n    width: 1,\n    marginHorizontal: Spacing.md,\n  },\n  macroList: {\n    flexDirection: \"row\",\n    gap: Spacing.sm,\n    marginTop: Spacing.xs,\n  },\n});\n","import React from \"react\";\nimport { View, StyleSheet, ScrollView, Pressable } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Card } from \"@/components/Card\";\nimport { Button } from \"@/components/Button\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore } from \"@/lib/store\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { NutritionStackParamList } from \"@/navigation/NutritionStackNavigator\";\n\ntype Navigation = NativeStackNavigationProp<NutritionStackParamList>;\n\nexport default function MyMealsScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const navigation = useNavigation<Navigation>();\n  const { theme } = useTheme();\n  const store = useStore();\n\n  const handleEditMeal = (mealId: string) => {\n    navigation.navigate(\"MealCreator\", { mealId });\n  };\n\n  const handleDeleteMeal = (mealId: string) => {\n    store.deleteMeal(mealId);\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: theme.backgroundRoot }]}>\n      <ScrollView\n        style={styles.scroll}\n        contentContainerStyle={{\n          paddingTop: headerHeight + Spacing.xl,\n          paddingBottom: insets.bottom + Spacing.xl,\n          paddingHorizontal: Spacing.lg,\n        }}\n        scrollIndicatorInsets={{ bottom: insets.bottom }}\n      >\n        {store.meals.length === 0 ? (\n          <View style={styles.empty}>\n            <Feather name=\"book-open\" size={48} color={theme.textSecondary} />\n            <ThemedText\n              type=\"body\"\n              style={{ color: theme.textSecondary, marginTop: Spacing.md }}\n            >\n              No meal preps saved yet\n            </ThemedText>\n            <Button\n              onPress={() => navigation.navigate(\"MealCreator\")}\n              style={{ marginTop: Spacing.xl }}\n            >\n              Create Your First Meal\n            </Button>\n          </View>\n        ) : (\n          store.meals.map((meal) => {\n            const perServing = store.getMealNutritionPerServing(meal.id);\n\n            return (\n              <Card key={meal.id} style={styles.mealCard}>\n                <View style={styles.mealHeader}>\n                  <View style={styles.mealInfo}>\n                    <ThemedText type=\"h4\">{meal.name}</ThemedText>\n                    <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                      {meal.totalServings} servings - {meal.ingredients.length} ingredients\n                    </ThemedText>\n                  </View>\n                  <View style={styles.mealActions}>\n                    <Pressable\n                      onPress={() => handleEditMeal(meal.id)}\n                      style={styles.iconButton}\n                      hitSlop={8}\n                    >\n                      <Feather name=\"edit-2\" size={18} color={theme.primary} />\n                    </Pressable>\n                    <Pressable\n                      onPress={() => handleDeleteMeal(meal.id)}\n                      style={styles.iconButton}\n                      hitSlop={8}\n                    >\n                      <Feather name=\"trash-2\" size={18} color={theme.error} />\n                    </Pressable>\n                  </View>\n                </View>\n\n                <View style={[styles.nutritionRow, { borderTopColor: theme.border }]}>\n                  <View style={styles.nutritionItem}>\n                    <ThemedText type=\"h4\" style={{ color: theme.primary }}>\n                      {Math.round(perServing.calories)}\n                    </ThemedText>\n                    <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                      cal/serving\n                    </ThemedText>\n                  </View>\n                  <View style={styles.nutritionItem}>\n                    <ThemedText type=\"body\" style={{ color: theme.protein }}>\n                      {Math.round(perServing.protein)}g\n                    </ThemedText>\n                    <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                      protein\n                    </ThemedText>\n                  </View>\n                  <View style={styles.nutritionItem}>\n                    <ThemedText type=\"body\" style={{ color: theme.carbs }}>\n                      {Math.round(perServing.carbs)}g\n                    </ThemedText>\n                    <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                      carbs\n                    </ThemedText>\n                  </View>\n                  <View style={styles.nutritionItem}>\n                    <ThemedText type=\"body\" style={{ color: theme.fats }}>\n                      {Math.round(perServing.fats)}g\n                    </ThemedText>\n                    <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                      fats\n                    </ThemedText>\n                  </View>\n                </View>\n\n                <View style={styles.ingredientsList}>\n                  {meal.ingredients.slice(0, 3).map((ing) => (\n                    <ThemedText\n                      key={ing.id}\n                      type=\"small\"\n                      style={{ color: theme.textSecondary }}\n                    >\n                      {ing.amount} {ing.unit} {ing.name}\n                    </ThemedText>\n                  ))}\n                  {meal.ingredients.length > 3 ? (\n                    <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                      +{meal.ingredients.length - 3} more...\n                    </ThemedText>\n                  ) : null}\n                </View>\n              </Card>\n            );\n          })\n        )}\n\n        {store.meals.length > 0 ? (\n          <Pressable\n            onPress={() => navigation.navigate(\"MealCreator\")}\n            style={[styles.secondaryButton, { borderColor: theme.primary }]}\n          >\n            <ThemedText type=\"body\" style={{ color: theme.primary }}>\n              Create New Meal\n            </ThemedText>\n          </Pressable>\n        ) : null}\n      </ScrollView>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  scroll: {\n    flex: 1,\n  },\n  empty: {\n    alignItems: \"center\",\n    paddingVertical: Spacing[\"3xl\"],\n  },\n  mealCard: {\n    marginBottom: Spacing.lg,\n  },\n  mealHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"flex-start\",\n  },\n  mealInfo: {\n    flex: 1,\n  },\n  mealActions: {\n    flexDirection: \"row\",\n    gap: Spacing.md,\n  },\n  iconButton: {\n    padding: Spacing.xs,\n  },\n  nutritionRow: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginTop: Spacing.md,\n    paddingTop: Spacing.md,\n    borderTopWidth: 1,\n  },\n  nutritionItem: {\n    alignItems: \"center\",\n  },\n  ingredientsList: {\n    marginTop: Spacing.md,\n  },\n  secondaryButton: {\n    height: Spacing.inputHeight,\n    borderRadius: BorderRadius.md,\n    borderWidth: 2,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n});\n","import React, { useState } from \"react\";\nimport { View, StyleSheet, ScrollView, TextInput, Pressable } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useNavigation, useRoute, RouteProp } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Card } from \"@/components/Card\";\nimport { Button } from \"@/components/Button\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore, Meal } from \"@/lib/store\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { NutritionStackParamList } from \"@/navigation/NutritionStackNavigator\";\n\ntype Navigation = NativeStackNavigationProp<NutritionStackParamList>;\ntype Route = RouteProp<NutritionStackParamList, \"LogMeal\">;\n\nexport default function LogMealScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const navigation = useNavigation<Navigation>();\n  const route = useRoute<Route>();\n  const { theme } = useTheme();\n  const store = useStore();\n\n  const initialMealType = (route.params?.mealType as \"breakfast\" | \"lunch\" | \"dinner\" | \"snack\") || \"snack\";\n  const today = new Date().toISOString().split(\"T\")[0];\n\n  const [selectedMealType, setSelectedMealType] = useState<\"breakfast\" | \"lunch\" | \"dinner\" | \"snack\">(initialMealType);\n  const [selectedMeal, setSelectedMeal] = useState<Meal | null>(null);\n  const [servingsToLog, setServingsToLog] = useState(\"1\");\n\n  const mealTypeOptions: Array<\"breakfast\" | \"lunch\" | \"dinner\" | \"snack\"> = [\"breakfast\", \"lunch\", \"dinner\", \"snack\"];\n\n  const handleSelectMeal = (meal: Meal) => {\n    setSelectedMeal(meal);\n    setServingsToLog(\"1\");\n  };\n\n  const handleLogMeal = () => {\n    if (!selectedMeal) return;\n\n    store.logMealAsFood(\n      selectedMeal.id,\n      parseFloat(servingsToLog) || 1,\n      selectedMealType,\n      today\n    );\n\n    navigation.goBack();\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: theme.backgroundRoot }]}>\n      <ScrollView\n        style={styles.scroll}\n        contentContainerStyle={{\n          paddingTop: headerHeight + Spacing.xl,\n          paddingBottom: insets.bottom + Spacing.xl,\n          paddingHorizontal: Spacing.lg,\n        }}\n        scrollIndicatorInsets={{ bottom: insets.bottom }}\n      >\n        <ThemedText type=\"body\" style={{ color: theme.textSecondary, marginBottom: Spacing.md }}>\n          Select which meal to add to:\n        </ThemedText>\n\n        <View style={styles.mealTypeSelector}>\n          {mealTypeOptions.map((type) => (\n            <Pressable\n              key={type}\n              onPress={() => setSelectedMealType(type)}\n              style={[\n                styles.mealTypeButton,\n                {\n                  backgroundColor: selectedMealType === type ? theme.primary : theme.backgroundDefault,\n                  borderColor: selectedMealType === type ? theme.primary : theme.border,\n                },\n              ]}\n            >\n              <ThemedText\n                type=\"small\"\n                style={{\n                  color: selectedMealType === type ? \"#FFF\" : theme.text,\n                  fontWeight: selectedMealType === type ? \"600\" : \"400\",\n                }}\n              >\n                {type.charAt(0).toUpperCase() + type.slice(1)}\n              </ThemedText>\n            </Pressable>\n          ))}\n        </View>\n\n        <ThemedText type=\"body\" style={{ color: theme.textSecondary, marginBottom: Spacing.lg }}>\n          Select a meal prep to log:\n        </ThemedText>\n\n        {store.meals.length === 0 ? (\n          <View style={styles.empty}>\n            <Feather name=\"book-open\" size={48} color={theme.textSecondary} />\n            <ThemedText\n              type=\"body\"\n              style={{ color: theme.textSecondary, marginTop: Spacing.md, textAlign: \"center\" }}\n            >\n              No meal preps available.{\"\\n\"}Create one first!\n            </ThemedText>\n            <Button\n              onPress={() => {\n                navigation.goBack();\n                navigation.navigate(\"MealCreator\");\n              }}\n              style={{ marginTop: Spacing.xl }}\n            >\n              Create Meal\n            </Button>\n          </View>\n        ) : (\n          <>\n            {store.meals.map((meal) => {\n              const perServing = store.getMealNutritionPerServing(meal.id);\n              const isSelected = selectedMeal?.id === meal.id;\n\n              return (\n                <Card\n                  key={meal.id}\n                  onPress={() => handleSelectMeal(meal)}\n                  style={{\n                    marginBottom: Spacing.md,\n                    ...(isSelected ? { borderColor: theme.primary, borderWidth: 2 } : {}),\n                  }}\n                >\n                  <View style={styles.mealHeader}>\n                    <View style={styles.mealInfo}>\n                      <ThemedText type=\"h4\">{meal.name}</ThemedText>\n                      <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                        {meal.totalServings} servings total\n                      </ThemedText>\n                    </View>\n                    {isSelected ? (\n                      <Feather name=\"check-circle\" size={24} color={theme.primary} />\n                    ) : null}\n                  </View>\n\n                  <View style={[styles.nutritionRow, { borderTopColor: theme.border }]}>\n                    <View style={styles.nutritionItem}>\n                      <ThemedText type=\"body\" style={{ color: theme.primary }}>\n                        {Math.round(perServing.calories)} cal\n                      </ThemedText>\n                    </View>\n                    <View style={styles.nutritionItem}>\n                      <ThemedText type=\"small\" style={{ color: theme.protein }}>\n                        P: {Math.round(perServing.protein)}g\n                      </ThemedText>\n                    </View>\n                    <View style={styles.nutritionItem}>\n                      <ThemedText type=\"small\" style={{ color: theme.carbs }}>\n                        C: {Math.round(perServing.carbs)}g\n                      </ThemedText>\n                    </View>\n                    <View style={styles.nutritionItem}>\n                      <ThemedText type=\"small\" style={{ color: theme.fats }}>\n                        F: {Math.round(perServing.fats)}g\n                      </ThemedText>\n                    </View>\n                  </View>\n                </Card>\n              );\n            })}\n\n            {selectedMeal ? (\n              <Card style={styles.logCard}>\n                <ThemedText type=\"h4\" style={{ marginBottom: Spacing.md }}>\n                  Log \"{selectedMeal.name}\"\n                </ThemedText>\n\n                <View style={styles.servingsRow}>\n                  <ThemedText type=\"body\">Servings to log:</ThemedText>\n                  <TextInput\n                    value={servingsToLog}\n                    onChangeText={setServingsToLog}\n                    keyboardType=\"decimal-pad\"\n                    style={[\n                      styles.servingsInput,\n                      { backgroundColor: theme.backgroundDefault, color: theme.text },\n                    ]}\n                  />\n                </View>\n\n                <View style={[styles.previewRow, { backgroundColor: theme.backgroundDefault }]}>\n                  <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                    This will add:\n                  </ThemedText>\n                  <View style={styles.previewNutrition}>\n                    {(() => {\n                      const perServing = store.getMealNutritionPerServing(selectedMeal.id);\n                      const multiplier = parseFloat(servingsToLog) || 1;\n                      return (\n                        <>\n                          <ThemedText type=\"body\" style={{ color: theme.primary }}>\n                            {Math.round(perServing.calories * multiplier)} cal\n                          </ThemedText>\n                          <ThemedText type=\"small\" style={{ color: theme.protein }}>\n                            P: {Math.round(perServing.protein * multiplier)}g\n                          </ThemedText>\n                          <ThemedText type=\"small\" style={{ color: theme.carbs }}>\n                            C: {Math.round(perServing.carbs * multiplier)}g\n                          </ThemedText>\n                          <ThemedText type=\"small\" style={{ color: theme.fats }}>\n                            F: {Math.round(perServing.fats * multiplier)}g\n                          </ThemedText>\n                        </>\n                      );\n                    })()}\n                  </View>\n                </View>\n\n                <Button onPress={handleLogMeal}>\n                  Add to {selectedMealType.charAt(0).toUpperCase() + selectedMealType.slice(1)}\n                </Button>\n              </Card>\n            ) : null}\n          </>\n        )}\n      </ScrollView>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  scroll: {\n    flex: 1,\n  },\n  mealTypeSelector: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    gap: Spacing.sm,\n    marginBottom: Spacing.xl,\n  },\n  mealTypeButton: {\n    paddingHorizontal: Spacing.md,\n    paddingVertical: Spacing.sm,\n    borderRadius: BorderRadius.full,\n    borderWidth: 1,\n  },\n  empty: {\n    alignItems: \"center\",\n    paddingVertical: Spacing[\"3xl\"],\n  },\n  mealCard: {\n    marginBottom: Spacing.md,\n  },\n  selectedCard: {\n    borderWidth: 2,\n  },\n  mealHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  mealInfo: {\n    flex: 1,\n  },\n  nutritionRow: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginTop: Spacing.md,\n    paddingTop: Spacing.md,\n    borderTopWidth: 1,\n  },\n  nutritionItem: {\n    alignItems: \"center\",\n  },\n  logCard: {\n    marginTop: Spacing.lg,\n  },\n  servingsRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginBottom: Spacing.lg,\n  },\n  servingsInput: {\n    width: 80,\n    height: 40,\n    borderRadius: BorderRadius.sm,\n    textAlign: \"center\",\n    fontSize: 16,\n  },\n  previewRow: {\n    padding: Spacing.md,\n    borderRadius: BorderRadius.md,\n    marginBottom: Spacing.lg,\n  },\n  previewNutrition: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginTop: Spacing.sm,\n  },\n});\n","import React, { useState, useEffect } from \"react\";\nimport { View, StyleSheet, TextInput, Alert } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useNavigation, useRoute, RouteProp } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\n\nimport { KeyboardAwareScrollViewCompat } from \"@/components/KeyboardAwareScrollViewCompat\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Card } from \"@/components/Card\";\nimport { Button } from \"@/components/Button\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore } from \"@/lib/store\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { NutritionStackParamList } from \"@/navigation/NutritionStackNavigator\";\n\ntype Navigation = NativeStackNavigationProp<NutritionStackParamList>;\ntype Route = RouteProp<NutritionStackParamList, \"EditFood\">;\n\nexport default function EditFoodScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const navigation = useNavigation<Navigation>();\n  const route = useRoute<Route>();\n  const { theme } = useTheme();\n  const store = useStore();\n\n  const foodId = route.params?.foodId;\n  const existingFood = store.foods.find((f) => f.id === foodId);\n\n  const [foodData, setFoodData] = useState({\n    name: \"\",\n    servingSize: \"\",\n    calories: \"\",\n    protein: \"\",\n    carbs: \"\",\n    fats: \"\",\n    fiber: \"\",\n  });\n\n  useEffect(() => {\n    if (existingFood) {\n      setFoodData({\n        name: existingFood.name,\n        servingSize: existingFood.servingSize,\n        calories: String(existingFood.calories),\n        protein: String(existingFood.protein),\n        carbs: String(existingFood.carbs),\n        fats: String(existingFood.fats),\n        fiber: String(existingFood.fiber),\n      });\n    }\n  }, [existingFood]);\n\n  const handleSave = () => {\n    if (!foodId || !foodData.name.trim()) return;\n\n    store.updateFood(foodId, {\n      name: foodData.name.trim(),\n      servingSize: foodData.servingSize || \"1 serving\",\n      calories: parseFloat(foodData.calories) || 0,\n      protein: parseFloat(foodData.protein) || 0,\n      carbs: parseFloat(foodData.carbs) || 0,\n      fats: parseFloat(foodData.fats) || 0,\n      fiber: parseFloat(foodData.fiber) || 0,\n    });\n\n    navigation.goBack();\n  };\n\n  if (!existingFood) {\n    return (\n      <View style={[styles.container, { backgroundColor: theme.backgroundRoot }]}>\n        <ThemedText type=\"body\" style={{ textAlign: \"center\" }}>\n          Food not found\n        </ThemedText>\n      </View>\n    );\n  }\n\n  return (\n    <KeyboardAwareScrollViewCompat\n      style={{ flex: 1, backgroundColor: theme.backgroundRoot }}\n      contentContainerStyle={{\n        paddingTop: headerHeight + Spacing.xl,\n        paddingBottom: insets.bottom + Spacing.xl,\n        paddingHorizontal: Spacing.lg,\n      }}\n    >\n      <View style={styles.field}>\n        <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n          Food Name *\n        </ThemedText>\n        <TextInput\n          value={foodData.name}\n          onChangeText={(text) => setFoodData({ ...foodData, name: text })}\n          placeholder=\"e.g., Chicken Breast\"\n          placeholderTextColor={theme.textSecondary}\n          style={[\n            styles.input,\n            { backgroundColor: theme.backgroundDefault, color: theme.text },\n          ]}\n        />\n      </View>\n\n      <View style={styles.field}>\n        <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n          Serving Size\n        </ThemedText>\n        <TextInput\n          value={foodData.servingSize}\n          onChangeText={(text) => setFoodData({ ...foodData, servingSize: text })}\n          placeholder=\"e.g., 100g or 1 cup\"\n          placeholderTextColor={theme.textSecondary}\n          style={[\n            styles.input,\n            { backgroundColor: theme.backgroundDefault, color: theme.text },\n          ]}\n        />\n      </View>\n\n      <Card style={styles.nutritionCard}>\n        <ThemedText type=\"h4\" style={styles.nutritionTitle}>\n          Nutrition Facts\n        </ThemedText>\n        <View style={styles.nutritionGrid}>\n          <View style={styles.nutritionField}>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              Calories\n            </ThemedText>\n            <TextInput\n              value={foodData.calories}\n              onChangeText={(text) => setFoodData({ ...foodData, calories: text })}\n              keyboardType=\"decimal-pad\"\n              placeholder=\"0\"\n              placeholderTextColor={theme.textSecondary}\n              style={[\n                styles.nutritionInput,\n                { backgroundColor: theme.backgroundSecondary, color: theme.text },\n              ]}\n            />\n          </View>\n          <View style={styles.nutritionField}>\n            <ThemedText type=\"small\" style={{ color: theme.protein }}>\n              Protein (g)\n            </ThemedText>\n            <TextInput\n              value={foodData.protein}\n              onChangeText={(text) => setFoodData({ ...foodData, protein: text })}\n              keyboardType=\"decimal-pad\"\n              placeholder=\"0\"\n              placeholderTextColor={theme.textSecondary}\n              style={[\n                styles.nutritionInput,\n                { backgroundColor: theme.backgroundSecondary, color: theme.text },\n              ]}\n            />\n          </View>\n          <View style={styles.nutritionField}>\n            <ThemedText type=\"small\" style={{ color: theme.carbs }}>\n              Carbs (g)\n            </ThemedText>\n            <TextInput\n              value={foodData.carbs}\n              onChangeText={(text) => setFoodData({ ...foodData, carbs: text })}\n              keyboardType=\"decimal-pad\"\n              placeholder=\"0\"\n              placeholderTextColor={theme.textSecondary}\n              style={[\n                styles.nutritionInput,\n                { backgroundColor: theme.backgroundSecondary, color: theme.text },\n              ]}\n            />\n          </View>\n          <View style={styles.nutritionField}>\n            <ThemedText type=\"small\" style={{ color: theme.fats }}>\n              Fats (g)\n            </ThemedText>\n            <TextInput\n              value={foodData.fats}\n              onChangeText={(text) => setFoodData({ ...foodData, fats: text })}\n              keyboardType=\"decimal-pad\"\n              placeholder=\"0\"\n              placeholderTextColor={theme.textSecondary}\n              style={[\n                styles.nutritionInput,\n                { backgroundColor: theme.backgroundSecondary, color: theme.text },\n              ]}\n            />\n          </View>\n          <View style={styles.nutritionField}>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              Fiber (g)\n            </ThemedText>\n            <TextInput\n              value={foodData.fiber}\n              onChangeText={(text) => setFoodData({ ...foodData, fiber: text })}\n              keyboardType=\"decimal-pad\"\n              placeholder=\"0\"\n              placeholderTextColor={theme.textSecondary}\n              style={[\n                styles.nutritionInput,\n                { backgroundColor: theme.backgroundSecondary, color: theme.text },\n              ]}\n            />\n          </View>\n        </View>\n      </Card>\n\n      <Button onPress={handleSave} disabled={!foodData.name.trim()}>\n        Save Changes\n      </Button>\n    </KeyboardAwareScrollViewCompat>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  field: {\n    marginBottom: Spacing.lg,\n  },\n  input: {\n    height: Spacing.inputHeight,\n    borderRadius: BorderRadius.md,\n    paddingHorizontal: Spacing.lg,\n    marginTop: Spacing.xs,\n    fontSize: 16,\n  },\n  nutritionCard: {\n    marginBottom: Spacing.lg,\n  },\n  nutritionTitle: {\n    marginBottom: Spacing.md,\n  },\n  nutritionGrid: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    gap: Spacing.md,\n  },\n  nutritionField: {\n    width: \"30%\",\n    flexGrow: 1,\n  },\n  nutritionInput: {\n    height: 40,\n    borderRadius: BorderRadius.sm,\n    textAlign: \"center\",\n    marginTop: Spacing.xs,\n    fontSize: 16,\n  },\n});\n","import React from \"react\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport NutritionScreen from \"@/screens/NutritionScreen\";\nimport AddFoodScreen from \"@/screens/AddFoodScreen\";\nimport FoodDatabaseScreen from \"@/screens/FoodDatabaseScreen\";\nimport ScanNutritionScreen from \"@/screens/ScanNutritionScreen\";\nimport MealCreatorScreen from \"@/screens/MealCreatorScreen\";\nimport MyMealsScreen from \"@/screens/MyMealsScreen\";\nimport LogMealScreen from \"@/screens/LogMealScreen\";\nimport EditFoodScreen from \"@/screens/EditFoodScreen\";\nimport { useScreenOptions } from \"@/hooks/useScreenOptions\";\n\nexport type NutritionStackParamList = {\n  Nutrition: undefined;\n  AddFood: { mealType?: string; foodId?: string } | undefined;\n  FoodDatabase: undefined;\n  ScanNutrition: undefined;\n  MealCreator: { mealId?: string } | undefined;\n  MyMeals: undefined;\n  LogMeal: { mealType?: string } | undefined;\n  EditFood: { foodId: string };\n};\n\nconst Stack = createNativeStackNavigator<NutritionStackParamList>();\n\nexport default function NutritionStackNavigator() {\n  const screenOptions = useScreenOptions();\n\n  return (\n    <Stack.Navigator screenOptions={screenOptions}>\n      <Stack.Screen\n        name=\"Nutrition\"\n        component={NutritionScreen}\n        options={{\n          headerTitle: \"Nutrition\",\n        }}\n      />\n      <Stack.Screen\n        name=\"AddFood\"\n        component={AddFoodScreen}\n        options={{\n          headerTitle: \"Add Food\",\n          presentation: \"modal\",\n        }}\n      />\n      <Stack.Screen\n        name=\"FoodDatabase\"\n        component={FoodDatabaseScreen}\n        options={{\n          headerTitle: \"My Foods\",\n        }}\n      />\n      <Stack.Screen\n        name=\"ScanNutrition\"\n        component={ScanNutritionScreen}\n        options={{\n          headerShown: false,\n          presentation: \"fullScreenModal\",\n        }}\n      />\n      <Stack.Screen\n        name=\"MealCreator\"\n        component={MealCreatorScreen}\n        options={{\n          headerTitle: \"Create Meal\",\n          presentation: \"modal\",\n        }}\n      />\n      <Stack.Screen\n        name=\"MyMeals\"\n        component={MyMealsScreen}\n        options={{\n          headerTitle: \"My Meals\",\n        }}\n      />\n      <Stack.Screen\n        name=\"LogMeal\"\n        component={LogMealScreen}\n        options={{\n          headerTitle: \"Log Meal\",\n          presentation: \"modal\",\n        }}\n      />\n      <Stack.Screen\n        name=\"EditFood\"\n        component={EditFoodScreen}\n        options={{\n          headerTitle: \"Edit Food\",\n          presentation: \"modal\",\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import React, { useMemo } from \"react\";\nimport { View, StyleSheet, Dimensions } from \"react-native\";\nimport Svg, { Path, Circle, Line, Text as SvgText } from \"react-native-svg\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing } from \"@/constants/theme\";\n\ninterface DataPoint {\n  date: string;\n  value: number;\n  label?: string;\n}\n\ninterface LineGraphProps {\n  data: DataPoint[];\n  color?: string;\n  height?: number;\n  showDots?: boolean;\n  showLabels?: boolean;\n  title?: string;\n  unit?: string;\n}\n\nexport function LineGraph({\n  data,\n  color,\n  height = 150,\n  showDots = true,\n  showLabels = true,\n  title,\n  unit = \"\",\n}: LineGraphProps) {\n  const { theme } = useTheme();\n  const graphColor = color || theme.primary;\n  \n  const width = Dimensions.get(\"window\").width - Spacing.lg * 2 - Spacing.xl * 2;\n\n  const { path, dots, minValue, maxValue } = useMemo(() => {\n    if (data.length === 0) {\n      return { path: \"\", dots: [], minValue: 0, maxValue: 100 };\n    }\n\n    const values = data.map((d) => d.value);\n    const min = Math.min(...values);\n    const max = Math.max(...values);\n    const range = max - min || 1;\n    \n    const paddedMin = min - range * 0.1;\n    const paddedMax = max + range * 0.1;\n    const paddedRange = paddedMax - paddedMin;\n\n    const padding = { top: 20, bottom: 30, left: 10, right: 10 };\n    const graphWidth = width - padding.left - padding.right;\n    const graphHeight = height - padding.top - padding.bottom;\n\n    const points = data.map((d, i) => {\n      const x = padding.left + (i / (data.length - 1 || 1)) * graphWidth;\n      const y = padding.top + graphHeight - ((d.value - paddedMin) / paddedRange) * graphHeight;\n      return { x, y, value: d.value, label: d.label || d.date.slice(5) };\n    });\n\n    let pathD = \"\";\n    if (points.length > 0) {\n      pathD = `M ${points[0].x} ${points[0].y}`;\n      for (let i = 1; i < points.length; i++) {\n        const prevPoint = points[i - 1];\n        const currPoint = points[i];\n        const midX = (prevPoint.x + currPoint.x) / 2;\n        pathD += ` C ${midX} ${prevPoint.y}, ${midX} ${currPoint.y}, ${currPoint.x} ${currPoint.y}`;\n      }\n    }\n\n    return {\n      path: pathD,\n      dots: points,\n      minValue: Math.round(paddedMin),\n      maxValue: Math.round(paddedMax),\n    };\n  }, [data, width, height]);\n\n  if (data.length === 0) {\n    return (\n      <View style={[styles.container, { height }]}>\n        <View style={styles.emptyState}>\n          <ThemedText type=\"body\" style={{ color: theme.textSecondary }}>\n            No data available\n          </ThemedText>\n        </View>\n      </View>\n    );\n  }\n\n  return (\n    <View style={styles.container}>\n      {title ? (\n        <ThemedText type=\"h4\" style={{ marginBottom: Spacing.md }}>\n          {title}\n        </ThemedText>\n      ) : null}\n      <View style={[styles.graphContainer, { height }]}>\n        <Svg width={width} height={height}>\n          <Line\n            x1={10}\n            y1={height - 30}\n            x2={width - 10}\n            y2={height - 30}\n            stroke={theme.border}\n            strokeWidth={1}\n          />\n          \n          <Path\n            d={path}\n            stroke={graphColor}\n            strokeWidth={2.5}\n            fill=\"none\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n          />\n\n          {showDots &&\n            dots.map((dot, i) => (\n              <Circle\n                key={i}\n                cx={dot.x}\n                cy={dot.y}\n                r={4}\n                fill={graphColor}\n                stroke={theme.backgroundRoot}\n                strokeWidth={2}\n              />\n            ))}\n\n          {showLabels &&\n            dots.map((dot, i) => {\n              if (dots.length <= 7 || i === 0 || i === dots.length - 1 || i % Math.ceil(dots.length / 7) === 0) {\n                return (\n                  <SvgText\n                    key={`label-${i}`}\n                    x={dot.x}\n                    y={height - 10}\n                    fontSize={10}\n                    fill={theme.textSecondary}\n                    textAnchor=\"middle\"\n                  >\n                    {dot.label}\n                  </SvgText>\n                );\n              }\n              return null;\n            })}\n        </Svg>\n      </View>\n      <View style={styles.legend}>\n        <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n          {minValue}{unit}\n        </ThemedText>\n        <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n          {maxValue}{unit}\n        </ThemedText>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    width: \"100%\",\n  },\n  graphContainer: {\n    width: \"100%\",\n  },\n  emptyState: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  legend: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingHorizontal: Spacing.sm,\n    marginTop: Spacing.xs,\n  },\n});\n","import React, { useState, useMemo } from \"react\";\nimport {\n  View,\n  Text,\n  StyleSheet,\n  Pressable,\n  ScrollView,\n  Modal,\n} from \"react-native\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useBottomTabBarHeight } from \"@react-navigation/bottom-tabs\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore, WorkoutLog, FoodEntry } from \"@/lib/store\";\nimport { Colors, Spacing, BorderRadius, Typography } from \"@/constants/theme\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { Card } from \"@/components/Card\";\nimport { ProgressBar } from \"@/components/ProgressBar\";\nimport { LineGraph } from \"@/components/LineGraph\";\nimport { CalendarStackParamList } from \"@/navigation/CalendarStackNavigator\";\n\ntype CalendarNavigationProp = NativeStackNavigationProp<CalendarStackParamList, \"Calendar\">;\n\nconst DAYS = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\nconst MONTHS = [\n  \"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n  \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n];\n\ninterface DayData {\n  date: string;\n  workouts: WorkoutLog[];\n  nutrition: { calories: number; protein: number; carbs: number; fats: number };\n  hasWorkout: boolean;\n  hasNutrition: boolean;\n}\n\nexport default function CalendarScreen() {\n  const { theme, isDark } = useTheme();\n  const headerHeight = useHeaderHeight();\n  const tabBarHeight = useBottomTabBarHeight();\n  const navigation = useNavigation<CalendarNavigationProp>();\n  const store = useStore();\n\n  const [currentMonth, setCurrentMonth] = useState(new Date());\n  const [selectedDate, setSelectedDate] = useState<string | null>(null);\n  const [showDayModal, setShowDayModal] = useState(false);\n\n  const handleExercisePress = (exerciseName: string) => {\n    setShowDayModal(false);\n    navigation.navigate(\"ExerciseProgress\", { exerciseName });\n  };\n\n  const calendarData = useMemo(() => {\n    const year = currentMonth.getFullYear();\n    const month = currentMonth.getMonth();\n    const firstDay = new Date(year, month, 1).getDay();\n    const daysInMonth = new Date(year, month + 1, 0).getDate();\n\n    const days: (DayData | null)[] = [];\n\n    for (let i = 0; i < firstDay; i++) {\n      days.push(null);\n    }\n\n    for (let day = 1; day <= daysInMonth; day++) {\n      const dateStr = `${year}-${String(month + 1).padStart(2, \"0\")}-${String(day).padStart(2, \"0\")}`;\n      const dayWorkouts = store.workoutLogs.filter((log) => {\n        const logDate = new Date(log.completedAt).toISOString().split(\"T\")[0];\n        return logDate === dateStr;\n      });\n      const nutrition = store.getDailyNutrition(dateStr);\n\n      days.push({\n        date: dateStr,\n        workouts: dayWorkouts,\n        nutrition,\n        hasWorkout: dayWorkouts.length > 0,\n        hasNutrition: nutrition.calories > 0,\n      });\n    }\n\n    return days;\n  }, [currentMonth, store.workoutLogs, store.foodEntries]);\n\n  const selectedDayData = useMemo(() => {\n    if (!selectedDate) return null;\n    return calendarData.find((d) => d?.date === selectedDate) || null;\n  }, [selectedDate, calendarData]);\n\n  const nutritionTrendData = useMemo(() => {\n    const days: { date: string; value: number; label: string }[] = [];\n    const today = new Date();\n    \n    for (let i = 13; i >= 0; i--) {\n      const date = new Date(today);\n      date.setDate(date.getDate() - i);\n      const dateStr = date.toISOString().split(\"T\")[0];\n      const nutrition = store.getDailyNutrition(dateStr);\n      \n      if (nutrition.calories > 0) {\n        days.push({\n          date: dateStr,\n          value: Math.round(nutrition.calories),\n          label: `${date.getMonth() + 1}/${date.getDate()}`,\n        });\n      }\n    }\n    \n    return days;\n  }, [store.foodEntries]);\n\n  const exerciseProgress = useMemo(() => {\n    if (!selectedDayData?.workouts.length) return [];\n\n    const progress: {\n      exerciseName: string;\n      currentMax: number;\n      previousMax: number;\n      improvement: number;\n      sets: { reps: number; weight: number }[];\n    }[] = [];\n\n    selectedDayData.workouts.forEach((workout) => {\n      workout.exerciseLogs.forEach((exerciseLog) => {\n        const previousLogs = store.workoutLogs\n          .filter((log) => {\n            const logDate = new Date(log.completedAt).toISOString().split(\"T\")[0];\n            return logDate < selectedDate!;\n          })\n          .flatMap((log) => log.exerciseLogs)\n          .filter((el) => el.name === exerciseLog.name);\n\n        const currentMax = Math.max(\n          ...exerciseLog.sets.filter((s) => s.completed).map((s) => s.weight),\n          0\n        );\n        const previousMax = previousLogs.length > 0\n          ? Math.max(\n              ...previousLogs.flatMap((el) =>\n                el.sets.filter((s) => s.completed).map((s) => s.weight)\n              ),\n              0\n            )\n          : 0;\n\n        progress.push({\n          exerciseName: exerciseLog.name,\n          currentMax,\n          previousMax,\n          improvement: previousMax > 0 ? ((currentMax - previousMax) / previousMax) * 100 : 0,\n          sets: exerciseLog.sets.filter((s) => s.completed),\n        });\n      });\n    });\n\n    return progress;\n  }, [selectedDayData, store.workoutLogs, selectedDate]);\n\n  const navigateMonth = (direction: number) => {\n    setCurrentMonth((prev) => {\n      const newDate = new Date(prev);\n      newDate.setMonth(newDate.getMonth() + direction);\n      return newDate;\n    });\n  };\n\n  const handleDayPress = (date: string) => {\n    setSelectedDate(date);\n    setShowDayModal(true);\n  };\n\n  const today = new Date().toISOString().split(\"T\")[0];\n\n  const styles = StyleSheet.create({\n    container: {\n      flex: 1,\n    },\n    content: {\n      paddingTop: headerHeight + Spacing.lg,\n      paddingBottom: tabBarHeight + Spacing.xl,\n      paddingHorizontal: Spacing.lg,\n    },\n    monthHeader: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      marginBottom: Spacing.xl,\n    },\n    monthTitle: {\n      ...Typography.h2,\n      color: theme.text,\n    },\n    navButton: {\n      padding: Spacing.sm,\n    },\n    weekHeader: {\n      flexDirection: \"row\",\n      marginBottom: Spacing.sm,\n    },\n    weekDay: {\n      flex: 1,\n      textAlign: \"center\",\n      ...Typography.caption,\n      color: theme.textSecondary,\n    },\n    calendarGrid: {\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n    },\n    dayCell: {\n      width: \"14.28%\",\n      aspectRatio: 1,\n      padding: 2,\n    },\n    dayInner: {\n      flex: 1,\n      borderRadius: BorderRadius.sm,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      backgroundColor: theme.backgroundSecondary,\n    },\n    dayInnerToday: {\n      borderWidth: 2,\n      borderColor: theme.primary,\n    },\n    dayInnerSelected: {\n      backgroundColor: theme.primary,\n    },\n    dayNumber: {\n      ...Typography.body,\n      color: theme.text,\n    },\n    dayNumberSelected: {\n      color: \"#FFFFFF\",\n    },\n    indicators: {\n      flexDirection: \"row\",\n      marginTop: 2,\n    },\n    indicator: {\n      width: 6,\n      height: 6,\n      borderRadius: 3,\n      marginHorizontal: 1,\n    },\n    workoutIndicator: {\n      backgroundColor: Colors.light.primary,\n    },\n    nutritionIndicator: {\n      backgroundColor: Colors.light.carbs,\n    },\n    emptyDay: {\n      backgroundColor: \"transparent\",\n    },\n    legendContainer: {\n      flexDirection: \"row\",\n      justifyContent: \"center\",\n      marginTop: Spacing.xl,\n      gap: Spacing.lg,\n    },\n    legendItem: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      gap: Spacing.xs,\n    },\n    legendDot: {\n      width: 10,\n      height: 10,\n      borderRadius: 5,\n    },\n    legendText: {\n      ...Typography.small,\n      color: theme.textSecondary,\n    },\n    trendsCard: {\n      marginTop: Spacing.xl,\n    },\n    modalOverlay: {\n      flex: 1,\n      backgroundColor: \"rgba(0,0,0,0.5)\",\n      justifyContent: \"flex-end\",\n    },\n    modalContent: {\n      backgroundColor: theme.backgroundRoot,\n      borderTopLeftRadius: BorderRadius.xl,\n      borderTopRightRadius: BorderRadius.xl,\n      maxHeight: \"80%\",\n      paddingBottom: Spacing[\"3xl\"],\n    },\n    modalHeader: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      padding: Spacing.lg,\n      borderBottomWidth: 1,\n      borderBottomColor: theme.border,\n    },\n    modalTitle: {\n      ...Typography.h3,\n      color: theme.text,\n    },\n    closeButton: {\n      padding: Spacing.sm,\n    },\n    modalScroll: {\n      padding: Spacing.lg,\n    },\n    section: {\n      marginBottom: Spacing.xl,\n    },\n    sectionTitle: {\n      ...Typography.h4,\n      color: theme.text,\n      marginBottom: Spacing.md,\n    },\n    workoutCard: {\n      marginBottom: Spacing.md,\n    },\n    workoutName: {\n      ...Typography.body,\n      fontWeight: \"600\",\n      color: theme.text,\n      marginBottom: Spacing.sm,\n    },\n    workoutDuration: {\n      ...Typography.small,\n      color: theme.textSecondary,\n    },\n    exerciseItem: {\n      marginTop: Spacing.md,\n      paddingTop: Spacing.md,\n      borderTopWidth: 1,\n      borderTopColor: theme.border,\n    },\n    exerciseHeader: {\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      marginBottom: Spacing.xs,\n    },\n    exerciseName: {\n      ...Typography.body,\n      color: theme.text,\n      flex: 1,\n    },\n    exerciseStats: {\n      flexDirection: \"row\",\n      gap: Spacing.lg,\n    },\n    statItem: {\n      alignItems: \"center\",\n    },\n    statValue: {\n      ...Typography.h4,\n      color: theme.primary,\n    },\n    statLabel: {\n      ...Typography.caption,\n      color: theme.textSecondary,\n    },\n    improvementBadge: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      backgroundColor: theme.primary + \"20\",\n      paddingHorizontal: Spacing.sm,\n      paddingVertical: Spacing.xs,\n      borderRadius: BorderRadius.full,\n      alignSelf: \"flex-start\",\n      marginTop: Spacing.sm,\n    },\n    improvementText: {\n      ...Typography.small,\n      color: theme.primary,\n      fontWeight: \"600\",\n      marginLeft: Spacing.xs,\n    },\n    nutritionSummary: {\n      gap: Spacing.md,\n    },\n    nutritionRow: {\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n    },\n    nutritionLabel: {\n      ...Typography.body,\n      color: theme.text,\n    },\n    nutritionValue: {\n      ...Typography.body,\n      fontWeight: \"600\",\n      color: theme.text,\n    },\n    macroRow: {\n      flexDirection: \"row\",\n      gap: Spacing.md,\n      marginTop: Spacing.md,\n    },\n    macroItem: {\n      flex: 1,\n    },\n    macroLabel: {\n      ...Typography.caption,\n      color: theme.textSecondary,\n      marginBottom: Spacing.xs,\n    },\n    macroValue: {\n      ...Typography.body,\n      fontWeight: \"600\",\n    },\n    emptyState: {\n      alignItems: \"center\",\n      padding: Spacing.xl,\n    },\n    emptyText: {\n      ...Typography.body,\n      color: theme.textSecondary,\n      marginTop: Spacing.md,\n    },\n    setsList: {\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n      gap: Spacing.sm,\n      marginTop: Spacing.sm,\n    },\n    setChip: {\n      backgroundColor: theme.backgroundTertiary,\n      paddingHorizontal: Spacing.sm,\n      paddingVertical: Spacing.xs,\n      borderRadius: BorderRadius.sm,\n    },\n    setChipText: {\n      ...Typography.small,\n      color: theme.text,\n    },\n  });\n\n  const formatDate = (dateStr: string) => {\n    const date = new Date(dateStr);\n    return date.toLocaleDateString(\"en-US\", {\n      weekday: \"long\",\n      month: \"long\",\n      day: \"numeric\",\n      year: \"numeric\",\n    });\n  };\n\n  return (\n    <ThemedView style={styles.container}>\n      <ScrollView\n        contentContainerStyle={styles.content}\n        showsVerticalScrollIndicator={false}\n      >\n        <View style={styles.monthHeader}>\n          <Pressable style={styles.navButton} onPress={() => navigateMonth(-1)}>\n            <Feather name=\"chevron-left\" size={24} color={theme.text} />\n          </Pressable>\n          <Text style={styles.monthTitle}>\n            {MONTHS[currentMonth.getMonth()]} {currentMonth.getFullYear()}\n          </Text>\n          <Pressable style={styles.navButton} onPress={() => navigateMonth(1)}>\n            <Feather name=\"chevron-right\" size={24} color={theme.text} />\n          </Pressable>\n        </View>\n\n        <View style={styles.weekHeader}>\n          {DAYS.map((day) => (\n            <Text key={day} style={styles.weekDay}>\n              {day}\n            </Text>\n          ))}\n        </View>\n\n        <View style={styles.calendarGrid}>\n          {calendarData.map((day, index) => (\n            <View key={index} style={styles.dayCell}>\n              {day ? (\n                <Pressable\n                  style={[\n                    styles.dayInner,\n                    day.date === today && styles.dayInnerToday,\n                    day.date === selectedDate && styles.dayInnerSelected,\n                  ]}\n                  onPress={() => handleDayPress(day.date)}\n                >\n                  <Text\n                    style={[\n                      styles.dayNumber,\n                      day.date === selectedDate && styles.dayNumberSelected,\n                    ]}\n                  >\n                    {parseInt(day.date.split(\"-\")[2])}\n                  </Text>\n                  <View style={styles.indicators}>\n                    {day.hasWorkout && (\n                      <View style={[styles.indicator, styles.workoutIndicator]} />\n                    )}\n                    {day.hasNutrition && (\n                      <View style={[styles.indicator, styles.nutritionIndicator]} />\n                    )}\n                  </View>\n                </Pressable>\n              ) : (\n                <View style={[styles.dayInner, styles.emptyDay]} />\n              )}\n            </View>\n          ))}\n        </View>\n\n        <View style={styles.legendContainer}>\n          <View style={styles.legendItem}>\n            <View style={[styles.legendDot, styles.workoutIndicator]} />\n            <Text style={styles.legendText}>Workout</Text>\n          </View>\n          <View style={styles.legendItem}>\n            <View style={[styles.legendDot, styles.nutritionIndicator]} />\n            <Text style={styles.legendText}>Nutrition</Text>\n          </View>\n        </View>\n\n        {nutritionTrendData.length >= 2 ? (\n          <Card style={styles.trendsCard}>\n            <ThemedText type=\"h4\" style={{ marginBottom: Spacing.md }}>\n              Calorie Trends (Last 14 Days)\n            </ThemedText>\n            <LineGraph\n              data={nutritionTrendData}\n              color={theme.primary}\n              height={150}\n              showDots={true}\n              showLabels={true}\n              unit=\" cal\"\n            />\n          </Card>\n        ) : null}\n      </ScrollView>\n\n      <Modal\n        visible={showDayModal}\n        animationType=\"slide\"\n        transparent\n        onRequestClose={() => setShowDayModal(false)}\n      >\n        <View style={styles.modalOverlay}>\n          <View style={styles.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>\n                {selectedDate ? formatDate(selectedDate) : \"\"}\n              </Text>\n              <Pressable\n                style={styles.closeButton}\n                onPress={() => setShowDayModal(false)}\n              >\n                <Feather name=\"x\" size={24} color={theme.text} />\n              </Pressable>\n            </View>\n\n            <ScrollView style={styles.modalScroll}>\n              {selectedDayData?.hasWorkout && (\n                <View style={styles.section}>\n                  <Text style={styles.sectionTitle}>Workouts</Text>\n                  {selectedDayData.workouts.map((workout, idx) => (\n                    <Card key={idx} style={styles.workoutCard}>\n                      <Text style={styles.workoutName}>{workout.workoutName}</Text>\n                      <Text style={styles.workoutDuration}>\n                        {workout.duration} min\n                      </Text>\n\n                      {exerciseProgress.map((exercise, exIdx) => (\n                        <Pressable\n                          key={exIdx}\n                          style={styles.exerciseItem}\n                          onPress={() => handleExercisePress(exercise.exerciseName)}\n                        >\n                          <View style={styles.exerciseHeader}>\n                            <Text style={styles.exerciseName}>\n                              {exercise.exerciseName}\n                            </Text>\n                            <Feather name=\"chevron-right\" size={20} color={theme.textSecondary} />\n                          </View>\n                          <View style={styles.exerciseStats}>\n                            <View style={styles.statItem}>\n                              <Text style={styles.statValue}>\n                                {exercise.currentMax}\n                              </Text>\n                              <Text style={styles.statLabel}>MAX LBS</Text>\n                            </View>\n                            <View style={styles.statItem}>\n                              <Text style={styles.statValue}>\n                                {exercise.sets.length}\n                              </Text>\n                              <Text style={styles.statLabel}>SETS</Text>\n                            </View>\n                            <View style={styles.statItem}>\n                              <Text style={styles.statValue}>\n                                {exercise.sets.reduce((sum, s) => sum + s.reps, 0)}\n                              </Text>\n                              <Text style={styles.statLabel}>TOTAL REPS</Text>\n                            </View>\n                          </View>\n                          {exercise.improvement > 0 && (\n                            <View style={styles.improvementBadge}>\n                              <Feather name=\"trending-up\" size={14} color={theme.primary} />\n                              <Text style={styles.improvementText}>\n                                +{exercise.improvement.toFixed(1)}% from previous\n                              </Text>\n                            </View>\n                          )}\n                          <View style={styles.setsList}>\n                            {exercise.sets.map((set, setIdx) => (\n                              <View key={setIdx} style={styles.setChip}>\n                                <Text style={styles.setChipText}>\n                                  {set.weight}lb x {set.reps}\n                                </Text>\n                              </View>\n                            ))}\n                          </View>\n                        </Pressable>\n                      ))}\n                    </Card>\n                  ))}\n                </View>\n              )}\n\n              {selectedDayData?.hasNutrition && (\n                <View style={styles.section}>\n                  <Text style={styles.sectionTitle}>Nutrition</Text>\n                  <Card>\n                    <View style={styles.nutritionSummary}>\n                      <View style={styles.nutritionRow}>\n                        <Text style={styles.nutritionLabel}>Calories</Text>\n                        <Text style={styles.nutritionValue}>\n                          {Math.round(selectedDayData.nutrition.calories)} kcal\n                        </Text>\n                      </View>\n                      <ProgressBar\n                        progress={Math.min(1, selectedDayData.nutrition.calories / (store.profile.goals?.dailyCalories || 2000))}\n                        color={theme.primary}\n                      />\n                      <View style={styles.macroRow}>\n                        <View style={styles.macroItem}>\n                          <Text style={styles.macroLabel}>PROTEIN</Text>\n                          <Text style={[styles.macroValue, { color: theme.protein }]}>\n                            {Math.round(selectedDayData.nutrition.protein)}g\n                          </Text>\n                          <ProgressBar\n                            progress={Math.min(1, selectedDayData.nutrition.protein / (store.profile.goals?.dailyProtein || 150))}\n                            color={theme.protein}\n                          />\n                        </View>\n                        <View style={styles.macroItem}>\n                          <Text style={styles.macroLabel}>CARBS</Text>\n                          <Text style={[styles.macroValue, { color: theme.carbs }]}>\n                            {Math.round(selectedDayData.nutrition.carbs)}g\n                          </Text>\n                          <ProgressBar\n                            progress={Math.min(1, selectedDayData.nutrition.carbs / (store.profile.goals?.dailyCarbs || 250))}\n                            color={theme.carbs}\n                          />\n                        </View>\n                        <View style={styles.macroItem}>\n                          <Text style={styles.macroLabel}>FATS</Text>\n                          <Text style={[styles.macroValue, { color: theme.fats }]}>\n                            {Math.round(selectedDayData.nutrition.fats)}g\n                          </Text>\n                          <ProgressBar\n                            progress={Math.min(1, selectedDayData.nutrition.fats / (store.profile.goals?.dailyFats || 65))}\n                            color={theme.fats}\n                          />\n                        </View>\n                      </View>\n                    </View>\n                  </Card>\n                </View>\n              )}\n\n              {!selectedDayData?.hasWorkout && !selectedDayData?.hasNutrition && (\n                <View style={styles.emptyState}>\n                  <Feather name=\"calendar\" size={48} color={theme.textSecondary} />\n                  <Text style={styles.emptyText}>No activity logged for this day</Text>\n                </View>\n              )}\n            </ScrollView>\n          </View>\n        </View>\n      </Modal>\n    </ThemedView>\n  );\n}\n","import React, { useMemo } from \"react\";\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  Dimensions,\n} from \"react-native\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { useRoute, RouteProp } from \"@react-navigation/native\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore } from \"@/lib/store\";\nimport { Spacing, BorderRadius, Typography } from \"@/constants/theme\";\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { Card } from \"@/components/Card\";\nimport { CalendarStackParamList } from \"@/navigation/CalendarStackNavigator\";\n\nconst SCREEN_WIDTH = Dimensions.get(\"window\").width;\nconst CHART_HEIGHT = 200;\nconst CHART_PADDING = 40;\n\ntype ExerciseProgressRouteProp = RouteProp<CalendarStackParamList, \"ExerciseProgress\">;\n\ninterface DataPoint {\n  date: string;\n  maxWeight: number;\n  totalVolume: number;\n  avgReps: number;\n  totalSets: number;\n  totalReps: number;\n}\n\nexport default function ExerciseProgressScreen() {\n  const { theme } = useTheme();\n  const headerHeight = useHeaderHeight();\n  const insets = useSafeAreaInsets();\n  const route = useRoute<ExerciseProgressRouteProp>();\n  const { exerciseName } = route.params;\n  const store = useStore();\n\n  const progressData = useMemo(() => {\n    const exerciseLogs = store.workoutLogs\n      .flatMap((log) =>\n        log.exerciseLogs\n          .filter((el) => el.name === exerciseName)\n          .map((el) => ({\n            date: new Date(log.completedAt).toISOString().split(\"T\")[0],\n            completedAt: log.completedAt,\n            sets: el.sets.filter((s) => s.completed),\n          }))\n      )\n      .sort((a, b) => new Date(a.completedAt).getTime() - new Date(b.completedAt).getTime());\n\n    const dataPoints: DataPoint[] = exerciseLogs.map((log) => ({\n      date: log.date,\n      maxWeight: Math.max(...log.sets.map((s) => s.weight), 0),\n      totalVolume: log.sets.reduce((sum, s) => sum + s.weight * s.reps, 0),\n      avgReps: log.sets.length > 0\n        ? Math.round(log.sets.reduce((sum, s) => sum + s.reps, 0) / log.sets.length)\n        : 0,\n      totalSets: log.sets.length,\n      totalReps: log.sets.reduce((sum, s) => sum + s.reps, 0),\n    }));\n\n    return dataPoints;\n  }, [exerciseName, store.workoutLogs]);\n\n  const isBodyweightExercise = useMemo(() => {\n    const exerciseLogs = store.workoutLogs.flatMap((log) =>\n      log.exerciseLogs.filter((el) => el.name === exerciseName)\n    );\n    if (exerciseLogs.length === 0) return false;\n    const hasBodyweightFlag = exerciseLogs.some((el) => el.isBodyweight === true);\n    if (hasBodyweightFlag) return true;\n    const allMaxWeights = progressData.map(d => d.maxWeight);\n    return allMaxWeights.every(w => w === 0);\n  }, [exerciseName, store.workoutLogs, progressData]);\n\n  const stats = useMemo(() => {\n    if (progressData.length === 0) {\n      return { currentMax: 0, startMax: 0, improvement: 0, totalSessions: 0, currentReps: 0, startReps: 0, repsImprovement: 0 };\n    }\n\n    const currentMax = progressData[progressData.length - 1].maxWeight;\n    const startMax = progressData[0].maxWeight;\n    const improvement = startMax > 0 ? ((currentMax - startMax) / startMax) * 100 : 0;\n\n    const currentReps = progressData[progressData.length - 1].totalReps;\n    const startReps = progressData[0].totalReps;\n    const repsImprovement = startReps > 0 ? ((currentReps - startReps) / startReps) * 100 : 0;\n\n    return {\n      currentMax,\n      startMax,\n      improvement,\n      totalSessions: progressData.length,\n      currentReps,\n      startReps,\n      repsImprovement,\n    };\n  }, [progressData]);\n\n  const renderChart = (\n    data: number[],\n    color: string,\n    label: string,\n    unit: string\n  ) => {\n    if (data.length === 0) return null;\n\n    const maxValue = Math.max(...data);\n    const minValue = Math.min(...data);\n    const range = maxValue - minValue || 1;\n    const chartWidth = SCREEN_WIDTH - Spacing.lg * 2 - Spacing.lg * 2;\n\n    const points = data.map((value, index) => {\n      const x = (index / (data.length - 1 || 1)) * (chartWidth - CHART_PADDING * 2) + CHART_PADDING;\n      const y = CHART_HEIGHT - ((value - minValue) / range) * (CHART_HEIGHT - 40) - 20;\n      return { x, y, value };\n    });\n\n    return (\n      <Card style={styles.chartCard}>\n        <Text style={[styles.chartLabel, { color: theme.text }]}>{label}</Text>\n        <View style={styles.chartContainer}>\n          <View style={styles.yAxis}>\n            <Text style={[styles.axisText, { color: theme.textSecondary }]}>\n              {maxValue}{unit}\n            </Text>\n            <Text style={[styles.axisText, { color: theme.textSecondary }]}>\n              {minValue}{unit}\n            </Text>\n          </View>\n          <View style={[styles.chart, { height: CHART_HEIGHT }]}>\n            {points.map((point, index) => (\n              <View\n                key={index}\n                style={[\n                  styles.dataPoint,\n                  {\n                    left: point.x - 6,\n                    top: point.y - 6,\n                    backgroundColor: color,\n                  },\n                ]}\n              />\n            ))}\n            {points.length > 1 && (\n              <View style={styles.lineContainer}>\n                {points.slice(0, -1).map((point, index) => {\n                  const nextPoint = points[index + 1];\n                  const dx = nextPoint.x - point.x;\n                  const dy = nextPoint.y - point.y;\n                  const length = Math.sqrt(dx * dx + dy * dy);\n                  const angle = Math.atan2(dy, dx) * (180 / Math.PI);\n\n                  return (\n                    <View\n                      key={index}\n                      style={[\n                        styles.line,\n                        {\n                          left: point.x,\n                          top: point.y,\n                          width: length,\n                          backgroundColor: color,\n                          transform: [{ rotate: `${angle}deg` }],\n                        },\n                      ]}\n                    />\n                  );\n                })}\n              </View>\n            )}\n          </View>\n        </View>\n        <View style={styles.xAxisLabels}>\n          {progressData.length > 0 && (\n            <>\n              <Text style={[styles.axisText, { color: theme.textSecondary }]}>\n                {new Date(progressData[0].date).toLocaleDateString(\"en-US\", { month: \"short\", day: \"numeric\" })}\n              </Text>\n              <Text style={[styles.axisText, { color: theme.textSecondary }]}>\n                {new Date(progressData[progressData.length - 1].date).toLocaleDateString(\"en-US\", { month: \"short\", day: \"numeric\" })}\n              </Text>\n            </>\n          )}\n        </View>\n      </Card>\n    );\n  };\n\n  const styles = StyleSheet.create({\n    container: {\n      flex: 1,\n    },\n    content: {\n      paddingTop: headerHeight + Spacing.lg,\n      paddingBottom: insets.bottom + Spacing.xl,\n      paddingHorizontal: Spacing.lg,\n    },\n    header: {\n      marginBottom: Spacing.xl,\n    },\n    exerciseName: {\n      ...Typography.h2,\n      color: theme.text,\n      marginBottom: Spacing.sm,\n    },\n    sessionsText: {\n      ...Typography.body,\n      color: theme.textSecondary,\n    },\n    statsRow: {\n      flexDirection: \"row\",\n      gap: Spacing.md,\n      marginBottom: Spacing.xl,\n    },\n    statCard: {\n      flex: 1,\n      alignItems: \"center\",\n      padding: Spacing.lg,\n    },\n    statValue: {\n      ...Typography.h2,\n      color: theme.primary,\n      marginBottom: Spacing.xs,\n    },\n    statLabel: {\n      ...Typography.caption,\n      color: theme.textSecondary,\n      textAlign: \"center\",\n    },\n    improvementBadge: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      backgroundColor: stats.improvement >= 0 ? theme.primary + \"20\" : theme.error + \"20\",\n      paddingHorizontal: Spacing.sm,\n      paddingVertical: Spacing.xs,\n      borderRadius: BorderRadius.full,\n      marginTop: Spacing.sm,\n    },\n    improvementText: {\n      ...Typography.small,\n      color: stats.improvement >= 0 ? theme.primary : theme.error,\n      fontWeight: \"600\",\n      marginLeft: Spacing.xs,\n    },\n    chartCard: {\n      marginBottom: Spacing.lg,\n      padding: Spacing.lg,\n    },\n    chartLabel: {\n      ...Typography.h4,\n      marginBottom: Spacing.md,\n    },\n    chartContainer: {\n      flexDirection: \"row\",\n    },\n    yAxis: {\n      justifyContent: \"space-between\",\n      paddingVertical: 10,\n      marginRight: Spacing.sm,\n    },\n    chart: {\n      flex: 1,\n      position: \"relative\",\n    },\n    dataPoint: {\n      position: \"absolute\",\n      width: 12,\n      height: 12,\n      borderRadius: 6,\n    },\n    lineContainer: {\n      position: \"absolute\",\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n    },\n    line: {\n      position: \"absolute\",\n      height: 2,\n      transformOrigin: \"left center\",\n    },\n    xAxisLabels: {\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      paddingHorizontal: CHART_PADDING,\n      marginTop: Spacing.sm,\n    },\n    axisText: {\n      ...Typography.caption,\n    },\n    emptyState: {\n      alignItems: \"center\",\n      padding: Spacing[\"3xl\"],\n    },\n    emptyText: {\n      ...Typography.body,\n      color: theme.textSecondary,\n      marginTop: Spacing.md,\n      textAlign: \"center\",\n    },\n    historySection: {\n      marginTop: Spacing.lg,\n    },\n    sectionTitle: {\n      ...Typography.h4,\n      color: theme.text,\n      marginBottom: Spacing.md,\n    },\n    historyItem: {\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      paddingVertical: Spacing.md,\n      borderBottomWidth: 1,\n      borderBottomColor: theme.border,\n    },\n    historyDate: {\n      ...Typography.body,\n      color: theme.text,\n    },\n    historyStats: {\n      flexDirection: \"row\",\n      gap: Spacing.lg,\n    },\n    historyStat: {\n      alignItems: \"flex-end\",\n    },\n    historyValue: {\n      ...Typography.body,\n      fontWeight: \"600\",\n      color: theme.text,\n    },\n    historyLabel: {\n      ...Typography.caption,\n      color: theme.textSecondary,\n    },\n  });\n\n  if (progressData.length === 0) {\n    return (\n      <ThemedView style={styles.container}>\n        <ScrollView contentContainerStyle={styles.content}>\n          <View style={styles.emptyState}>\n            <Feather name=\"trending-up\" size={48} color={theme.textSecondary} />\n            <Text style={styles.emptyText}>\n              No progress data yet for {exerciseName}.{\"\\n\"}\n              Complete some workouts to track your progress!\n            </Text>\n          </View>\n        </ScrollView>\n      </ThemedView>\n    );\n  }\n\n  return (\n    <ThemedView style={styles.container}>\n      <ScrollView\n        contentContainerStyle={styles.content}\n        showsVerticalScrollIndicator={false}\n      >\n        <View style={styles.header}>\n          <Text style={styles.exerciseName}>{exerciseName}</Text>\n          <Text style={styles.sessionsText}>\n            {stats.totalSessions} workout{stats.totalSessions !== 1 ? \"s\" : \"\"} logged\n          </Text>\n        </View>\n\n        {isBodyweightExercise ? (\n          <View style={styles.statsRow}>\n            <Card style={styles.statCard}>\n              <Text style={styles.statValue}>{stats.currentReps}</Text>\n              <Text style={styles.statLabel}>CURRENT REPS</Text>\n            </Card>\n            <Card style={styles.statCard}>\n              <Text style={styles.statValue}>{stats.startReps}</Text>\n              <Text style={styles.statLabel}>STARTING REPS</Text>\n              {stats.repsImprovement !== 0 && (\n                <View style={styles.improvementBadge}>\n                  <Feather\n                    name={stats.repsImprovement >= 0 ? \"trending-up\" : \"trending-down\"}\n                    size={14}\n                    color={stats.repsImprovement >= 0 ? theme.primary : theme.error}\n                  />\n                  <Text style={styles.improvementText}>\n                    {stats.repsImprovement >= 0 ? \"+\" : \"\"}\n                    {stats.repsImprovement.toFixed(1)}%\n                  </Text>\n                </View>\n              )}\n            </Card>\n          </View>\n        ) : (\n          <View style={styles.statsRow}>\n            <Card style={styles.statCard}>\n              <Text style={styles.statValue}>{stats.currentMax}</Text>\n              <Text style={styles.statLabel}>CURRENT MAX (LBS)</Text>\n            </Card>\n            <Card style={styles.statCard}>\n              <Text style={styles.statValue}>{stats.startMax}</Text>\n              <Text style={styles.statLabel}>STARTING (LBS)</Text>\n              {stats.improvement !== 0 && (\n                <View style={styles.improvementBadge}>\n                  <Feather\n                    name={stats.improvement >= 0 ? \"trending-up\" : \"trending-down\"}\n                    size={14}\n                    color={stats.improvement >= 0 ? theme.primary : theme.error}\n                  />\n                  <Text style={styles.improvementText}>\n                    {stats.improvement >= 0 ? \"+\" : \"\"}\n                    {stats.improvement.toFixed(1)}%\n                  </Text>\n                </View>\n              )}\n            </Card>\n          </View>\n        )}\n\n        {isBodyweightExercise ? (\n          <>\n            {renderChart(\n              progressData.map((d) => d.totalReps),\n              theme.primary,\n              \"Total Reps\",\n              \"\"\n            )}\n            {renderChart(\n              progressData.map((d) => d.totalSets),\n              theme.carbs,\n              \"Total Sets\",\n              \"\"\n            )}\n          </>\n        ) : (\n          <>\n            {renderChart(\n              progressData.map((d) => d.maxWeight),\n              theme.primary,\n              \"Max Weight\",\n              \"lb\"\n            )}\n            {renderChart(\n              progressData.map((d) => d.totalVolume),\n              theme.carbs,\n              \"Total Volume\",\n              \"\"\n            )}\n          </>\n        )}\n\n        <View style={styles.historySection}>\n          <Text style={styles.sectionTitle}>Session History</Text>\n          <Card>\n            {progressData.slice().reverse().map((session, index) => (\n              <View key={index} style={styles.historyItem}>\n                <Text style={styles.historyDate}>\n                  {new Date(session.date).toLocaleDateString(\"en-US\", {\n                    month: \"short\",\n                    day: \"numeric\",\n                    year: \"numeric\",\n                  })}\n                </Text>\n                <View style={styles.historyStats}>\n                  {isBodyweightExercise ? (\n                    <>\n                      <View style={styles.historyStat}>\n                        <Text style={styles.historyValue}>{session.totalSets}</Text>\n                        <Text style={styles.historyLabel}>SETS</Text>\n                      </View>\n                      <View style={styles.historyStat}>\n                        <Text style={styles.historyValue}>{session.totalReps}</Text>\n                        <Text style={styles.historyLabel}>REPS</Text>\n                      </View>\n                      <View style={styles.historyStat}>\n                        <Text style={styles.historyValue}>{session.avgReps}</Text>\n                        <Text style={styles.historyLabel}>AVG/SET</Text>\n                      </View>\n                    </>\n                  ) : (\n                    <>\n                      <View style={styles.historyStat}>\n                        <Text style={styles.historyValue}>{session.maxWeight}lb</Text>\n                        <Text style={styles.historyLabel}>MAX</Text>\n                      </View>\n                      <View style={styles.historyStat}>\n                        <Text style={styles.historyValue}>{session.avgReps}</Text>\n                        <Text style={styles.historyLabel}>AVG REPS</Text>\n                      </View>\n                      <View style={styles.historyStat}>\n                        <Text style={styles.historyValue}>{session.totalVolume}</Text>\n                        <Text style={styles.historyLabel}>VOLUME</Text>\n                      </View>\n                    </>\n                  )}\n                </View>\n              </View>\n            ))}\n          </Card>\n        </View>\n      </ScrollView>\n    </ThemedView>\n  );\n}\n","import React from \"react\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport CalendarScreen from \"@/screens/CalendarScreen\";\nimport ExerciseProgressScreen from \"@/screens/ExerciseProgressScreen\";\nimport { useScreenOptions } from \"@/hooks/useScreenOptions\";\n\nexport type CalendarStackParamList = {\n  Calendar: undefined;\n  ExerciseProgress: { exerciseName: string };\n};\n\nconst Stack = createNativeStackNavigator<CalendarStackParamList>();\n\nexport default function CalendarStackNavigator() {\n  const screenOptions = useScreenOptions();\n\n  return (\n    <Stack.Navigator screenOptions={screenOptions}>\n      <Stack.Screen\n        name=\"Calendar\"\n        component={CalendarScreen}\n        options={{\n          headerTitle: \"Progress\",\n        }}\n      />\n      <Stack.Screen\n        name=\"ExerciseProgress\"\n        component={ExerciseProgressScreen}\n        options={{\n          headerTitle: \"Exercise Progress\",\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import React, { useState } from \"react\";\nimport { View, StyleSheet, Pressable, Image, TextInput, Modal } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useBottomTabBarHeight } from \"@react-navigation/bottom-tabs\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { KeyboardAwareScrollViewCompat } from \"@/components/KeyboardAwareScrollViewCompat\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Card } from \"@/components/Card\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore } from \"@/lib/store\";\nimport { useAuth } from \"@/lib/auth\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport type { ProfileStackParamList } from \"@/navigation/ProfileStackNavigator\";\n\ntype ProfileNavigation = NativeStackNavigationProp<ProfileStackParamList>;\n\ninterface SettingsRowProps {\n  icon: keyof typeof Feather.glyphMap;\n  label: string;\n  value?: string;\n  onPress: () => void;\n}\n\nfunction SettingsRow({ icon, label, value, onPress }: SettingsRowProps) {\n  const { theme } = useTheme();\n\n  return (\n    <Pressable\n      onPress={onPress}\n      style={({ pressed }) => [\n        styles.settingsRow,\n        { backgroundColor: pressed ? theme.backgroundDefault : \"transparent\" },\n      ]}\n    >\n      <View style={styles.settingsRowLeft}>\n        <View\n          style={[styles.settingsIcon, { backgroundColor: theme.backgroundDefault }]}\n        >\n          <Feather name={icon} size={18} color={theme.primary} />\n        </View>\n        <ThemedText type=\"body\">{label}</ThemedText>\n      </View>\n      <View style={styles.settingsRowRight}>\n        {value ? (\n          <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n            {value}\n          </ThemedText>\n        ) : null}\n        <Feather name=\"chevron-right\" size={18} color={theme.textSecondary} />\n      </View>\n    </Pressable>\n  );\n}\n\nconst avatarIcons: Record<string, keyof typeof Feather.glyphMap> = {\n  mercury: \"zap\",\n  venus: \"heart\",\n  earth: \"globe\",\n  mars: \"target\",\n  jupiter: \"circle\",\n  saturn: \"disc\",\n  uranus: \"wind\",\n  neptune: \"droplet\",\n};\n\nconst planetNames: Record<string, string> = {\n  mercury: \"Mercury\",\n  venus: \"Venus\",\n  earth: \"Earth\",\n  mars: \"Mars\",\n  jupiter: \"Jupiter\",\n  saturn: \"Saturn\",\n  uranus: \"Uranus\",\n  neptune: \"Neptune\",\n};\n\nexport default function ProfileScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const tabBarHeight = useBottomTabBarHeight();\n  const navigation = useNavigation<ProfileNavigation>();\n  const { theme } = useTheme();\n  const store = useStore();\n  const { user, updateProfile } = useAuth();\n\n  const userName = user?.name || \"User\";\n  const userAvatar = (user?.avatar || \"earth\") as \"mercury\" | \"venus\" | \"earth\" | \"mars\" | \"jupiter\" | \"saturn\" | \"uranus\" | \"neptune\";\n  const userUnits = (user?.units || \"imperial\") as \"metric\" | \"imperial\";\n\n  const [isEditingName, setIsEditingName] = useState(false);\n  const [tempName, setTempName] = useState(userName);\n\n  const avatars: Array<\"mercury\" | \"venus\" | \"earth\" | \"mars\" | \"jupiter\" | \"saturn\" | \"uranus\" | \"neptune\"> = [\n    \"mercury\",\n    \"venus\",\n    \"earth\",\n    \"mars\",\n    \"jupiter\",\n    \"saturn\",\n    \"uranus\",\n    \"neptune\",\n  ];\n\n  const cycleAvatar = async () => {\n    const currentIndex = avatars.indexOf(userAvatar);\n    const nextIndex = (currentIndex + 1) % avatars.length;\n    await updateProfile({ avatar: avatars[nextIndex] });\n  };\n\n  const toggleUnits = async () => {\n    const newUnits = userUnits === \"metric\" ? \"imperial\" : \"metric\";\n    await updateProfile({ units: newUnits });\n  };\n\n  const handleEditName = () => {\n    setTempName(userName);\n    setIsEditingName(true);\n  };\n\n  const handleSaveName = async () => {\n    if (tempName.trim()) {\n      await updateProfile({ name: tempName.trim() });\n    }\n    setIsEditingName(false);\n  };\n\n  const handleCancelEditName = () => {\n    setTempName(userName);\n    setIsEditingName(false);\n  };\n\n  return (\n    <KeyboardAwareScrollViewCompat\n      style={{ flex: 1, backgroundColor: theme.backgroundRoot }}\n      contentContainerStyle={{\n        paddingTop: headerHeight + Spacing.xl,\n        paddingBottom: tabBarHeight + Spacing.xl,\n        paddingHorizontal: Spacing.lg,\n      }}\n      scrollIndicatorInsets={{ bottom: insets.bottom }}\n    >\n      <View style={styles.profileHeader}>\n        <Pressable\n          onPress={cycleAvatar}\n          style={[styles.avatar, { backgroundColor: theme.primary }]}\n        >\n          <Feather\n            name={avatarIcons[userAvatar]}\n            size={56}\n            color=\"#FFF\"\n          />\n        </Pressable>\n        <Pressable onPress={handleEditName} style={styles.nameRow}>\n          <ThemedText type=\"h2\" style={styles.name}>\n            {userName}\n          </ThemedText>\n          <Feather name=\"edit-2\" size={16} color={theme.textSecondary} />\n        </Pressable>\n        <ThemedText type=\"small\" style={{ color: theme.textSecondary, marginTop: Spacing.xs }}>\n          {planetNames[userAvatar]}\n        </ThemedText>\n        <ThemedText type=\"small\" style={{ color: theme.textSecondary, marginTop: Spacing.xs }}>\n          Tap avatar to change planet\n        </ThemedText>\n      </View>\n\n      <Modal\n        visible={isEditingName}\n        transparent\n        animationType=\"fade\"\n        onRequestClose={handleCancelEditName}\n      >\n        <View style={styles.modalOverlay}>\n          <View style={[styles.modalContent, { backgroundColor: theme.backgroundDefault }]}>\n            <ThemedText type=\"h4\" style={{ marginBottom: Spacing.lg }}>\n              Edit Name\n            </ThemedText>\n            <TextInput\n              value={tempName}\n              onChangeText={setTempName}\n              placeholder=\"Enter your name\"\n              placeholderTextColor={theme.textSecondary}\n              autoFocus\n              style={[\n                styles.nameInput,\n                { backgroundColor: theme.backgroundSecondary, color: theme.text },\n              ]}\n            />\n            <View style={styles.modalButtons}>\n              <Pressable\n                onPress={handleCancelEditName}\n                style={[styles.modalButton, { backgroundColor: theme.backgroundSecondary }]}\n              >\n                <ThemedText type=\"body\">Cancel</ThemedText>\n              </Pressable>\n              <Pressable\n                onPress={handleSaveName}\n                style={[styles.modalButton, { backgroundColor: theme.primary }]}\n              >\n                <ThemedText type=\"body\" style={{ color: \"#FFF\" }}>\n                  Save\n                </ThemedText>\n              </Pressable>\n            </View>\n          </View>\n        </View>\n      </Modal>\n\n      <Card style={styles.section}>\n        <ThemedText type=\"h4\" style={styles.sectionTitle}>\n          Goals\n        </ThemedText>\n        <SettingsRow\n          icon=\"target\"\n          label=\"Daily Calories\"\n          value={`${store.profile.goals.dailyCalories} cal`}\n          onPress={() => navigation.navigate(\"Goals\")}\n        />\n        <View style={[styles.divider, { backgroundColor: theme.border }]} />\n        <SettingsRow\n          icon=\"activity\"\n          label=\"Weekly Workouts\"\n          value={`${store.profile.goals.weeklyWorkouts} days`}\n          onPress={() => navigation.navigate(\"Goals\")}\n        />\n        <View style={[styles.divider, { backgroundColor: theme.border }]} />\n        <SettingsRow\n          icon=\"trending-down\"\n          label=\"Target Weight\"\n          value={`${store.profile.goals.targetWeight} ${userUnits === \"imperial\" ? \"lbs\" : \"kg\"}`}\n          onPress={() => navigation.navigate(\"Goals\")}\n        />\n      </Card>\n\n      <Card style={styles.section}>\n        <ThemedText type=\"h4\" style={styles.sectionTitle}>\n          Preferences\n        </ThemedText>\n        <SettingsRow\n          icon=\"globe\"\n          label=\"Units\"\n          value={userUnits === \"imperial\" ? \"Imperial (lbs)\" : \"Metric (kg)\"}\n          onPress={toggleUnits}\n        />\n      </Card>\n\n      <Card style={styles.section}>\n        <ThemedText type=\"h4\" style={styles.sectionTitle}>\n          Data Management\n        </ThemedText>\n        <SettingsRow\n          icon=\"save\"\n          label=\"Backup & Restore\"\n          value=\"\"\n          onPress={() => navigation.navigate(\"Backup\")}\n        />\n      </Card>\n\n      <Card style={styles.section}>\n        <ThemedText type=\"h4\" style={styles.sectionTitle}>\n          Macros Goals\n        </ThemedText>\n        <View style={styles.macroRow}>\n          <View style={styles.macroItem}>\n            <View style={[styles.macroDot, { backgroundColor: theme.protein }]} />\n            <ThemedText type=\"small\">Protein</ThemedText>\n            <ThemedText type=\"body\" style={{ fontWeight: \"600\" }}>\n              {store.profile.goals.dailyProtein}g\n            </ThemedText>\n          </View>\n          <View style={styles.macroItem}>\n            <View style={[styles.macroDot, { backgroundColor: theme.carbs }]} />\n            <ThemedText type=\"small\">Carbs</ThemedText>\n            <ThemedText type=\"body\" style={{ fontWeight: \"600\" }}>\n              {store.profile.goals.dailyCarbs}g\n            </ThemedText>\n          </View>\n          <View style={styles.macroItem}>\n            <View style={[styles.macroDot, { backgroundColor: theme.fats }]} />\n            <ThemedText type=\"small\">Fats</ThemedText>\n            <ThemedText type=\"body\" style={{ fontWeight: \"600\" }}>\n              {store.profile.goals.dailyFats}g\n            </ThemedText>\n          </View>\n        </View>\n      </Card>\n    </KeyboardAwareScrollViewCompat>\n  );\n}\n\nconst styles = StyleSheet.create({\n  profileHeader: {\n    alignItems: \"center\",\n    marginBottom: Spacing[\"2xl\"],\n  },\n  avatar: {\n    width: 100,\n    height: 100,\n    borderRadius: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginBottom: Spacing.md,\n  },\n  name: {\n    marginBottom: Spacing.xs,\n  },\n  section: {\n    marginBottom: Spacing.lg,\n  },\n  sectionTitle: {\n    marginBottom: Spacing.md,\n  },\n  settingsRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    paddingVertical: Spacing.md,\n    marginHorizontal: -Spacing.lg,\n    paddingHorizontal: Spacing.lg,\n  },\n  settingsRowLeft: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  settingsIcon: {\n    width: 36,\n    height: 36,\n    borderRadius: BorderRadius.sm,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginRight: Spacing.md,\n  },\n  settingsRowRight: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.sm,\n  },\n  divider: {\n    height: 1,\n    marginLeft: 52,\n  },\n  macroRow: {\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n  },\n  macroItem: {\n    alignItems: \"center\",\n    gap: Spacing.xs,\n  },\n  macroDot: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n  },\n  nameRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.sm,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: Spacing.xl,\n  },\n  modalContent: {\n    width: \"100%\",\n    maxWidth: 340,\n    borderRadius: BorderRadius.lg,\n    padding: Spacing.xl,\n  },\n  nameInput: {\n    height: 48,\n    borderRadius: BorderRadius.md,\n    paddingHorizontal: Spacing.lg,\n    fontSize: 16,\n    marginBottom: Spacing.lg,\n  },\n  modalButtons: {\n    flexDirection: \"row\",\n    gap: Spacing.md,\n  },\n  modalButton: {\n    flex: 1,\n    height: 44,\n    borderRadius: BorderRadius.md,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n});\n","import React, { useState } from \"react\";\nimport { View, StyleSheet, TextInput, Pressable } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useBottomTabBarHeight } from \"@react-navigation/bottom-tabs\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { KeyboardAwareScrollViewCompat } from \"@/components/KeyboardAwareScrollViewCompat\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Card } from \"@/components/Card\";\nimport { Button } from \"@/components/Button\";\nimport { WeeklyChart } from \"@/components/WeeklyChart\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useStore } from \"@/lib/store\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\n\nexport default function GoalsScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const tabBarHeight = useBottomTabBarHeight();\n  const navigation = useNavigation();\n  const { theme } = useTheme();\n  const store = useStore();\n\n  const [goals, setGoals] = useState({\n    dailyCalories: String(store.profile.goals.dailyCalories),\n    dailyProtein: String(store.profile.goals.dailyProtein),\n    dailyCarbs: String(store.profile.goals.dailyCarbs),\n    dailyFats: String(store.profile.goals.dailyFats),\n    weeklyWorkouts: String(store.profile.goals.weeklyWorkouts),\n    targetWeight: String(store.profile.goals.targetWeight),\n  });\n\n  const [newWeight, setNewWeight] = useState(\"\");\n  const today = new Date().toISOString().split(\"T\")[0];\n\n  const handleSave = () => {\n    store.updateProfile({\n      goals: {\n        dailyCalories: parseInt(goals.dailyCalories) || 0,\n        dailyProtein: parseInt(goals.dailyProtein) || 0,\n        dailyCarbs: parseInt(goals.dailyCarbs) || 0,\n        dailyFats: parseInt(goals.dailyFats) || 0,\n        weeklyWorkouts: parseInt(goals.weeklyWorkouts) || 0,\n        targetWeight: parseFloat(goals.targetWeight) || 0,\n      },\n    });\n    navigation.goBack();\n  };\n\n  const handleLogWeight = () => {\n    if (!newWeight) return;\n    store.addWeightEntry(parseFloat(newWeight), today);\n    setNewWeight(\"\");\n  };\n\n  const weightData = store.weightEntries.slice(-7).map((entry) => ({\n    day: new Date(entry.date).toLocaleDateString(\"en-US\", { weekday: \"short\" }).slice(0, 1),\n    value: entry.weight,\n    completed: true,\n  }));\n\n  const latestWeight = store.weightEntries[store.weightEntries.length - 1];\n  const firstWeight = store.weightEntries[0];\n  const weightChange = latestWeight && firstWeight\n    ? (latestWeight.weight - firstWeight.weight).toFixed(1)\n    : 0;\n\n  return (\n    <KeyboardAwareScrollViewCompat\n      style={{ flex: 1, backgroundColor: theme.backgroundRoot }}\n      contentContainerStyle={{\n        paddingTop: headerHeight + Spacing.xl,\n        paddingBottom: tabBarHeight + Spacing.xl,\n        paddingHorizontal: Spacing.lg,\n      }}\n      scrollIndicatorInsets={{ bottom: insets.bottom }}\n    >\n      <Card style={styles.section}>\n        <ThemedText type=\"h4\" style={styles.sectionTitle}>\n          Weight Tracking\n        </ThemedText>\n\n        <View style={styles.weightSummary}>\n          <View style={styles.weightStat}>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              Current\n            </ThemedText>\n            <ThemedText type=\"h3\">\n              {latestWeight ? latestWeight.weight : \"--\"}\n            </ThemedText>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              {store.profile.units === \"imperial\" ? \"lbs\" : \"kg\"}\n            </ThemedText>\n          </View>\n          <View style={styles.weightStat}>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              Target\n            </ThemedText>\n            <ThemedText type=\"h3\">{store.profile.goals.targetWeight}</ThemedText>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              {store.profile.units === \"imperial\" ? \"lbs\" : \"kg\"}\n            </ThemedText>\n          </View>\n          <View style={styles.weightStat}>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              Change\n            </ThemedText>\n            <ThemedText\n              type=\"h3\"\n              style={{\n                color:\n                  Number(weightChange) < 0 ? theme.success : theme.error,\n              }}\n            >\n              {Number(weightChange) > 0 ? \"+\" : \"\"}\n              {weightChange}\n            </ThemedText>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              {store.profile.units === \"imperial\" ? \"lbs\" : \"kg\"}\n            </ThemedText>\n          </View>\n        </View>\n\n        {weightData.length > 0 ? (\n          <WeeklyChart\n            data={weightData}\n            label=\"Weight History\"\n            color={theme.info}\n          />\n        ) : null}\n\n        <View style={styles.logWeightRow}>\n          <TextInput\n            value={newWeight}\n            onChangeText={setNewWeight}\n            placeholder=\"Enter weight\"\n            placeholderTextColor={theme.textSecondary}\n            keyboardType=\"decimal-pad\"\n            style={[\n              styles.weightInput,\n              { backgroundColor: theme.backgroundDefault, color: theme.text },\n            ]}\n          />\n          <Pressable\n            onPress={handleLogWeight}\n            style={[\n              styles.logButton,\n              { backgroundColor: newWeight ? theme.primary : theme.backgroundDefault },\n            ]}\n          >\n            <Feather\n              name=\"plus\"\n              size={20}\n              color={newWeight ? \"#FFF\" : theme.textSecondary}\n            />\n          </Pressable>\n        </View>\n      </Card>\n\n      <Card style={styles.section}>\n        <ThemedText type=\"h4\" style={styles.sectionTitle}>\n          Nutrition Goals\n        </ThemedText>\n\n        <View style={styles.goalRow}>\n          <View style={styles.goalLabel}>\n            <View style={[styles.goalDot, { backgroundColor: theme.primary }]} />\n            <ThemedText type=\"body\">Daily Calories</ThemedText>\n          </View>\n          <TextInput\n            value={goals.dailyCalories}\n            onChangeText={(text) =>\n              setGoals({ ...goals, dailyCalories: text })\n            }\n            keyboardType=\"number-pad\"\n            style={[\n              styles.goalInput,\n              { backgroundColor: theme.backgroundDefault, color: theme.text },\n            ]}\n          />\n        </View>\n\n        <View style={styles.goalRow}>\n          <View style={styles.goalLabel}>\n            <View style={[styles.goalDot, { backgroundColor: theme.protein }]} />\n            <ThemedText type=\"body\">Protein (g)</ThemedText>\n          </View>\n          <TextInput\n            value={goals.dailyProtein}\n            onChangeText={(text) => setGoals({ ...goals, dailyProtein: text })}\n            keyboardType=\"number-pad\"\n            style={[\n              styles.goalInput,\n              { backgroundColor: theme.backgroundDefault, color: theme.text },\n            ]}\n          />\n        </View>\n\n        <View style={styles.goalRow}>\n          <View style={styles.goalLabel}>\n            <View style={[styles.goalDot, { backgroundColor: theme.carbs }]} />\n            <ThemedText type=\"body\">Carbs (g)</ThemedText>\n          </View>\n          <TextInput\n            value={goals.dailyCarbs}\n            onChangeText={(text) => setGoals({ ...goals, dailyCarbs: text })}\n            keyboardType=\"number-pad\"\n            style={[\n              styles.goalInput,\n              { backgroundColor: theme.backgroundDefault, color: theme.text },\n            ]}\n          />\n        </View>\n\n        <View style={styles.goalRow}>\n          <View style={styles.goalLabel}>\n            <View style={[styles.goalDot, { backgroundColor: theme.fats }]} />\n            <ThemedText type=\"body\">Fats (g)</ThemedText>\n          </View>\n          <TextInput\n            value={goals.dailyFats}\n            onChangeText={(text) => setGoals({ ...goals, dailyFats: text })}\n            keyboardType=\"number-pad\"\n            style={[\n              styles.goalInput,\n              { backgroundColor: theme.backgroundDefault, color: theme.text },\n            ]}\n          />\n        </View>\n      </Card>\n\n      <Card style={styles.section}>\n        <ThemedText type=\"h4\" style={styles.sectionTitle}>\n          Fitness Goals\n        </ThemedText>\n\n        <View style={styles.goalRow}>\n          <View style={styles.goalLabel}>\n            <View style={[styles.goalDot, { backgroundColor: theme.success }]} />\n            <ThemedText type=\"body\">Weekly Workouts</ThemedText>\n          </View>\n          <TextInput\n            value={goals.weeklyWorkouts}\n            onChangeText={(text) =>\n              setGoals({ ...goals, weeklyWorkouts: text })\n            }\n            keyboardType=\"number-pad\"\n            style={[\n              styles.goalInput,\n              { backgroundColor: theme.backgroundDefault, color: theme.text },\n            ]}\n          />\n        </View>\n\n        <View style={styles.goalRow}>\n          <View style={styles.goalLabel}>\n            <View style={[styles.goalDot, { backgroundColor: theme.info }]} />\n            <ThemedText type=\"body\">\n              Target Weight ({store.profile.units === \"imperial\" ? \"lbs\" : \"kg\"})\n            </ThemedText>\n          </View>\n          <TextInput\n            value={goals.targetWeight}\n            onChangeText={(text) => setGoals({ ...goals, targetWeight: text })}\n            keyboardType=\"decimal-pad\"\n            style={[\n              styles.goalInput,\n              { backgroundColor: theme.backgroundDefault, color: theme.text },\n            ]}\n          />\n        </View>\n      </Card>\n\n      <Button onPress={handleSave}>Save Goals</Button>\n    </KeyboardAwareScrollViewCompat>\n  );\n}\n\nconst styles = StyleSheet.create({\n  section: {\n    marginBottom: Spacing.lg,\n  },\n  sectionTitle: {\n    marginBottom: Spacing.lg,\n  },\n  weightSummary: {\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    marginBottom: Spacing.lg,\n  },\n  weightStat: {\n    alignItems: \"center\",\n  },\n  logWeightRow: {\n    flexDirection: \"row\",\n    gap: Spacing.sm,\n  },\n  weightInput: {\n    flex: 1,\n    height: Spacing.inputHeight,\n    borderRadius: BorderRadius.md,\n    paddingHorizontal: Spacing.lg,\n    fontSize: 16,\n  },\n  logButton: {\n    width: Spacing.inputHeight,\n    height: Spacing.inputHeight,\n    borderRadius: BorderRadius.md,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  goalRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginBottom: Spacing.md,\n  },\n  goalLabel: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  goalDot: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    marginRight: Spacing.sm,\n  },\n  goalInput: {\n    width: 80,\n    height: 40,\n    borderRadius: BorderRadius.sm,\n    textAlign: \"center\",\n    fontSize: 16,\n  },\n});\n","import React, { useState } from \"react\";\nimport { View, StyleSheet, Pressable, Alert, Platform, ActivityIndicator } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { Feather } from \"@expo/vector-icons\";\nimport * as FileSystem from \"expo-file-system/legacy\";\nimport * as Sharing from \"expo-sharing\";\nimport * as DocumentPicker from \"expo-document-picker\";\nimport { useQueryClient } from \"@tanstack/react-query\";\n\nimport { KeyboardAwareScrollViewCompat } from \"@/components/KeyboardAwareScrollViewCompat\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Card } from \"@/components/Card\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { apiRequest, getApiUrl } from \"@/lib/query-client\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\n\nexport default function BackupScreen() {\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n  const { theme } = useTheme();\n  const queryClient = useQueryClient();\n  \n  const [isExporting, setIsExporting] = useState(false);\n  const [isImporting, setIsImporting] = useState(false);\n  const [lastExport, setLastExport] = useState<string | null>(null);\n\n  const handleExport = async () => {\n    setIsExporting(true);\n    try {\n      const url = new URL(\"/api/backup/export\", getApiUrl());\n      const response = await apiRequest(\"GET\", url.toString());\n      const data = await response.json();\n      \n      if (!data.success || !data.backup) {\n        throw new Error(\"Failed to export data\");\n      }\n\n      const backupJson = JSON.stringify(data.backup, null, 2);\n      const timestamp = new Date().toISOString().split(\"T\")[0];\n      const filename = `novafit-backup-${timestamp}.json`;\n\n      if (Platform.OS === \"web\") {\n        const blob = new Blob([backupJson], { type: \"application/json\" });\n        const downloadUrl = URL.createObjectURL(blob);\n        const link = document.createElement(\"a\");\n        link.href = downloadUrl;\n        link.download = filename;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        URL.revokeObjectURL(downloadUrl);\n        setLastExport(new Date().toLocaleString());\n        Alert.alert(\"Success\", \"Your backup has been downloaded.\");\n      } else {\n        const fileUri = FileSystem.cacheDirectory + filename;\n        await FileSystem.writeAsStringAsync(fileUri, backupJson);\n        \n        const canShare = await Sharing.isAvailableAsync();\n        if (canShare) {\n          await Sharing.shareAsync(fileUri, {\n            mimeType: \"application/json\",\n            dialogTitle: \"Save your backup\",\n          });\n          setLastExport(new Date().toLocaleString());\n        } else {\n          Alert.alert(\"Backup Created\", `Backup saved to: ${fileUri}`);\n        }\n      }\n    } catch (error) {\n      console.error(\"Export error:\", error);\n      Alert.alert(\"Export Failed\", \"Could not export your data. Please try again.\");\n    } finally {\n      setIsExporting(false);\n    }\n  };\n\n  const handleImport = async () => {\n    try {\n      const result = await DocumentPicker.getDocumentAsync({\n        type: \"application/json\",\n        copyToCacheDirectory: true,\n      });\n\n      if (result.canceled || !result.assets?.[0]) {\n        return;\n      }\n\n      const file = result.assets[0];\n      \n      Alert.alert(\n        \"Import Backup\",\n        \"This will add the backup data to your account. Your existing data will be kept. Continue?\",\n        [\n          { text: \"Cancel\", style: \"cancel\" },\n          {\n            text: \"Import\",\n            onPress: async () => {\n              setIsImporting(true);\n              try {\n                let backupJson: string;\n                \n                if (Platform.OS === \"web\") {\n                  const response = await fetch(file.uri);\n                  backupJson = await response.text();\n                } else {\n                  backupJson = await FileSystem.readAsStringAsync(file.uri);\n                }\n                \n                const backup = JSON.parse(backupJson);\n                \n                if (!backup.version) {\n                  throw new Error(\"Invalid backup file format\");\n                }\n\n                const url = new URL(\"/api/backup/import\", getApiUrl());\n                const response = await apiRequest(\"POST\", url.toString(), {\n                  backup,\n                  options: { mergeMode: \"merge\" },\n                });\n                \n                const data = await response.json();\n                \n                if (!data.success) {\n                  throw new Error(data.error || \"Import failed\");\n                }\n\n                queryClient.invalidateQueries();\n\n                const counts = data.imported;\n                Alert.alert(\n                  \"Import Successful\",\n                  `Imported:\\n- ${counts.workouts} workouts\\n- ${counts.workoutLogs} workout logs\\n- ${counts.foods} foods\\n- ${counts.foodEntries} food entries\\n- ${counts.weightEntries} weight entries\\n- ${counts.meals} meals`\n                );\n              } catch (error: any) {\n                console.error(\"Import error:\", error);\n                Alert.alert(\n                  \"Import Failed\",\n                  error.message || \"Could not import the backup file. Please check the file format.\"\n                );\n              } finally {\n                setIsImporting(false);\n              }\n            },\n          },\n        ]\n      );\n    } catch (error) {\n      console.error(\"Document picker error:\", error);\n    }\n  };\n\n  return (\n    <KeyboardAwareScrollViewCompat\n      style={{ flex: 1, backgroundColor: theme.backgroundRoot }}\n      contentContainerStyle={{\n        paddingTop: headerHeight + Spacing.xl,\n        paddingBottom: insets.bottom + Spacing.xl,\n        paddingHorizontal: Spacing.lg,\n      }}\n      scrollIndicatorInsets={{ bottom: insets.bottom }}\n    >\n      <Card style={styles.section}>\n        <View style={styles.iconContainer}>\n          <View style={[styles.iconCircle, { backgroundColor: theme.primary + \"20\" }]}>\n            <Feather name=\"download-cloud\" size={32} color={theme.primary} />\n          </View>\n        </View>\n        <ThemedText type=\"h3\" style={styles.sectionTitle}>\n          Export Backup\n        </ThemedText>\n        <ThemedText type=\"body\" style={[styles.description, { color: theme.textSecondary }]}>\n          Download all your fitness data including workouts, nutrition logs, weight entries, and goals as a backup file.\n        </ThemedText>\n        <Pressable\n          onPress={handleExport}\n          disabled={isExporting}\n          style={({ pressed }) => [\n            styles.button,\n            { backgroundColor: theme.primary, opacity: pressed || isExporting ? 0.7 : 1 },\n          ]}\n        >\n          <View style={styles.buttonContent}>\n            {isExporting ? (\n              <ActivityIndicator size=\"small\" color=\"#FFF\" />\n            ) : (\n              <Feather name=\"download\" size={18} color=\"#FFF\" style={styles.buttonIcon} />\n            )}\n            <ThemedText type=\"body\" style={{ color: \"#FFF\", fontWeight: \"600\" }}>\n              {isExporting ? \"Exporting...\" : \"Export Data\"}\n            </ThemedText>\n          </View>\n        </Pressable>\n        {lastExport ? (\n          <ThemedText type=\"small\" style={[styles.lastExport, { color: theme.textSecondary }]}>\n            Last export: {lastExport}\n          </ThemedText>\n        ) : null}\n      </Card>\n\n      <Card style={styles.section}>\n        <View style={styles.iconContainer}>\n          <View style={[styles.iconCircle, { backgroundColor: theme.success + \"20\" }]}>\n            <Feather name=\"upload-cloud\" size={32} color={theme.success} />\n          </View>\n        </View>\n        <ThemedText type=\"h3\" style={styles.sectionTitle}>\n          Import Backup\n        </ThemedText>\n        <ThemedText type=\"body\" style={[styles.description, { color: theme.textSecondary }]}>\n          Restore your data from a previously exported backup file. Your current data will be preserved and merged with the imported data.\n        </ThemedText>\n        <Pressable\n          onPress={handleImport}\n          disabled={isImporting}\n          style={({ pressed }) => [\n            styles.button,\n            { backgroundColor: theme.backgroundSecondary, opacity: pressed || isImporting ? 0.7 : 1 },\n          ]}\n        >\n          <View style={styles.buttonContent}>\n            {isImporting ? (\n              <ActivityIndicator size=\"small\" color={theme.primary} />\n            ) : (\n              <Feather name=\"upload\" size={18} color={theme.primary} style={styles.buttonIcon} />\n            )}\n            <ThemedText type=\"body\" style={{ color: theme.primary, fontWeight: \"600\" }}>\n              {isImporting ? \"Importing...\" : \"Select Backup File\"}\n            </ThemedText>\n          </View>\n        </Pressable>\n      </Card>\n\n      <Card style={styles.infoSection}>\n        <Feather name=\"info\" size={20} color={theme.textSecondary} />\n        <View style={styles.infoContent}>\n          <ThemedText type=\"h4\" style={{ marginBottom: Spacing.xs }}>\n            About Backups\n          </ThemedText>\n          <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n            Backups include all your personal fitness data. Keep your backup files in a safe place. You can use them to restore your data on any device.\n          </ThemedText>\n        </View>\n      </Card>\n    </KeyboardAwareScrollViewCompat>\n  );\n}\n\nconst styles = StyleSheet.create({\n  section: {\n    marginBottom: Spacing.lg,\n    alignItems: \"center\",\n    paddingVertical: Spacing[\"2xl\"],\n  },\n  iconContainer: {\n    marginBottom: Spacing.lg,\n  },\n  iconCircle: {\n    width: 72,\n    height: 72,\n    borderRadius: 36,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  sectionTitle: {\n    textAlign: \"center\",\n    marginBottom: Spacing.sm,\n  },\n  description: {\n    textAlign: \"center\",\n    marginBottom: Spacing.lg,\n    paddingHorizontal: Spacing.md,\n  },\n  button: {\n    minWidth: 200,\n    height: 48,\n    borderRadius: BorderRadius.md,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingHorizontal: Spacing.xl,\n  },\n  buttonContent: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.sm,\n  },\n  buttonIcon: {\n    marginRight: Spacing.xs,\n  },\n  lastExport: {\n    marginTop: Spacing.md,\n  },\n  infoSection: {\n    flexDirection: \"row\",\n    alignItems: \"flex-start\",\n    gap: Spacing.md,\n  },\n  infoContent: {\n    flex: 1,\n  },\n});\n","import React from \"react\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport ProfileScreen from \"@/screens/ProfileScreen\";\nimport GoalsScreen from \"@/screens/GoalsScreen\";\nimport BackupScreen from \"@/screens/BackupScreen\";\nimport { useScreenOptions } from \"@/hooks/useScreenOptions\";\n\nexport type ProfileStackParamList = {\n  Profile: undefined;\n  Goals: undefined;\n  Backup: undefined;\n};\n\nconst Stack = createNativeStackNavigator<ProfileStackParamList>();\n\nexport default function ProfileStackNavigator() {\n  const screenOptions = useScreenOptions();\n\n  return (\n    <Stack.Navigator screenOptions={screenOptions}>\n      <Stack.Screen\n        name=\"Profile\"\n        component={ProfileScreen}\n        options={{\n          headerTitle: \"Profile\",\n        }}\n      />\n      <Stack.Screen\n        name=\"Goals\"\n        component={GoalsScreen}\n        options={{\n          headerTitle: \"Goals\",\n        }}\n      />\n      <Stack.Screen\n        name=\"Backup\"\n        component={BackupScreen}\n        options={{\n          headerTitle: \"Backup & Restore\",\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import React from \"react\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport { Feather, MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport { BlurView } from \"expo-blur\";\nimport { Platform, StyleSheet } from \"react-native\";\nimport HomeStackNavigator from \"@/navigation/HomeStackNavigator\";\nimport WorkoutsStackNavigator from \"@/navigation/WorkoutsStackNavigator\";\nimport NutritionStackNavigator from \"@/navigation/NutritionStackNavigator\";\nimport CalendarStackNavigator from \"@/navigation/CalendarStackNavigator\";\nimport ProfileStackNavigator from \"@/navigation/ProfileStackNavigator\";\nimport { useTheme } from \"@/hooks/useTheme\";\n\nexport type MainTabParamList = {\n  HomeTab: undefined;\n  WorkoutsTab: undefined;\n  NutritionTab: undefined;\n  CalendarTab: undefined;\n  ProfileTab: undefined;\n};\n\nconst Tab = createBottomTabNavigator<MainTabParamList>();\n\nexport default function MainTabNavigator() {\n  const { theme, isDark } = useTheme();\n\n  return (\n    <Tab.Navigator\n      initialRouteName=\"HomeTab\"\n      screenOptions={{\n        tabBarActiveTintColor: theme.tabIconSelected,\n        tabBarInactiveTintColor: theme.tabIconDefault,\n        tabBarStyle: {\n          position: \"absolute\",\n          backgroundColor: Platform.select({\n            ios: \"transparent\",\n            android: theme.backgroundRoot,\n          }),\n          borderTopWidth: 0,\n          elevation: 0,\n        },\n        tabBarBackground: () =>\n          Platform.OS === \"ios\" ? (\n            <BlurView\n              intensity={100}\n              tint={isDark ? \"dark\" : \"light\"}\n              style={StyleSheet.absoluteFill}\n            />\n          ) : null,\n        headerShown: false,\n      }}\n    >\n      <Tab.Screen\n        name=\"HomeTab\"\n        component={HomeStackNavigator}\n        options={{\n          title: \"Home\",\n          tabBarIcon: ({ color, size }) => (\n            <Feather name=\"home\" size={size} color={color} />\n          ),\n        }}\n      />\n      <Tab.Screen\n        name=\"WorkoutsTab\"\n        component={WorkoutsStackNavigator}\n        options={{\n          title: \"Workouts\",\n          tabBarIcon: ({ color, size }) => (\n            <MaterialCommunityIcons name=\"dumbbell\" size={size} color={color} />\n          ),\n        }}\n      />\n      <Tab.Screen\n        name=\"NutritionTab\"\n        component={NutritionStackNavigator}\n        options={{\n          title: \"Nutrition\",\n          tabBarIcon: ({ color, size }) => (\n            <MaterialCommunityIcons name=\"apple\" size={size} color={color} />\n          ),\n        }}\n      />\n      <Tab.Screen\n        name=\"CalendarTab\"\n        component={CalendarStackNavigator}\n        options={{\n          title: \"Progress\",\n          tabBarIcon: ({ color, size }) => (\n            <Feather name=\"calendar\" size={size} color={color} />\n          ),\n        }}\n      />\n      <Tab.Screen\n        name=\"ProfileTab\"\n        component={ProfileStackNavigator}\n        options={{\n          title: \"Profile\",\n          tabBarIcon: ({ color, size }) => (\n            <Feather name=\"user\" size={size} color={color} />\n          ),\n        }}\n      />\n    </Tab.Navigator>\n  );\n}\n","import React, { useState } from \"react\";\nimport {\n  View,\n  StyleSheet,\n  Pressable,\n  ActivityIndicator,\n  TextInput,\n  Platform,\n  Linking,\n} from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { BlurView } from \"expo-blur\";\nimport Animated, {\n  useAnimatedStyle,\n  withSpring,\n  useSharedValue,\n  FadeInUp,\n} from \"react-native-reanimated\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { Image } from \"expo-image\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { Button } from \"@/components/Button\";\nimport { KeyboardAwareScrollViewCompat } from \"@/components/KeyboardAwareScrollViewCompat\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { useAuth } from \"@/lib/auth\";\nimport { BorderRadius, Spacing, Typography, Colors } from \"@/constants/theme\";\n\ntype AuthMode = \"login\" | \"register\";\n\nexport default function AuthScreen() {\n  const { theme, isDark } = useTheme();\n  const insets = useSafeAreaInsets();\n  const { login, register } = useAuth();\n\n  const [mode, setMode] = useState<AuthMode>(\"login\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n\n  const tabIndicatorPosition = useSharedValue(0);\n\n  const handleModeChange = (newMode: AuthMode) => {\n    setMode(newMode);\n    setError(\"\");\n    tabIndicatorPosition.value = withSpring(newMode === \"login\" ? 0 : 1, {\n      damping: 15,\n      stiffness: 150,\n    });\n  };\n\n  const indicatorStyle = useAnimatedStyle(() => ({\n    transform: [{ translateX: tabIndicatorPosition.value * 120 }],\n  }));\n\n  const handleSubmit = async () => {\n    setError(\"\");\n    \n    if (!email.trim()) {\n      setError(\"Please enter your email\");\n      return;\n    }\n    if (!password.trim()) {\n      setError(\"Please enter your password\");\n      return;\n    }\n    if (mode === \"register\" && !name.trim()) {\n      setError(\"Please enter your name\");\n      return;\n    }\n    if (password.length < 6) {\n      setError(\"Password must be at least 6 characters\");\n      return;\n    }\n\n    setIsLoading(true);\n    \n    try {\n      const result = mode === \"login\"\n        ? await login(email.trim().toLowerCase(), password)\n        : await register(email.trim().toLowerCase(), password, name.trim());\n\n      if (!result.success) {\n        setError(result.error || \"Something went wrong\");\n      }\n    } catch (err) {\n      setError(\"Connection error. Please try again.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <ThemedView style={styles.container}>\n      <KeyboardAwareScrollViewCompat\n        contentContainerStyle={[\n          styles.scrollContent,\n          { paddingTop: insets.top + Spacing.xl, paddingBottom: insets.bottom + Spacing.xl },\n        ]}\n        showsVerticalScrollIndicator={false}\n      >\n        <View style={styles.logoContainer}>\n          <Image\n            source={require(\"../../assets/images/icon.png\")}\n            style={styles.logo}\n            contentFit=\"contain\"\n          />\n          <ThemedText type=\"h1\" style={styles.appName}>NovaFit</ThemedText>\n          <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n            Track your fitness journey\n          </ThemedText>\n        </View>\n\n        <Animated.View \n          entering={FadeInUp.delay(200).springify()}\n          style={[styles.card, { backgroundColor: theme.backgroundSecondary }]}\n        >\n          <View style={styles.tabContainer}>\n            <Animated.View\n              style={[\n                styles.tabIndicator,\n                { backgroundColor: theme.primary },\n                indicatorStyle,\n              ]}\n            />\n            <Pressable\n              style={styles.tab}\n              onPress={() => handleModeChange(\"login\")}\n            >\n              <ThemedText\n                type=\"body\"\n                style={[\n                  styles.tabText,\n                  mode === \"login\" && { color: theme.buttonText, fontWeight: \"600\" },\n                ]}\n              >\n                Sign In\n              </ThemedText>\n            </Pressable>\n            <Pressable\n              style={styles.tab}\n              onPress={() => handleModeChange(\"register\")}\n            >\n              <ThemedText\n                type=\"body\"\n                style={[\n                  styles.tabText,\n                  mode === \"register\" && { color: theme.buttonText, fontWeight: \"600\" },\n                ]}\n              >\n                Sign Up\n              </ThemedText>\n            </Pressable>\n          </View>\n\n          <View style={styles.form}>\n            {mode === \"register\" ? (\n              <View style={styles.inputContainer}>\n                <Feather\n                  name=\"user\"\n                  size={20}\n                  color={theme.textSecondary}\n                  style={styles.inputIcon}\n                />\n                <TextInput\n                  style={[\n                    styles.input,\n                    {\n                      backgroundColor: theme.backgroundTertiary,\n                      color: theme.text,\n                      borderColor: theme.border,\n                    },\n                  ]}\n                  placeholder=\"Your name\"\n                  placeholderTextColor={theme.textSecondary}\n                  value={name}\n                  onChangeText={setName}\n                  autoCapitalize=\"words\"\n                  autoCorrect={false}\n                />\n              </View>\n            ) : null}\n\n            <View style={styles.inputContainer}>\n              <Feather\n                name=\"mail\"\n                size={20}\n                color={theme.textSecondary}\n                style={styles.inputIcon}\n              />\n              <TextInput\n                style={[\n                  styles.input,\n                  {\n                    backgroundColor: theme.backgroundTertiary,\n                    color: theme.text,\n                    borderColor: theme.border,\n                  },\n                ]}\n                placeholder=\"Email address\"\n                placeholderTextColor={theme.textSecondary}\n                value={email}\n                onChangeText={setEmail}\n                keyboardType=\"email-address\"\n                autoCapitalize=\"none\"\n                autoCorrect={false}\n              />\n            </View>\n\n            <View style={styles.inputContainer}>\n              <Feather\n                name=\"lock\"\n                size={20}\n                color={theme.textSecondary}\n                style={styles.inputIcon}\n              />\n              <TextInput\n                style={[\n                  styles.input,\n                  {\n                    backgroundColor: theme.backgroundTertiary,\n                    color: theme.text,\n                    borderColor: theme.border,\n                    paddingRight: 48,\n                  },\n                ]}\n                placeholder=\"Password\"\n                placeholderTextColor={theme.textSecondary}\n                value={password}\n                onChangeText={setPassword}\n                secureTextEntry={!showPassword}\n                autoCapitalize=\"none\"\n                autoCorrect={false}\n              />\n              <Pressable\n                style={styles.passwordToggle}\n                onPress={() => setShowPassword(!showPassword)}\n              >\n                <Feather\n                  name={showPassword ? \"eye-off\" : \"eye\"}\n                  size={20}\n                  color={theme.textSecondary}\n                />\n              </Pressable>\n            </View>\n\n            {error ? (\n              <Animated.View\n                entering={FadeInUp.springify()}\n                style={[styles.errorContainer, { backgroundColor: theme.error + \"20\" }]}\n              >\n                <Feather name=\"alert-circle\" size={16} color={theme.error} />\n                <ThemedText type=\"small\" style={{ color: theme.error, marginLeft: Spacing.sm }}>\n                  {error}\n                </ThemedText>\n              </Animated.View>\n            ) : null}\n\n            <Button\n              onPress={handleSubmit}\n              disabled={isLoading}\n              style={styles.submitButton}\n            >\n              {isLoading ? (\n                <ActivityIndicator color={theme.buttonText} size=\"small\" />\n              ) : mode === \"login\" ? (\n                \"Sign In\"\n              ) : (\n                \"Create Account\"\n              )}\n            </Button>\n          </View>\n        </Animated.View>\n\n        <View style={styles.footer}>\n          <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n            {mode === \"login\"\n              ? \"Don't have an account? \"\n              : \"Already have an account? \"}\n          </ThemedText>\n          <Pressable onPress={() => handleModeChange(mode === \"login\" ? \"register\" : \"login\")}>\n            <ThemedText type=\"small\" style={{ color: theme.primary, fontWeight: \"600\" }}>\n              {mode === \"login\" ? \"Sign Up\" : \"Sign In\"}\n            </ThemedText>\n          </Pressable>\n        </View>\n      </KeyboardAwareScrollViewCompat>\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    justifyContent: \"center\",\n    paddingHorizontal: Spacing.xl,\n  },\n  logoContainer: {\n    alignItems: \"center\",\n    marginBottom: Spacing[\"3xl\"],\n  },\n  logo: {\n    width: 100,\n    height: 100,\n    marginBottom: Spacing.lg,\n  },\n  appName: {\n    marginBottom: Spacing.xs,\n  },\n  card: {\n    borderRadius: BorderRadius[\"2xl\"],\n    padding: Spacing.xl,\n  },\n  tabContainer: {\n    flexDirection: \"row\",\n    marginBottom: Spacing.xl,\n    position: \"relative\",\n  },\n  tabIndicator: {\n    position: \"absolute\",\n    width: 120,\n    height: \"100%\",\n    borderRadius: BorderRadius.lg,\n  },\n  tab: {\n    width: 120,\n    paddingVertical: Spacing.md,\n    alignItems: \"center\",\n    zIndex: 1,\n  },\n  tabText: {\n    fontWeight: \"500\",\n  },\n  form: {\n    gap: Spacing.lg,\n  },\n  inputContainer: {\n    position: \"relative\",\n  },\n  inputIcon: {\n    position: \"absolute\",\n    left: Spacing.lg,\n    top: 14,\n    zIndex: 1,\n  },\n  input: {\n    height: Spacing.inputHeight,\n    borderRadius: BorderRadius.lg,\n    paddingHorizontal: Spacing.lg,\n    paddingLeft: 48,\n    ...Typography.body,\n    borderWidth: 1,\n  },\n  passwordToggle: {\n    position: \"absolute\",\n    right: Spacing.lg,\n    top: 14,\n  },\n  errorContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    padding: Spacing.md,\n    borderRadius: BorderRadius.md,\n  },\n  submitButton: {\n    marginTop: Spacing.sm,\n  },\n  footer: {\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    marginTop: Spacing.xl,\n  },\n});\n","import React from \"react\";\nimport { ActivityIndicator, View, StyleSheet } from \"react-native\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport MainTabNavigator from \"@/navigation/MainTabNavigator\";\nimport AuthScreen from \"@/screens/AuthScreen\";\nimport { useScreenOptions } from \"@/hooks/useScreenOptions\";\nimport { useAuth } from \"@/lib/auth\";\nimport { useTheme } from \"@/hooks/useTheme\";\n\nexport type RootStackParamList = {\n  Auth: undefined;\n  Main: undefined;\n};\n\nconst Stack = createNativeStackNavigator<RootStackParamList>();\n\nfunction LoadingScreen() {\n  const { theme } = useTheme();\n  return (\n    <View style={[styles.loading, { backgroundColor: theme.backgroundRoot }]}>\n      <ActivityIndicator size=\"large\" color={theme.primary} />\n    </View>\n  );\n}\n\nexport default function RootStackNavigator() {\n  const screenOptions = useScreenOptions();\n  const { isLoading, isAuthenticated } = useAuth();\n\n  if (isLoading) {\n    return <LoadingScreen />;\n  }\n\n  return (\n    <Stack.Navigator screenOptions={screenOptions}>\n      {isAuthenticated ? (\n        <Stack.Screen\n          name=\"Main\"\n          component={MainTabNavigator}\n          options={{ headerShown: false }}\n        />\n      ) : (\n        <Stack.Screen\n          name=\"Auth\"\n          component={AuthScreen}\n          options={{ headerShown: false }}\n        />\n      )}\n    </Stack.Navigator>\n  );\n}\n\nconst styles = StyleSheet.create({\n  loading: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n});\n","import React, { useState } from \"react\";\nimport { reloadAppAsync } from \"expo\";\nimport {\n  StyleSheet,\n  View,\n  Pressable,\n  ScrollView,\n  Text,\n  Modal,\n} from \"react-native\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius, Fonts } from \"@/constants/theme\";\n\nexport type ErrorFallbackProps = {\n  error: Error;\n  resetError: () => void;\n};\n\nexport function ErrorFallback({ error, resetError }: ErrorFallbackProps) {\n  const { theme } = useTheme();\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const handleRestart = async () => {\n    try {\n      await reloadAppAsync();\n    } catch (restartError) {\n      console.error(\"Failed to restart app:\", restartError);\n      resetError();\n    }\n  };\n\n  const formatErrorDetails = (): string => {\n    let details = `Error: ${error.message}\\n\\n`;\n    if (error.stack) {\n      details += `Stack Trace:\\n${error.stack}`;\n    }\n    return details;\n  };\n\n  return (\n    <ThemedView style={styles.container}>\n      {__DEV__ ? (\n        <Pressable\n          onPress={() => setIsModalVisible(true)}\n          style={({ pressed }) => [\n            styles.topButton,\n            {\n              backgroundColor: theme.backgroundDefault,\n              opacity: pressed ? 0.8 : 1,\n            },\n          ]}\n        >\n          <Feather name=\"alert-circle\" size={20} color={theme.text} />\n        </Pressable>\n      ) : null}\n\n      <View style={styles.content}>\n        <ThemedText type=\"h1\" style={styles.title}>\n          Something went wrong\n        </ThemedText>\n\n        <ThemedText type=\"body\" style={styles.message}>\n          Please reload the app to continue.\n        </ThemedText>\n\n        <Pressable\n          onPress={handleRestart}\n          style={({ pressed }) => [\n            styles.button,\n            {\n              backgroundColor: theme.link,\n              opacity: pressed ? 0.9 : 1,\n              transform: [{ scale: pressed ? 0.98 : 1 }],\n            },\n          ]}\n        >\n          <ThemedText\n            type=\"body\"\n            style={[styles.buttonText, { color: theme.buttonText }]}\n          >\n            Try Again\n          </ThemedText>\n        </Pressable>\n      </View>\n\n      {__DEV__ ? (\n        <Modal\n          visible={isModalVisible}\n          animationType=\"slide\"\n          transparent={true}\n          onRequestClose={() => setIsModalVisible(false)}\n        >\n          <View style={styles.modalOverlay}>\n            <ThemedView style={styles.modalContainer}>\n              <View style={styles.modalHeader}>\n                <ThemedText type=\"h2\" style={styles.modalTitle}>\n                  Error Details\n                </ThemedText>\n                <Pressable\n                  onPress={() => setIsModalVisible(false)}\n                  style={({ pressed }) => [\n                    styles.closeButton,\n                    { opacity: pressed ? 0.6 : 1 },\n                  ]}\n                >\n                  <Feather name=\"x\" size={24} color={theme.text} />\n                </Pressable>\n              </View>\n\n              <ScrollView\n                style={styles.modalScrollView}\n                contentContainerStyle={styles.modalScrollContent}\n                showsVerticalScrollIndicator\n              >\n                <View\n                  style={[\n                    styles.errorContainer,\n                    { backgroundColor: theme.backgroundDefault },\n                  ]}\n                >\n                  <Text\n                    style={[\n                      styles.errorText,\n                      {\n                        color: theme.text,\n                        fontFamily: Fonts?.mono || \"monospace\",\n                      },\n                    ]}\n                    selectable\n                  >\n                    {formatErrorDetails()}\n                  </Text>\n                </View>\n              </ScrollView>\n            </ThemedView>\n          </View>\n        </Modal>\n      ) : null}\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: \"100%\",\n    height: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: Spacing[\"2xl\"],\n  },\n  content: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    gap: Spacing.lg,\n    width: \"100%\",\n    maxWidth: 600,\n  },\n  title: {\n    textAlign: \"center\",\n    lineHeight: 40,\n  },\n  message: {\n    textAlign: \"center\",\n    opacity: 0.7,\n    lineHeight: 24,\n  },\n  topButton: {\n    position: \"absolute\",\n    top: Spacing[\"2xl\"] + Spacing.lg,\n    right: Spacing.lg,\n    width: 44,\n    height: 44,\n    borderRadius: BorderRadius.md,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    zIndex: 10,\n  },\n  button: {\n    paddingVertical: Spacing.lg,\n    borderRadius: BorderRadius.md,\n    paddingHorizontal: Spacing[\"2xl\"],\n    minWidth: 200,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  buttonText: {\n    fontWeight: \"600\",\n    textAlign: \"center\",\n    fontSize: 16,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n    justifyContent: \"flex-end\",\n  },\n  modalContainer: {\n    width: \"100%\",\n    height: \"90%\",\n    borderTopLeftRadius: BorderRadius.lg,\n    borderTopRightRadius: BorderRadius.lg,\n  },\n  modalHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing.lg,\n    paddingTop: Spacing.lg,\n    paddingBottom: Spacing.md,\n    borderBottomWidth: 1,\n    borderBottomColor: \"rgba(128, 128, 128, 0.2)\",\n  },\n  modalTitle: {\n    fontWeight: \"600\",\n  },\n  closeButton: {\n    padding: Spacing.xs,\n  },\n  modalScrollView: {\n    flex: 1,\n  },\n  modalScrollContent: {\n    padding: Spacing.lg,\n  },\n  errorContainer: {\n    width: \"100%\",\n    borderRadius: BorderRadius.md,\n    overflow: \"hidden\",\n    padding: Spacing.lg,\n  },\n  errorText: {\n    fontSize: 12,\n    lineHeight: 18,\n    width: \"100%\",\n  },\n});\n","import React, { Component, ComponentType, PropsWithChildren } from \"react\";\nimport { ErrorFallback, ErrorFallbackProps } from \"@/components/ErrorFallback\";\n\nexport type ErrorBoundaryProps = PropsWithChildren<{\n  FallbackComponent?: ComponentType<ErrorFallbackProps>;\n  onError?: (error: Error, stackTrace: string) => void;\n}>;\n\ntype ErrorBoundaryState = { error: Error | null };\n\n/**\n * This is a special case for for using the class components. Error boundaries must be class components because React only provides error boundary functionality through lifecycle methods (componentDidCatch and getDerivedStateFromError) which are not available in functional components.\n * https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary\n */\n\nexport class ErrorBoundary extends Component<\n  ErrorBoundaryProps,\n  ErrorBoundaryState\n> {\n  state: ErrorBoundaryState = { error: null };\n\n  static defaultProps: {\n    FallbackComponent: ComponentType<ErrorFallbackProps>;\n  } = {\n    FallbackComponent: ErrorFallback,\n  };\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    return { error };\n  }\n\n  componentDidCatch(error: Error, info: { componentStack: string }): void {\n    if (typeof this.props.onError === \"function\") {\n      this.props.onError(error, info.componentStack);\n    }\n  }\n\n  resetError = (): void => {\n    this.setState({ error: null });\n  };\n\n  render() {\n    const { FallbackComponent } = this.props;\n\n    return this.state.error && FallbackComponent ? (\n      <FallbackComponent\n        error={this.state.error}\n        resetError={this.resetError}\n      />\n    ) : (\n      this.props.children\n    );\n  }\n}\n","import React from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { GestureHandlerRootView } from \"react-native-gesture-handler\";\nimport { KeyboardProvider } from \"react-native-keyboard-controller\";\nimport { SafeAreaProvider } from \"react-native-safe-area-context\";\nimport { StatusBar } from \"expo-status-bar\";\n\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { queryClient } from \"@/lib/query-client\";\n\nimport RootStackNavigator from \"@/navigation/RootStackNavigator\";\nimport { ErrorBoundary } from \"@/components/ErrorBoundary\";\nimport { AuthProvider } from \"@/lib/auth\";\n\nexport default function App() {\n  return (\n    <ErrorBoundary>\n      <QueryClientProvider client={queryClient}>\n        <AuthProvider>\n          <SafeAreaProvider>\n            <GestureHandlerRootView style={styles.root}>\n              <KeyboardProvider>\n                <NavigationContainer>\n                  <RootStackNavigator />\n                </NavigationContainer>\n                <StatusBar style=\"auto\" />\n              </KeyboardProvider>\n            </GestureHandlerRootView>\n          </SafeAreaProvider>\n        </AuthProvider>\n      </QueryClientProvider>\n    </ErrorBoundary>\n  );\n}\n\nconst styles = StyleSheet.create({\n  root: {\n    flex: 1,\n  },\n});\n","import { registerRootComponent } from \"expo\";\n\nimport App from \"@/App\";\n\nregisterRootComponent(App);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [96], () => (__webpack_require__(2677)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["async","getSessionToken","AsyncStorage","getItem","getApiUrl","host","process","EXPO_PUBLIC_DOMAIN","Error","URL","href","throwIfResNotOk","res","ok","text","statusText","status","apiRequest","method","route","data","baseUrl","url","sessionToken","headers","fetch","body","JSON","stringify","undefined","credentials","queryClient","QueryClient","defaultOptions","queries","queryFn","getQueryFn","on401","unauthorizedBehavior","queryKey","join","json","refetchInterval","refetchOnWindowFocus","staleTime","Infinity","retry","mutations","primaryColor","primaryDark","primaryLight","accentColor","Colors","light","textSecondary","buttonText","tabIconDefault","tabIconSelected","link","primary","accent","backgroundRoot","backgroundDefault","backgroundSecondary","backgroundTertiary","border","success","warning","error","info","protein","carbs","fats","calories","workoutStrength","workoutCardio","workoutCore","workoutFlexibility","workoutCustom","dark","Spacing","BorderRadius","Typography","fontSize","fontWeight","letterSpacing","lineHeight","textTransform","Shadows","card","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","fab","useTheme","colorScheme","hasHydrated","setHasHydrated","useState","useEffect","useRNColorScheme","useColorScheme","theme","isDark","ThemedText","_ref","style","lightColor","darkColor","type","rest","_objectWithoutPropertiesLoose","_excluded","_jsx","Text","Object","assign","color","getTypeStyle","springConfig","damping","mass","stiffness","overshootClamping","energyThreshold","AnimatedPressable","Animated","Pressable","_worklet_14628446680994_init_data","code","Card","title","description","children","onPress","scale","useSharedValue","cardBackgroundColor","getBackgroundColorForElevation","animatedStyle","useAnimatedStyle","CardTsx1","transform","value","__closure","__workletHash","__initData","_jsxs","onPressIn","handlePressIn","withSpring","onPressOut","handlePressOut","styles","backgroundColor","cardTitle","cardDescription","StyleSheet","create","padding","borderRadius","marginBottom","opacity","StatCard","icon","label","subtitle","iconColor","container","View","iconContainer","Feather","name","size","flex","alignItems","justifyContent","_worklet_12292197202983_init_data","ProgressBar","progress","animatedProgress","withTiming","Math","min","duration","easing","Easing","out","ease","ProgressBarTsx1","overflow","MacroDisplay","current","goal","unit","round","marginTop","screenWidth","Dimensions","get","WeeklyChart","maxValue","chartColor","max","map","d","chart","item","index","barContainer","bar","completed","dayLabel","day","paddingVertical","flexDirection","_worklet_7117075754723_init_data","_worklet_4022206376280_init_data","_worklet_14126015248052_init_data","FAB","actions","tabBarHeight","useSafeAreaInsets","useBottomTabBarHeight","isOpen","setIsOpen","expanded","toggleMenu","fabStyle","interpolate","FABTsx1","rotate","overlayStyle","FABTsx2","pointerEvents","_Fragment","absoluteFill","bottom","right","action","actionStyle","FABTsx3","translateY","actionButton","handleAction","actionContent","actionLabel","actionIcon","position","paddingLeft","marginRight","generateId","random","toString","substring","calculateMealTotals","ingredients","reduce","acc","ing","fiber","calculatePerServing","totals","servings","workouts","foods","foodEntries","workoutLogs","profile","avatar","units","goals","dailyCalories","dailyProtein","dailyCarbs","dailyFats","weeklyWorkouts","targetWeight","weightEntries","meals","useStore","forceUpdate","refresh","useCallback","addWorkout","workout","newWorkout","id","createdAt","Date","updateWorkout","updates","w","deleteWorkout","filter","addFood","food","newFood","updateFood","f","deleteFood","addFoodEntry","entry","newEntry","deleteFoodEntry","e","addWorkoutLog","log","newLog","updateProfile","addWeightEntry","weight","date","existingIndex","findIndex","i","sort","a","b","localeCompare","getFoodEntriesForDate","getDailyNutrition","getWeeklyWorkouts","weekAgo","now","completedAt","getWorkoutForDay","dayOfWeek","find","scheduledDays","includes","addMeal","meal","newMeal","updateMeal","m","deleteMeal","getMealById","getMealNutrition","mealId","getMealNutritionPerServing","totalServings","logMealAsFood","servingsEaten","mealType","perServing","servingSize","isSaved","foodId","SESSION_KEY","AuthContext","createContext","isLoading","isAuthenticated","user","sessionId","login","register","logout","updateGoals","refreshUser","authFetch","endpoint","options","AuthProvider","state","setState","checkSession","savedSessionId","removeItem","console","email","password","setItem","invalidateQueries","clear","prev","Provider","useAuth","useContext","HomeScreen","insets","headerHeight","useHeaderHeight","navigation","useNavigation","store","today","toISOString","split","dailyNutrition","latestWeight","length","weekData","hasWorkout","some","getDay","fabActions","navigate","screen","params","ScrollView","scroll","contentContainerStyle","paddingTop","paddingBottom","paddingHorizontal","scrollIndicatorInsets","greeting","getGreeting","hour","getHours","toLocaleDateString","weekday","month","nutritionCard","nutritionHeader","caloriesBadge","macros","macroSpacer","statsRow","statSpacer","chartCard","recentSection","sectionTitle","slice","activityCard","activityRow","activityIcon","activityContent","workoutName","HeaderTitle","Image","source","require","resizeMode","useScreenOptions","transparent","headerTitleAlign","headerTransparent","headerBlurEffect","headerTintColor","headerStyle","gestureEnabled","gestureDirection","fullScreenGestureEnabled","isLiquidGlassAvailable","contentStyle","Stack","createNativeStackNavigator","HomeStackNavigator","screenOptions","Navigator","Screen","component","headerTitle","_worklet_13091514820013_init_data","WorkoutCard","onStart","WorkoutCardTsx1","dayNames","scheduledDaysText","colorBar","content","header","exerciseCount","marginLeft","exercises","footer","schedule","startButton","ScheduleGrid","onDayPress","onWorkoutPress","dayIndex","isToday","dayColumn","dayHeader","dayText","dayContent","workoutIndicator","numberOfLines","gap","textAlign","WorkoutsScreen","activeTab","setActiveTab","segmentedControl","segment","addButton","library","empty","createButton","borderColor","cardWrapper","workoutId","scheduleTitle","legend","legendItem","legendColor","borderWidth","flexWrap","KeyboardAwareScrollViewCompat","keyboardShouldPersistTaps","props","_worklet_4130383383776_init_data","Button","disabled","ButtonTsx1","button","colors","CreateWorkoutScreen","useRoute","existingWorkout","setName","selectedColor","setSelectedColor","setScheduledDays","setExercises","sets","reps","isBodyweight","notes","addExercise","updateExercise","field","TextInput","onChangeText","placeholder","placeholderTextColor","input","colorRow","colorOption","colorSelected","daysRow","toggleDay","dayButton","exercisesHeader","addExerciseButton","exercise","exerciseCard","exerciseHeader","exerciseNameInput","_","removeExercise","removeButton","bodyweightRow","bodyweightToggle","exerciseDetails","detailField","String","parseInt","keyboardType","detailInput","parseFloat","emptyExercises","handleSave","trim","workoutData","goBack","borderStyle","WorkoutDetailScreen","colorBadge","headerContent","headerActions","iconButton","handleDelete","Alert","alert","exerciseIndex","exerciseStats","stat","statDivider","fontStyle","borderTopWidth","borderTopColor","ThemedView","otherProps","ActiveWorkoutScreen","elapsedSeconds","setElapsedSeconds","isPaused","setIsPaused","exerciseLogs","setExerciseLogs","timerRef","useRef","initialLogs","forEach","ex","Array","from","setInterval","s","clearInterval","top","updateSetValue","exerciseId","setIndex","set","getCompletedSets","values","sum","getTotalSets","headerTop","closeButton","timer","timerText","seconds","secs","floor","padStart","formatTime","pauseButton","progressBar","progressFill","progressText","exerciseName","setsHeader","setHeaderText","setRow","setNumber","setInput","toggleSet","Haptics","impactAsync","Light","checkButton","handleFinish","logs","notificationAsync","Success","marginHorizontal","left","WorkoutsStackNavigator","presentation","headerShown","_worklet_4067228220569_init_data","_worklet_13047215145796_init_data","_worklet_1639592261956_init_data","_worklet_897706448996_init_data","FoodItem","foodProp","onDelete","showMacros","translateX","panGesture","Gesture","Pan","activeOffsetX","onUpdate","FoodItemTsx2","translationX","onEnd","FoodItemTsx1","FoodItemTsx3","deleteStyle","FoodItemTsx4","wrapper","deleteBackground","deleteButton","GestureDetector","gesture","main","nutrition","macro","macroLabel","_worklet_14420768638934_init_data","MealSection","entries","onAddFood","onDeleteEntry","isExpanded","setIsExpanded","rotation","totalCalories","chevronStyle","MealSectionTsx1","toggleExpanded","titleRow","caloriesRow","AnimatedCircle","Circle","_worklet_14614921008336_init_data","_worklet_5390894828520_init_data","CircularProgress","strokeWidth","showPercentage","progressColor","radius","circumference","PI","center","clampedProgress","useDerivedValue","CircularProgressTsx1","animatedProps","useAnimatedProps","CircularProgressTsx2","strokeDashoffset","Svg","cx","cy","r","stroke","fill","strokeDasharray","strokeLinecap","labelContainer","NutritionScreen","selectedDate","setSelectedDate","dayEntries","getEntriesByMeal","changeDate","days","setDate","getDate","caloriesProgress","dateNav","dateButton","dateStr","yesterday","formatDate","summaryCard","caloriesHeader","caloriesValue","macrosRow","AddFoodScreen","mode","setMode","searchQuery","setSearchQuery","selectedFood","setSelectedFood","setServings","setNewFood","saveToDatabase","setSaveToDatabase","filteredFoods","toLowerCase","tabs","tab","searchBar","searchInput","selectedCard","selectedHeader","servingsRow","servingsInput","handleAddEntry","foodList","handleSelectFood","createLink","createForm","nutritionTitle","nutritionGrid","nutritionField","nutritionInput","checkboxRow","checkbox","handleCreateFood","marginVertical","flexGrow","FoodDatabaseScreen","savedFoods","scanButton","ScanNutritionScreen","permission","requestPermission","useCameraPermissions","capturedImage","setCapturedImage","isAnalyzing","setIsAnalyzing","extractedData","setExtractedData","analysisError","setAnalysisError","webFallback","centered","camera","overlay","topBar","viewfinder","corner","topLeft","borderLeftWidth","topRight","borderRightWidth","bottomLeft","borderBottomWidth","bottomRight","instruction","bottomBar","galleryButton","captureButton","captureInner","headerButton","previewImage","analyzing","resultCard","resultTitle","resultRow","divider","macroRow","macroItem","errorContainer","MealCreatorScreen","editMealId","existingMeal","mealName","setMealName","setTotalServings","setIngredients","newIngredient","setNewIngredient","amount","selectedFoodReference","setSelectedFoodReference","showStoredFoods","setShowStoredFoods","foodSearch","setFoodSearch","useMemo","search","calculateTotals","ingredientsCard","sectionHeader","ingredientItem","borderBottomColor","ingredientInfo","handleRemoveIngredient","hitSlop","emptyIngredients","storedFoodsCard","storedFoodsHeader","storedFoodsHeaderLeft","storedFoodsHeaderRight","storedFoodsContent","emptyStoredFoods","originalServingSize","originalCalories","originalProtein","originalCarbs","originalFats","originalFiber","handleSelectStoredFood","storedFoodItem","storedFoodInfo","addIngredientCard","ingredientRow","ingredientField","smallInput","newAmount","ratio","nutritionRow","handleAddIngredient","ingredient","totalsCard","totalsRow","totalsColumn","macroList","handleSaveMeal","mealData","minWidth","MyMealsScreen","mealCard","mealHeader","mealInfo","mealActions","handleEditMeal","handleDeleteMeal","nutritionItem","ingredientsList","secondaryButton","LogMealScreen","initialMealType","selectedMealType","setSelectedMealType","selectedMeal","setSelectedMeal","servingsToLog","setServingsToLog","mealTypeSelector","mealTypeButton","charAt","toUpperCase","isSelected","handleSelectMeal","logCard","previewRow","previewNutrition","multiplier","handleLogMeal","EditFoodScreen","existingFood","foodData","setFoodData","NutritionStackNavigator","LineGraph","showDots","showLabels","graphColor","path","dots","minValue","range","paddedMin","paddedMax","paddedRange","graphWidth","graphHeight","points","x","y","pathD","prevPoint","currPoint","midX","emptyState","graphContainer","Line","x1","y1","x2","y2","Path","strokeLinejoin","dot","ceil","SvgText","textAnchor","DAYS","MONTHS","CalendarScreen","currentMonth","setCurrentMonth","showDayModal","setShowDayModal","calendarData","year","getFullYear","getMonth","firstDay","daysInMonth","push","dayWorkouts","hasNutrition","selectedDayData","nutritionTrendData","exerciseProgress","exerciseLog","previousLogs","flatMap","el","currentMax","previousMax","improvement","navigateMonth","direction","newDate","setMonth","monthHeader","monthTitle","navButton","weekHeader","weekDay","calendarGrid","dayCell","aspectRatio","dayInner","dayInnerToday","dayInnerSelected","dayNumber","dayNumberSelected","indicators","indicator","nutritionIndicator","emptyDay","legendContainer","legendDot","legendText","trendsCard","modalOverlay","modalContent","borderTopLeftRadius","borderTopRightRadius","maxHeight","modalHeader","modalTitle","modalScroll","section","workoutCard","workoutDuration","exerciseItem","statItem","statValue","statLabel","improvementBadge","alignSelf","improvementText","nutritionSummary","nutritionLabel","nutritionValue","macroValue","emptyText","setsList","setChip","setChipText","showsVerticalScrollIndicator","handleDayPress","Modal","visible","animationType","onRequestClose","idx","exIdx","handleExercisePress","toFixed","setIdx","SCREEN_WIDTH","ExerciseProgressScreen","progressData","getTime","maxWeight","totalVolume","avgReps","totalSets","totalReps","isBodyweightExercise","every","stats","startMax","totalSessions","currentReps","startReps","repsImprovement","renderChart","chartWidth","CHART_PADDING","chartLabel","chartContainer","yAxis","axisText","point","dataPoint","lineContainer","nextPoint","dx","dy","sqrt","angle","atan2","line","xAxisLabels","sessionsText","statCard","transformOrigin","historySection","historyItem","historyDate","historyStats","historyStat","historyValue","historyLabel","reverse","session","CalendarStackNavigator","SettingsRow","pressed","settingsRow","settingsRowLeft","settingsIcon","settingsRowRight","avatarIcons","mercury","venus","earth","mars","jupiter","saturn","uranus","neptune","planetNames","ProfileScreen","userName","userAvatar","userUnits","isEditingName","setIsEditingName","tempName","setTempName","avatars","handleCancelEditName","profileHeader","nextIndex","indexOf","handleEditName","nameRow","autoFocus","nameInput","modalButtons","modalButton","newUnits","macroDot","maxWidth","GoalsScreen","setGoals","newWeight","setNewWeight","weightData","firstWeight","weightChange","weightSummary","weightStat","Number","logWeightRow","weightInput","handleLogWeight","logButton","goalRow","goalLabel","goalDot","goalInput","BackupScreen","useQueryClient","isExporting","setIsExporting","isImporting","setIsImporting","lastExport","setLastExport","iconCircle","response","backup","backupJson","filename","blob","Blob","downloadUrl","createObjectURL","document","createElement","download","appendChild","click","removeChild","revokeObjectURL","toLocaleString","buttonContent","ActivityIndicator","buttonIcon","result","DocumentPicker","copyToCacheDirectory","canceled","assets","file","uri","parse","version","mergeMode","counts","imported","message","infoSection","infoContent","ProfileStackNavigator","Tab","createBottomTabNavigator","MainTabNavigator","initialRouteName","tabBarActiveTintColor","tabBarInactiveTintColor","tabBarStyle","tabBarBackground","tabBarIcon","MaterialCommunityIcons","_worklet_1195947310797_init_data","AuthScreen","setEmail","setPassword","setError","setIsLoading","showPassword","setShowPassword","tabIndicatorPosition","handleModeChange","newMode","indicatorStyle","AuthScreenTsx1","scrollContent","logoContainer","logo","contentFit","appName","entering","FadeInUp","delay","springify","tabContainer","tabIndicator","tabText","form","inputContainer","inputIcon","autoCapitalize","autoCorrect","paddingRight","secureTextEntry","passwordToggle","err","submitButton","zIndex","LoadingScreen","loading","RootStackNavigator","ErrorFallback","resetError","isModalVisible","setIsModalVisible","reloadAppAsync","restartError","topButton","modalContainer","modalScrollView","modalScrollContent","errorText","ErrorBoundary","Component","static","FallbackComponent","getDerivedStateFromError","componentDidCatch","this","onError","componentStack","render","root","registerRootComponent","QueryClientProvider","client","SafeAreaProvider","GestureHandlerRootView","KeyboardProvider","NavigationContainer","StatusBar","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","fulfilled","j","keys","key","splice","n","getter","__esModule","definition","o","defineProperty","enumerable","g","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}